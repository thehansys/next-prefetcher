"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const baseValidator_1 = require("./baseValidator");
const conditions_1 = require("./conditions");
class CorsOptionsValidator extends baseValidator_1.BaseValidator {
    constructor() {
        super();
        this.ruleFor('origin').must(conditions_1.beStringWhenNotNull);
        this.ruleFor('methods')
            .must(conditions_1.beArrayWhenNotNull)
            .must((v, m) => v.every(p => typeof p === 'string'))
            .withMessage('all elements must be of string instance')
            .when(p => conditions_1.notNull(p.methods));
        this.ruleFor('headers')
            .must(conditions_1.beArrayWhenNotNull)
            .must((v, m) => v.every(p => typeof p === 'string'))
            .withMessage('all elements must be of string instance')
            .when(p => conditions_1.notNull(p.headers));
        this.ruleFor('maxAge').must(conditions_1.beNumberWhenNotNull);
        this.ruleFor('credentials').must(conditions_1.beBooleanWhenNotNull);
    }
}
exports.CorsOptionsValidator = CorsOptionsValidator;
