"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const baseValidator_1 = require("./baseValidator");
const conditions_1 = require("./conditions");
class ProxyOptionsValidator extends baseValidator_1.BaseValidator {
    constructor() {
        super();
        this.ruleFor('headers').must(conditions_1.beObjectWhenNotNull);
        this.ruleFor('path')
            .must(p => conditions_1.beString.predicate(p) || conditions_1.beFunction.predicate(p))
            .withMessage('must be non empty string or a function')
            .must(p => (typeof p === 'string' ? p.length > 0 : true))
            .withMessage('must be non empty string')
            .when(p => conditions_1.notNull(p.path));
        this.ruleFor('transformRequest').must(conditions_1.beFunctionWhenNotNull);
        this.ruleFor('transformResponse').must(conditions_1.beFunctionWhenNotNull);
    }
}
exports.ProxyOptionsValidator = ProxyOptionsValidator;
