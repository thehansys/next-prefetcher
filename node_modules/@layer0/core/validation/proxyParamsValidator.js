"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const baseValidator_1 = require("./baseValidator");
const conditions_1 = require("./conditions");
const proxyOptionsValidator_1 = require("./proxyOptionsValidator");
class ProxyParamsValidator extends baseValidator_1.BaseValidator {
    constructor() {
        super();
        this.ruleFor('backend')
            .must(conditions_1.beString)
            .must(p => p.length > 0)
            .withMessage('must be greater than 0');
        this.ruleFor('options')
            .must(conditions_1.beObjectWhenNotNull)
            .setValidator(() => new proxyOptionsValidator_1.ProxyOptionsValidator())
            .when(p => conditions_1.notNull(p.options));
    }
}
exports.ProxyParamsValidator = ProxyParamsValidator;
