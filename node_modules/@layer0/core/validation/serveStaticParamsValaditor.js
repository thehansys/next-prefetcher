"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const baseValidator_1 = require("./baseValidator");
const conditions_1 = require("./conditions");
class ServeStaticOptionsValidator extends baseValidator_1.BaseValidator {
    constructor() {
        super();
        this.ruleFor('onNotFound').must(conditions_1.beFunctionWhenNotNull);
        this.ruleFor('loadingPage').must(conditions_1.beStringWhenNotNull);
        this.ruleFor('expiresSeconds').must(conditions_1.beNumberWhenNotNull);
        this.ruleFor('statusCode').must(conditions_1.beNumberWhenNotNull);
        this.ruleFor('statusMessage').must(conditions_1.beStringWhenNotNull);
        this.ruleFor('permanent').must(conditions_1.beBooleanWhenNotNull);
        this.ruleFor('exclude').must(conditions_1.beArrayWhenNotNull);
        this.ruleForEach('exclude')
            .must((v, m) => conditions_1.beString.predicate(v))
            .withMessage('each element in an array must be the string')
            .when(p => conditions_1.notNull(p.exclude));
    }
}
class ServeStaticParamsValidator extends baseValidator_1.BaseValidator {
    constructor() {
        super();
        this.ruleFor('options').setValidator(p => new ServeStaticOptionsValidator());
        this.ruleFor('path').must(conditions_1.beString);
    }
}
exports.ServeStaticParamsValidator = ServeStaticParamsValidator;
