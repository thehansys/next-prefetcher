var iA=Object.defineProperty,aA=Object.defineProperties;var oA=Object.getOwnPropertyDescriptors;var Js=Object.getOwnPropertySymbols;var Xf=Object.prototype.hasOwnProperty,Qf=Object.prototype.propertyIsEnumerable;var Jf=(t,e,r)=>e in t?iA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H=(t,e)=>{for(var r in e||(e={}))Xf.call(e,r)&&Jf(t,r,e[r]);if(Js)for(var r of Js(e))Qf.call(e,r)&&Jf(t,r,e[r]);return t},Y=(t,e)=>aA(t,oA(e));var Zf=(t,e)=>{var r={};for(var n in t)Xf.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Js)for(var n of Js(t))e.indexOf(n)<0&&Qf.call(t,n)&&(r[n]=t[n]);return r};var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var be=h(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.LAYER0_CONFIG_FILE="layer0.config.js";ne.LAYER0_ASSET_ALIASES_FILE="asset-aliases.json";ne.LAYER0_ENV_VARIABLES={config:"LAYER0_CONFIG",deploymentType:"LAYER0_DEPLOYMENT_TYPE",versionOverride:"LAYER0_VERSION_OVERRIDE"};ne.LAYER0_DEPLOYMENT_TYPE_AWS="AWS";ne.LAYER0_HEADERS_PREFIX="x-0-";ne.LAYER0_MAX_USER_HEADERS_ALLOWED=70;ne.LAYER0_TOO_MANY_HEADERS_STATUS_CODE=542;ne.LAYER0_UNCACHED_PREFETCH_STATUS=412;ne.ACTIONS={setHeader:"set-header",updateHeader:"update-header",removeHeader:"remove-header",syntheticRes:"synthetic-response",updatePath:"update-path",proxy:"proxy",addCookie:"add-cookie",updateCookie:"update-cookie",removeCookie:"remove-cookie"};ne.BACKENDS={js:"__js__",static:"__static__",permanentStatic:"__permanent_static__",imageOptimizer:"__image_optimizer__"};ne.JS_BACKEND_HOSTNAME="127.0.0.1";ne.HTTP_METHODS={head:"head",get:"get",post:"post",delete:"delete",put:"put",patch:"patch",options:"options"};ne.HTTP_HEADERS={authorization:"authorization",acceptEncoding:"accept-encoding",cacheControl:"cache-control",contentEncoding:"content-encoding",contentLength:"content-length",contentType:"content-type",cookie:"cookie",host:"host",location:"location",serverTiming:"server-timing",setCookie:"set-cookie",userAgent:"user-agent",vary:"vary",via:"via",xForwardedFor:"x-forwarded-for",xRequestId:"x-request-id",xSwCacheControl:"x-sw-cache-control",x0Browser:"x-0-browser",x0CacheControl:"x-0-cache-control",x0CachingStatus:"x-0-caching-status",x0ClientIp:"x-0-client-ip",x0Components:"x-0-components",x0Destination:"x-0-destination",x0Device:"x-0-device",x0DeviceIsBot:"x-0-device-is-bot",x0GeoCity:"x-0-geo-city",x0GeoCountryCode:"x-0-geo-country-code",x0GeoLatitude:"x-0-geo-latitude",x0GeoLongitude:"x-0-geo-longitude",x0GeoPostalCode:"x-0-geo-postal-code",x0MatchedRoutes:"x-0-matched-routes",x0Protocol:"x-0-protocol",x0Route:"x-0-route",x0Status:"x-0-status",x0SurrogateKey:"x-0-surrogate-key",x0T:"x-0-t",x0UserT:"x-0-user-t",x0Vendor:"x-0-vendor",x0Version:"x-0-version"};ne.CACHING_STATUS={ok:"ok",private:"private",method:"method",bodyTooBig:"body-too-big",code:"code",setCookie:"set-cookie",noMaxAge:"no-max-age"};ne.CACHEABLE_METHODS=new Set(["get","head"]);ne.THROTTLED_QUERY_PARAM="layer0_prefetch";ne.PREFETCH_QUERY_PARAM=ne.THROTTLED_QUERY_PARAM;ne.DEVTOOLS_PREFETCH_QUERY_PARAM="layer0_dt_pf";ne.HEAD_QUERY_PARAM="layer0_head";ne.POST_BODY_QUERY_PARAM="pref_layer0_body";ne.METHOD_QUERY_PARAM="pref_layer0_method";ne.ROUTES_FALLBACK="fallback";ne.ROUTES_CATCH_GROUP="catch";ne.ROUTES_NOINDEX_GROUP="noindex";ne.LAYER0_IMAGE_OPTIMIZER_PATH="/__layer0_image_optimizer";ne.IS_BROWSER=typeof window!="undefined";ne.BROTLI_ENCODING="br";ne.GZIP_ENCODING="gzip"});var qt=h(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var ed=be();function td(){return process.env[ed.LAYER0_ENV_VARIABLES.deploymentType]===ed.LAYER0_DEPLOYMENT_TYPE_AWS}sr.isCloud=td;function uA(){return process.env.LAYER0_LOCAL==="true"}sr.isLocal=uA;function rd(){return process.env.NODE_ENV==="production"}sr.isProductionBuild=rd;function lA(){return!td()&&!rd()}sr.isLayer0RunDev=lA;function cA(){return typeof window!="undefined"}sr.isBrowser=cA});var jr=h((kD,nd)=>{"use strict";nd.exports=t=>{let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}});var ot=h((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var slash_1=__importDefault(jr());function nonWebpackRequire(modulePath,{ignoreErrors=!1}={}){try{return eval("require")(slash_1.default(modulePath))}catch(t){if(ignoreErrors)return;throw t}}exports.default=nonWebpackRequire});var ud=h(ir=>{"use strict";var fA=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ir,"__esModule",{value:!0});var dA=qt(),sd=fA(ot()),id="layer0",oo;function hA(t){return dA.isLocal()?pA().runAndReturn(t):(global.__layer0_timings__=new od,t())}ir.withContext=hA;function ad(){return global.__layer0_timings__||gA()}function pA(){let t=sd.default("cls-hooked");return oo||(oo=t.createNamespace(id)),oo}function gA(){return sd.default("cls-hooked").getNamespace(id)}function yA(t,e){try{let r=ad(),n=r.get(t);return n==null&&(n=e,r.set(t,e)),n}catch{return e}}ir.get=yA;function mA(t,e){try{ad().set(t,e)}catch{throw new Error("set must be called within withContext")}}ir.set=mA;var od=class{constructor(){this.values={}}get(e){return this.values[e]}set(e,r){this.values[e]=r}}});var ho=h(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});var Zs=be(),uo=ud();Ve.NOT_ENDED_VALUE="na";var lo=class{constructor(e,r=!0){this.duration=0,this.ended=!1,this.name=e,(r?co():fo()).push(this)}start(){return this.startTime=new Date,this.ended=!1,this}set(e){return this.discreteValue=e,this}end(){return this.startTime?(this.ended=!0,this.duration+=new Date().getTime()-this.startTime.getTime(),this):(console.warn(`Timing ${this.name} not started.`),this)}pause(){return this.end()}resume(){return this.start()}get value(){return this.discreteValue!=null?this.discreteValue:this.ended?this.duration:Ve.NOT_ENDED_VALUE}};Ve.InternalTiming=lo;function vA(t){return(...e)=>uo.withContext(()=>t(...e))}Ve.withTimings=vA;function _A(t){var e;return(e=co().find(r=>r.name===t))===null||e===void 0?void 0:e.value}Ve.getInternalTiming=_A;function co(){return uo.get("internalTimings",[])}function fo(){return uo.get("userTimings",[])}function bA(t){let e=fo(),r=co();e.length&&(t.setHeader(Zs.HTTP_HEADERS.x0UserT,ld(e)),t.setHeader(Zs.HTTP_HEADERS.serverTiming,EA(t))),r.length&&t.setHeader(Zs.HTTP_HEADERS.x0T,ld(r))}Ve.addTimings=bA;function ld(t){return t.map(e=>`${e.name}=${e.value}`).join(",")}function EA(t){let e=t.getHeader(Zs.HTTP_HEADERS.serverTiming),r=fo().map(n=>`${n.name};dur=${n.value}`);return Array.isArray(e)?r.push(...e):e&&r.push(e),r.join(", ")}var cd=class extends lo{constructor(e){super(e,!1)}};Ve.default=cd;var RA;(function(t){t.edgeCache="ecc",t.transformRequest="wa",t.transformResponse="wz",t.routeMatching="wr",t.proxying="wp"})(RA=Ve.InternalNames||(Ve.InternalNames={}));var AA;(function(t){t.hit="hit",t.pass="pass",t.cached="cached"})(AA=Ve.CacheValue||(Ve.CacheValue={}))});var go=h(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.default=xA;var SA=wA(require("crypto"));function wA(t){return t&&t.__esModule?t:{default:t}}var ei=new Uint8Array(256),ti=ei.length;function xA(){return ti>ei.length-16&&(SA.default.randomFillSync(ei),ti=0),ei.slice(ti,ti+=16)}});var fd=h(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.default=void 0;var PA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ri.default=PA});var In=h(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.default=void 0;var CA=TA(fd());function TA(t){return t&&t.__esModule?t:{default:t}}function OA(t){return typeof t=="string"&&CA.default.test(t)}var NA=OA;ni.default=NA});var kn=h(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.default=void 0;var HA=LA(In());function LA(t){return t&&t.__esModule?t:{default:t}}var Ce=[];for(let t=0;t<256;++t)Ce.push((t+256).toString(16).substr(1));function MA(t,e=0){let r=(Ce[t[e+0]]+Ce[t[e+1]]+Ce[t[e+2]]+Ce[t[e+3]]+"-"+Ce[t[e+4]]+Ce[t[e+5]]+"-"+Ce[t[e+6]]+Ce[t[e+7]]+"-"+Ce[t[e+8]]+Ce[t[e+9]]+"-"+Ce[t[e+10]]+Ce[t[e+11]]+Ce[t[e+12]]+Ce[t[e+13]]+Ce[t[e+14]]+Ce[t[e+15]]).toLowerCase();if(!(0,HA.default)(r))throw TypeError("Stringified UUID is invalid");return r}var qA=MA;si.default=qA});var pd=h(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.default=void 0;var IA=dd(go()),kA=dd(kn());function dd(t){return t&&t.__esModule?t:{default:t}}var hd,yo,mo=0,vo=0;function DA(t,e,r){let n=e&&r||0,s=e||new Array(16);t=t||{};let i=t.node||hd,a=t.clockseq!==void 0?t.clockseq:yo;if(i==null||a==null){let f=t.random||(t.rng||IA.default)();i==null&&(i=hd=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),a==null&&(a=yo=(f[6]<<8|f[7])&16383)}let o=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:vo+1,l=o-mo+(u-vo)/1e4;if(l<0&&t.clockseq===void 0&&(a=a+1&16383),(l<0||o>mo)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mo=o,vo=u,yo=a,o+=122192928e5;let c=((o&268435455)*1e4+u)%4294967296;s[n++]=c>>>24&255,s[n++]=c>>>16&255,s[n++]=c>>>8&255,s[n++]=c&255;let d=o/4294967296*1e4&268435455;s[n++]=d>>>8&255,s[n++]=d&255,s[n++]=d>>>24&15|16,s[n++]=d>>>16&255,s[n++]=a>>>8|128,s[n++]=a&255;for(let f=0;f<6;++f)s[n+f]=i[f];return e||(0,kA.default)(s)}var $A=DA;ii.default=$A});var _o=h(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.default=void 0;var FA=jA(In());function jA(t){return t&&t.__esModule?t:{default:t}}function BA(t){if(!(0,FA.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var VA=BA;ai.default=VA});var bo=h(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.default=KA;ar.URL=ar.DNS=void 0;var UA=gd(kn()),GA=gd(_o());function gd(t){return t&&t.__esModule?t:{default:t}}function WA(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var yd="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ar.DNS=yd;var md="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ar.URL=md;function KA(t,e,r){function n(s,i,a,o){if(typeof s=="string"&&(s=WA(s)),typeof i=="string"&&(i=(0,GA.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+s.length);if(u.set(i),u.set(s,i.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){o=o||0;for(let l=0;l<16;++l)a[o+l]=u[l];return a}return(0,UA.default)(u)}try{n.name=t}catch{}return n.DNS=yd,n.URL=md,n}});var vd=h(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;var YA=zA(require("crypto"));function zA(t){return t&&t.__esModule?t:{default:t}}function XA(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),YA.default.createHash("md5").update(t).digest()}var QA=XA;oi.default=QA});var bd=h(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var JA=_d(bo()),ZA=_d(vd());function _d(t){return t&&t.__esModule?t:{default:t}}var eS=(0,JA.default)("v3",48,ZA.default),tS=eS;ui.default=tS});var Rd=h(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.default=void 0;var rS=Ed(go()),nS=Ed(kn());function Ed(t){return t&&t.__esModule?t:{default:t}}function sS(t,e,r){t=t||{};let n=t.random||(t.rng||rS.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return(0,nS.default)(n)}var iS=sS;li.default=iS});var Ad=h(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;var aS=oS(require("crypto"));function oS(t){return t&&t.__esModule?t:{default:t}}function uS(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),aS.default.createHash("sha1").update(t).digest()}var lS=uS;ci.default=lS});var wd=h(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.default=void 0;var cS=Sd(bo()),fS=Sd(Ad());function Sd(t){return t&&t.__esModule?t:{default:t}}var dS=(0,cS.default)("v5",80,fS.default),hS=dS;fi.default=hS});var xd=h(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.default=void 0;var pS="00000000-0000-0000-0000-000000000000";di.default=pS});var Pd=h(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var gS=yS(In());function yS(t){return t&&t.__esModule?t:{default:t}}function mS(t){if(!(0,gS.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var vS=mS;hi.default=vS});var Cd=h(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});Object.defineProperty(tt,"v1",{enumerable:!0,get:function(){return _S.default}});Object.defineProperty(tt,"v3",{enumerable:!0,get:function(){return bS.default}});Object.defineProperty(tt,"v4",{enumerable:!0,get:function(){return ES.default}});Object.defineProperty(tt,"v5",{enumerable:!0,get:function(){return RS.default}});Object.defineProperty(tt,"NIL",{enumerable:!0,get:function(){return AS.default}});Object.defineProperty(tt,"version",{enumerable:!0,get:function(){return SS.default}});Object.defineProperty(tt,"validate",{enumerable:!0,get:function(){return wS.default}});Object.defineProperty(tt,"stringify",{enumerable:!0,get:function(){return xS.default}});Object.defineProperty(tt,"parse",{enumerable:!0,get:function(){return PS.default}});var _S=vt(pd()),bS=vt(bd()),ES=vt(Rd()),RS=vt(wd()),AS=vt(xd()),SS=vt(Pd()),wS=vt(In()),xS=vt(kn()),PS=vt(_o());function vt(t){return t&&t.__esModule?t:{default:t}}});var Eo=h(Dn=>{"use strict";var Td=Dn&&Dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dn,"__esModule",{value:!0});var CS=Td(require("url")),TS=Td(require("querystring")),Od=class{constructor(e,r,n){}_readRedirectParams(e,r){let{statusCode:n=302,query:s={}}=typeof r=="number"?{statusCode:r}:r,i={},a=CS.default.parse(e);return(a==null?void 0:a.search)&&(e=e.substr(0,e.length-a.search.length),i=TS.default.parse(a.query)),{to:e,statusCode:n,query:H(H({},i),s)}}cache(e){}redirect(e,r){}proxy(e,r){}render(e){}stream(e){}serveStatic(e,r){}updatePath(e){}rewrite(e,r){}setRequestHeader(e,r){}updateRequestHeader(e,r,n){}removeRequestHeader(e){}setUpstreamResponseHeader(e,r){}updateUpstreamResponseHeader(e,r,n){}removeUpstreamResponseHeader(e){}verifyJwt(e){}setResponseHeader(e,r){}updateResponseHeader(e,r,n){}removeResponseHeader(e){}addResponseCookie(e,r,n){}updateResponseCookie(e,r,n){}removeResponseCookie(e){}addUpstreamResponseCookie(e,r,n){}updateUpstreamResponseCookie(e,r,n){}removeUpstreamResponseCookie(e){}send(e,r,n){}compute(e){}serviceWorker(e){}allowCors(e){}appShell(e){}renderWithApp(e){}};Dn.BaseResponseWriter=Od});var $n=h(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});var OS=t=>t;function NS(t,e,r=OS){let n={};return Object.entries(t).every(([s,i])=>{let a=e[r(s)];if(i===null)return a===void 0;if(typeof i=="string"){if(typeof a=="string"&&Hd(i)){let o=Ld(i);return n[o]=a,!0}i=new RegExp(`^${i}$`,"i")}return Ro(i,a)})&&n}or.matchCriteriaRegexObjectWithRequestObject=NS;function Nd(t,e){return Object.entries(e).every(([r,n])=>{let s=t[r];return s?n instanceof RegExp?Ro(n,s):typeof n=="object"&&n!==null?Nd(s,n):s==n:!1})}or.deepMatchObject=Nd;function Hd(t){return typeof t=="string"&&/^:\w+$/.test(t)}or.isParamMatcher=Hd;function Ld(t){return t.slice(1)}or.paramMatcherToParam=Ld;function Ro(t,e){return e==null?!1:(t.global&&(t=new RegExp(t)),Array.isArray(e)?e.some(r=>t.test(r)):t.test(e))}or.testRegExp=Ro});var So=h(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});function HS(t,e){let r={};for(let[n,s]of Object.entries(t))r[n]=e(s,n);return r}Ao.default=HS});var Md=h(Fn=>{"use strict";var LS=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});var MS=$n(),qS=LS(So()),ur=class{constructor(e){this.entries=e||[]}get cacheableEntries(){return this.entries.filter(ur.isEntryCacheable)}get spaRoutes(){return this.cacheableEntries.filter(({cacheOptions:e})=>e.browser&&e.browser.spa).map(({route:e})=>new RegExp(e,"i"))}shouldPrefetch(e){let r=!1;return this.entries.some(n=>ur.entryMatches(n,e)?(r=ur.isEntryCacheable(n)||!!n.cacheOptions.prefetchUpstreamRequests,r||n.returnsResponse):!1),r}static entryMatches(e,r){return new RegExp(e.route,"i").test(r.pathname)&&MS.matchCriteriaRegexObjectWithRequestObject(qS.default(e.query||{},n=>n?new RegExp(n,"i"):null),Object.fromEntries(Array.from(r.searchParams.entries())))&&(e.protocol?new RegExp(e.protocol,"i").test(r.protocol):!0)}static isEntryCacheable({cacheOptions:e}){return!!(e.browser&&(e.browser.serviceWorkerSeconds||0)>0&&e.edge&&(e.edge.maxAgeSeconds||0)>0)}static fromEntries(e){return new ur(e)}toJSON(){return JSON.stringify(this.entries)}};Fn.default=ur});var kd=h(jn=>{"use strict";var qd=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jn,"__esModule",{value:!0});var IS=Eo(),kS=qd(Md()),DS=qd(So());function $S(t){let e=new kS.default,r=n=>{if(n!==void 0)return n instanceof RegExp?n.source:n};for(let n of t.routeGroups.getRoutes()){let s=new Id;n.handler(s);let i={criteriaPath:n.criteria.path,route:n.toRegexString(),method:r(n.criteria.method),protocol:r(n.criteria.protocol),cacheOptions:s.cacheOptions,returnsResponse:s.returnsResponse};n.criteria.query&&(i.query=DS.default(n.criteria.query,a=>a?a.source:null)),!(n.criteria.headers||n.criteria.cookies)&&e.entries.push(i)}return e}jn.default=$S;var Id=class extends IS.BaseResponseWriter{constructor(){super(...arguments);this.response={},this.request={},this.cacheOptions={},this.returnsResponse=!1,this.doesReturnResponse=()=>this.returnsResponse=!0,this.cache=e=>{this.cacheOptions=e},this.send=this.doesReturnResponse,this.compute=this.doesReturnResponse,this.proxy=this.doesReturnResponse,this.redirect=this.doesReturnResponse,this.render=this.doesReturnResponse,this.serveStatic=this.doesReturnResponse,this.serviceWorker=this.doesReturnResponse,this.renderWithApp=this.doesReturnResponse,this.appShell=this.doesReturnResponse,this.stream=this.doesReturnResponse}}});var jd=h((a$,Fd)=>{var FS=require("path"),jS=60*60*24*365*10,BS={edge:{maxAgeSeconds:jS},browser:!1},Dd="layer0_devtools_enabled",VS="layer0_devtools_env_enabled";function $d(){return process.env.LAYER0_DEVTOOLS_ENABLED?process.env.LAYER0_DEVTOOLS_ENABLED==="true":process.env.PREVIEW_LAYER0_DEVTOOLS_ENABLED?process.env.PREVIEW_LAYER0_DEVTOOLS_ENABLED==="true":null}Fd.exports=function({router:e,local:r}){$d()!==null&&e.match("/(.*)",({addResponseCookie:n})=>{n(VS,`${$d()}; Path=/`)}),r&&e.get("/__layer0__/caching",n=>{n.send(JSON.stringify({local:r,enabled:process.env.LAYER0_CACHE==="true"}))}).post("/__layer0__/caching",n=>{let s=n.request.query;s&&(process.env.LAYER0_CACHE=s.enabled),n.send("done")}),e.get("/__layer0__/devtools/enable",({redirect:n,addResponseCookie:s})=>{s(Dd,"true; Path=/"),n("/")}).get("/__layer0__/devtools/disable",({redirect:n,addResponseCookie:s})=>{s(Dd,"false; Path=/"),n("/")}).match("/__layer0__/devtools/:path*",({cache:n,serveStatic:s})=>{n(BS),s(FS.join("node_modules","@layer0","devtools","widget",":path*"))})}});var Bd=h(Bn=>{"use strict";var US=Bn&&Bn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});var GS=US(kd()),WS=qt();function KS(t){YS(t);try{jd()({router:t,local:WS.isLocal()})}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}}Bn.default=KS;function YS(t){t.match("/__layer0__/cache-manifest.js",({cache:e,setResponseHeader:r,send:n,allowCors:s})=>{e({edge:{maxAgeSeconds:60*60*24*365},browser:{maxAgeSeconds:60*60}}),r("content-type","text/javascript"),s(),n(()=>`self.__LAYER0_CACHE_MANIFEST__=${GS.default(t).toJSON()}`)})}});var Vd=h(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var zS=new Set(["cache","setRequestHeader","updateRequestHeader","removeRequestHeader","setResponseHeader","updateResponseHeader","removeResponseHeader","setUpstreamResponseHeader","updateUpstreamResponseHeader","removeUpstreamResponseHeader","addResponseCookie","updateResponseCookie","removeResponseCookie","addUpstreamResponseCookie","updateUpstreamResponseCookie","removeUpstreamResponseCookie"]),XS=t=>{let e=(r,n)=>async function(...s){if(!!r.runningImmediately)return await r[n](...s)}.bind(r);return new Proxy(t,{get:(r,n)=>n==="serveStatic"?QS(r,r.serveStatic):zS.has(n.toString())?e(r,n):r[n]})};wo.default={create:XS};function QS(t,e){return async(r,n={})=>{if(t.runningImmediately)return e.call(t,r,n);if(n.onNotFound)t.setCreateResponseAction(()=>t.runImmediately(()=>n.onNotFound(t)));else throw new Error("Should not get to serveStatic without onNotFound when running behind the edge.")}}});var pi=h(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});function JS(t,e){let r=t,n=e.split(".");for(let s of n){if(typeof r=="undefined")return;r=r[s]}return r}xo.default=JS});var Ud=h(Vn=>{"use strict";var ZS=Vn&&Vn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});var ew=ZS(pi());function tw(t,e){return!!ew.default(t,e)}Vn.default=tw});var Yd=h((f$,Kd)=>{"use strict";var rw=function(e){return nw(e)&&!sw(e)};function nw(t){return!!t&&typeof t=="object"}function sw(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ow(t)}var iw=typeof Symbol=="function"&&Symbol.for,aw=iw?Symbol.for("react.element"):60103;function ow(t){return t.$$typeof===aw}function uw(t){return Array.isArray(t)?[]:{}}function Un(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Br(uw(t),t,e):t}function lw(t,e,r){return t.concat(e).map(function(n){return Un(n,r)})}function cw(t,e){if(!e.customMerge)return Br;var r=e.customMerge(t);return typeof r=="function"?r:Br}function fw(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function Gd(t){return Object.keys(t).concat(fw(t))}function Wd(t,e){try{return e in t}catch{return!1}}function dw(t,e){return Wd(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function hw(t,e,r){var n={};return r.isMergeableObject(t)&&Gd(t).forEach(function(s){n[s]=Un(t[s],r)}),Gd(e).forEach(function(s){dw(t,s)||(Wd(t,s)&&r.isMergeableObject(e[s])?n[s]=cw(s,r)(t[s],e[s],r):n[s]=Un(e[s],r))}),n}function Br(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||lw,r.isMergeableObject=r.isMergeableObject||rw,r.cloneUnlessOtherwiseSpecified=Un;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):hw(t,e,r):Un(e,r)}Br.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Br(n,s,r)},{})};var pw=Br;Kd.exports=pw});var Zd=h(Gn=>{"use strict";var gw=Gn&&Gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gn,"__esModule",{value:!0});var zd=require("os"),gi=be(),yw=qt(),mw=gw(ot()),Po={$id:"/domainOrIpSchema",type:"string"},Xd={$id:"/backendObjectSchema",type:"object",properties:{domainOrIp:{$ref:Po.$id},port:{type:"number",minimum:1,maximum:65535},hostHeader:{type:"string"},disableCheckCert:{type:"boolean"},firstByteTimeout:{type:"number"},basePath:{type:"string"}},additionalProperties:!1,required:["domainOrIp"]},Qd={$id:"/backendSchema",type:"object",patternProperties:{"^.*$":{oneOf:[{$ref:Po.$id},{$ref:Xd.$id}]}}},Co={$id:"/layer0FileConfigurationSchema",type:"object",properties:{name:{type:"string"},team:{type:"string"},prerenderConcurrency:{type:"number"},production:{type:"boolean"},routes:{type:"string"},server:{type:"object",required:["path"],properties:{path:{type:"string"},export:{type:"string"}}},includeFiles:{type:"object"},sources:{type:"array",items:{type:"string"}},backends:{$ref:Qd.$id},includeNodeModules:{type:"boolean"},connector:{type:"string"}},additionalProperties:!1,required:[]},Jd=class{static validateLayer0FileConfiguration(e){var r;if(yw.isCloud())return e;let n=mw.default("ajv");if(e.connector)try{let o=require(`${e.connector}/configSchema`);Object.assign(Co.properties,o)}catch{}let s=new n({allErrors:!0,schemas:[Co,Qd,Xd,Po]}),i=[],a=s.getSchema(Co.$id);if(((r=e.backends)===null||r===void 0?void 0:r.moov)!=null&&i.push({message:"is a reserved backend name",dataPath:".backends['moov']"}),e.backends&&e.backends[gi.BACKENDS.static]&&i.push({message:"is a reserved backend name",dataPath:`.backends.${gi.BACKENDS.static}`}),e.backends&&e.backends[gi.BACKENDS.js]&&i.push({message:"is a reserved backend name",dataPath:`.backends.${gi.BACKENDS.js}`}),!a(e)&&a.errors&&(i=[...i,...a.errors]),i.length){let o=i.map((u,l)=>{let c=`${l+1}) config${u.dataPath}: ${u.message}`;return u.keyword==="additionalProperties"&&(c+=` '${u.params.additionalProperty}'`),c}).join(zd.EOL);throw new Error(`Layer0 configuration validation failed with errors: ${zd.EOL}${o}`)}return e}};Gn.default=Jd});var It=h(Yn=>{"use strict";var Wn=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});var vw=Wn(pi()),_w=Wn(Ud()),bw=Wn(Yd()),eh=require("fs"),To=require("path"),Kn=be(),Ew=Wn(Zd()),Rw=Wn(ot()),th=class{constructor(){this.defaults={production:!0,backends:{},includeNodeModules:!1,routes:["routes.js","routes.ts","routes.cjs"].find(e=>eh.existsSync(To.join(process.cwd(),e)))||"routes.js"}}get(e,r){if(this.has(e))return vw.default(this.values,e);if(typeof r!="undefined")return r;throw new Error(`Layer0 configuration key: "${e}" is not defined`)}has(e){return this.values||this.loadLayer0Config(),_w.default(this.values,e)}get all(){return this.values||this.loadLayer0Config(),this.values}loadLayer0Config(){let e=this.loadFromFile(),r=this.loadFromEnv();this.values=bw.default.all([{},this.defaults,e,r])}loadFromFile(){let e=[To.join(process.cwd(),Kn.LAYER0_CONFIG_FILE),To.join(process.cwd(),Kn.LAYER0_CONFIG_FILE.replace(".js",".cjs"))].find(eh.existsSync);if(e)try{let r=Rw.default(e);return Ew.default.validateLayer0FileConfiguration(r)}catch(r){throw new Error(`Failed to load ${e}: ${r.message}`)}return{}}loadFromEnv(){if(process.env[Kn.LAYER0_ENV_VARIABLES.config])try{return JSON.parse(process.env[Kn.LAYER0_ENV_VARIABLES.config])}catch{throw new Error(`Layer0 configuration variable: ${Kn.LAYER0_ENV_VARIABLES.config}, is not parsable as json`)}return{}}};Yn.default=new th});var mi=h(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});function Aw(t){return`${t.ignoreCase?"(?i)":""}${t.source}`.replace(/\\\//g,"/")}yi.default=Aw;function Sw(t){let e=t.indexOf("(?i)")===0;return e&&(t=t.slice("(?i)".length)),new RegExp(t.replace(/\//g,"/"),e?"i":"")}yi.fromEdgeRegex=Sw});var rh=h(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function ww(t){return new RegExp(`^${t}$`,"i")}Oo.default=ww});var sh=h(zn=>{"use strict";var xw=zn&&zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});var nh=xw(mi());function Pw(t){let e;return t===null?e=null:typeof t=="string"?e=nh.default(new RegExp(`^${t}$`,"i")):e=nh.default(t),e}zn.default=Pw});var vi=h(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.default=(t,e)=>{let r=t;if(/(^|[^$]){/.test(t))throw new Error(`{variable} syntax in the path option is no longer supported, use :variable instead (${t})`);for(let n in e){let s=e[n];Array.isArray(s)&&(s=s.join("/")),r=r.replace(new RegExp(`:${n}(\\([^)]*\\))?[?*+]?`,"g"),s===void 0?"":s)}return r=r.replace(/:\w+(\*|\+|\?)?/,""),r=r.replace("\\?","?"),r=r.replace(/\/+/g,"/").replace(/^([^:]+:)\//gi,"$1//"),r}});var _i=h(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.pathToRegexp=Ne.tokensToRegexp=Ne.regexpToFunction=Ne.match=Ne.tokensToFunction=Ne.compile=Ne.parse=void 0;function Cw(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var s="",i=r+1;i<t.length;){var a=t.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){s+=t[i++];continue}break}if(!s)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:s}),r=i;continue}if(n==="("){var o=1,u="",i=r+1;if(t[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<t.length;){if(t[i]==="\\"){u+=t[i++]+t[i++];continue}if(t[i]===")"){if(o--,o===0){i++;break}}else if(t[i]==="("&&(o++,t[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));u+=t[i++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(r));if(!u)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:u}),r=i;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function Ho(t,e){e===void 0&&(e={});for(var r=Cw(t),n=e.prefixes,s=n===void 0?"./":n,i="[^".concat(Vr(e.delimiter||"/#?"),"]+?"),a=[],o=0,u=0,l="",c=function(V){if(u<r.length&&r[u].type===V)return r[u++].value},d=function(V){var M=c(V);if(M!==void 0)return M;var T=r[u],U=T.type,Q=T.index;throw new TypeError("Unexpected ".concat(U," at ").concat(Q,", expected ").concat(V))},f=function(){for(var V="",M;M=c("CHAR")||c("ESCAPED_CHAR");)V+=M;return V};u<r.length;){var p=c("CHAR"),g=c("NAME"),y=c("PATTERN");if(g||y){var _=p||"";s.indexOf(_)===-1&&(l+=_,_=""),l&&(a.push(l),l=""),a.push({name:g||o++,prefix:_,suffix:"",pattern:y||i,modifier:c("MODIFIER")||""});continue}var E=p||c("ESCAPED_CHAR");if(E){l+=E;continue}l&&(a.push(l),l="");var L=c("OPEN");if(L){var _=f(),B=c("NAME")||"",$=c("PATTERN")||"",k=f();d("CLOSE"),a.push({name:B||($?o++:""),pattern:B&&!$?i:$,prefix:_,suffix:k,modifier:c("MODIFIER")||""});continue}d("END")}return a}Ne.parse=Ho;function Tw(t,e){return ih(Ho(t,e),e)}Ne.compile=Tw;function ih(t,e){e===void 0&&(e={});var r=Lo(e),n=e.encode,s=n===void 0?function(u){return u}:n,i=e.validate,a=i===void 0?!0:i,o=t.map(function(u){if(typeof u=="object")return new RegExp("^(?:".concat(u.pattern,")$"),r)});return function(u){for(var l="",c=0;c<t.length;c++){var d=t[c];if(typeof d=="string"){l+=d;continue}var f=u?u[d.name]:void 0,p=d.modifier==="?"||d.modifier==="*",g=d.modifier==="*"||d.modifier==="+";if(Array.isArray(f)){if(!g)throw new TypeError('Expected "'.concat(d.name,'" to not repeat, but got an array'));if(f.length===0){if(p)continue;throw new TypeError('Expected "'.concat(d.name,'" to not be empty'))}for(var y=0;y<f.length;y++){var _=s(f[y],d);if(a&&!o[c].test(_))throw new TypeError('Expected all "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(_,'"'));l+=d.prefix+_+d.suffix}continue}if(typeof f=="string"||typeof f=="number"){var _=s(String(f),d);if(a&&!o[c].test(_))throw new TypeError('Expected "'.concat(d.name,'" to match "').concat(d.pattern,'", but got "').concat(_,'"'));l+=d.prefix+_+d.suffix;continue}if(!p){var E=g?"an array":"a string";throw new TypeError('Expected "'.concat(d.name,'" to be ').concat(E))}}return l}}Ne.tokensToFunction=ih;function Ow(t,e){var r=[],n=Mo(t,r,e);return ah(n,r,e)}Ne.match=Ow;function ah(t,e,r){r===void 0&&(r={});var n=r.decode,s=n===void 0?function(i){return i}:n;return function(i){var a=t.exec(i);if(!a)return!1;for(var o=a[0],u=a.index,l=Object.create(null),c=function(f){if(a[f]===void 0)return"continue";var p=e[f-1];p.modifier==="*"||p.modifier==="+"?l[p.name]=a[f].split(p.prefix+p.suffix).map(function(g){return s(g,p)}):l[p.name]=s(a[f],p)},d=1;d<a.length;d++)c(d);return{path:o,index:u,params:l}}}Ne.regexpToFunction=ah;function Vr(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Lo(t){return t&&t.sensitive?"":"i"}function Nw(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,s=r.exec(t.source);s;)e.push({name:s[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),s=r.exec(t.source);return t}function Hw(t,e,r){var n=t.map(function(s){return Mo(s,e,r).source});return new RegExp("(?:".concat(n.join("|"),")"),Lo(r))}function Lw(t,e,r){return oh(Ho(t,r),e,r)}function oh(t,e,r){r===void 0&&(r={});for(var n=r.strict,s=n===void 0?!1:n,i=r.start,a=i===void 0?!0:i,o=r.end,u=o===void 0?!0:o,l=r.encode,c=l===void 0?function(Q){return Q}:l,d=r.delimiter,f=d===void 0?"/#?":d,p=r.endsWith,g=p===void 0?"":p,y="[".concat(Vr(g),"]|$"),_="[".concat(Vr(f),"]"),E=a?"^":"",L=0,B=t;L<B.length;L++){var $=B[L];if(typeof $=="string")E+=Vr(c($));else{var k=Vr(c($.prefix)),V=Vr(c($.suffix));if($.pattern)if(e&&e.push($),k||V)if($.modifier==="+"||$.modifier==="*"){var M=$.modifier==="*"?"?":"";E+="(?:".concat(k,"((?:").concat($.pattern,")(?:").concat(V).concat(k,"(?:").concat($.pattern,"))*)").concat(V,")").concat(M)}else E+="(?:".concat(k,"(").concat($.pattern,")").concat(V,")").concat($.modifier);else $.modifier==="+"||$.modifier==="*"?E+="((?:".concat($.pattern,")").concat($.modifier,")"):E+="(".concat($.pattern,")").concat($.modifier);else E+="(?:".concat(k).concat(V,")").concat($.modifier)}}if(u)s||(E+="".concat(_,"?")),E+=r.endsWith?"(?=".concat(y,")"):"$";else{var T=t[t.length-1],U=typeof T=="string"?_.indexOf(T[T.length-1])>-1:T===void 0;s||(E+="(?:".concat(_,"(?=").concat(y,"))?")),U||(E+="(?=".concat(_,"|").concat(y,")"))}return new RegExp(E,Lo(r))}Ne.tokensToRegexp=oh;function Mo(t,e,r){return t instanceof RegExp?Nw(t,e):Array.isArray(t)?Hw(t,e,r):Lw(t,e,r)}Ne.pathToRegexp=Mo});var lh=h(Ur=>{"use strict";var Mw=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ur,"__esModule",{value:!0});var qw=Mw(vi()),Iw=_i();function kw(t,e){if(t==null)return e;let r=uh(t);return qw.default(e,r)}Ur.default=kw;function uh(t){if(!t)return{};let e=t.match(/https?:\/\/[^/]+(.*)/);e&&(t=`/${e[1]}`);let r=1,n={};return Iw.parse(t).forEach(s=>{typeof s!="string"&&(n[s.name]=`\\${r++}`)}),n}Ur.getBackReferences=uh});var ch=h(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});function Dw(t){return t?typeof t.length=="number"?!t.length:!(typeof t=="object"&&Object.keys(t).length):!0}qo.default=Dw});var dh=h(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var fh=class extends Error{constructor(e){super(e.message);this.type="BackendFetchError",this.cause=e}};Io.default=fh});var $o=h(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var ko="__";function $w(t,e){let r=new URL(t,`https://${ko}`).searchParams,n=new URL(e,`https://${ko}`);return r.forEach((s,i)=>{n.searchParams.get(i)||n.searchParams.set(i,s)}),n.hostname===ko?`${n.pathname}${n.search}`:n.toString()}Do.default=$w});var mh=h(Xn=>{"use strict";var bi=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});var Fw=require("url"),hh=bi(require("https")),jw=bi(require("http")),ph=require("path"),Fo=bi(dh()),Bw=bi($o()),gh=be(),Vw=["transfer-encoding","content-length"],jo=class{constructor(e){this.config=e}static setImpl(e){yh=e}static create(e){return new yh(e)}async fetch(e,r,n){let{path:s,headers:i}=n||{},a=this.getProxyTarget(e,s),o=this.getProxyRequestOptions(a,e,i,n==null?void 0:n.removeEmptySearchParamValues);return new Promise((u,l)=>{let d=(a.protocol==="https:"?hh.default:jw.default).request(o,f=>{let p=[];f.on("data",g=>p.push(g)).on("end",()=>{f.complete&&(Object.entries(f.headers).filter(([g])=>!Vw.includes(g.toLowerCase())).forEach(([g,y])=>{try{r.setHeader(g,y)}catch(_){console.warn(`Could not relay upstream response header ${g} with value ${y}`,_)}}),r.statusCode=f.statusCode,r.statusMessage=f.statusMessage,r.body=Buffer.concat(p),u(void 0))}).on("error",g=>l(new Fo.default(g))).on("close",()=>{f.complete||l(new Fo.default(new Error("The connection was terminated while the message was still being sent")))})});d.on("error",f=>l(new Fo.default(f))),d.end(e.body)})}getProxyTarget(e,r){let n=r?Bw.default(e.url,r):e.url,{domainOrIp:s,basePath:i,port:a}=this.config;if(i&&(n=ph.join(i,n)),s){let u=s.match(/^127.0.0.1(:\d+)?$/)?"http":"https",l=`${s}${a?`:${a}`:""}`;n=`${u}://${ph.join(l,n)}`}let o=Fw.parse(n,!0);return e.getHeader(gh.HTTP_HEADERS.x0Protocol)==="http"&&(o.protocol="http:"),o}isLocal(e){return e.hostname===gh.JS_BACKEND_HOSTNAME}getProxyRequestOptions(e,r,n,s){let i=null;this.config.disableCheckCert&&e.protocol==="https:"&&(i=new hh.default.Agent({rejectUnauthorized:!1}));let a=Y(H(H({},r.headers),n),{host:this.config.hostHeader||r.headers.host});this.isLocal(e)&&(a["x-forwarded-proto"]=r.secure?"https":"http");let o=e.path;return s===!0&&o&&(o=o.replace(/=(?=&|$)/gm,"")),Y(H({},e),{path:o,method:r.method,timeout:this.config.firstByteTimeout||0,agent:i,body:r.body,headers:a})}};Xn.default=jo;var yh=jo});var Ri=h(Bo=>{"use strict";Bo.parse=Ww;Bo.serialize=Kw;var Uw=decodeURIComponent,Gw=encodeURIComponent,Ei=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ww(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},s=t.split(";"),i=n.decode||Uw,a=0;a<s.length;a++){var o=s[a],u=o.indexOf("=");if(!(u<0)){var l=o.substring(0,u).trim();if(r[l]==null){var c=o.substring(u+1,o.length).trim();c[0]==='"'&&(c=c.slice(1,-1)),r[l]=Yw(c,i)}}}return r}function Kw(t,e,r){var n=r||{},s=n.encode||Gw;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!Ei.test(t))throw new TypeError("argument name is invalid");var i=s(e);if(i&&!Ei.test(i))throw new TypeError("argument val is invalid");var a=t+"="+i;if(n.maxAge!=null){var o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(n.domain){if(!Ei.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Ei.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Yw(t,e){try{return e(t)}catch{return t}}});var vh=h(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});function zw(t){return t}Vo.default=zw});var Uo=h(Qn=>{"use strict";var _h=Qn&&Qn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qn,"__esModule",{value:!0});var Xw=_h(Ri()),Qw=require("querystring"),Jw=_h(vh());function bh(t,e,r){if(typeof r=="string")return Zw(t,e,r);if(!Array.isArray(r))return r;let n=[];return r.forEach(s=>{n.push(bh(t,e,s))}),n}Qn.default=bh;function Zw(t,e,r){let n=r.replace(/\\\${/g,"--backslashdollar--").replace(/\${/g,"--separator--${").split("--separator--"),s={};(t==null?void 0:t.headers.cookie)&&(s=Xw.default.parse(t.headers.cookie,{decode:Jw.default}));let i={};if(t==null?void 0:t.url){let l=t.url.indexOf("?");if(l>=0){let c=t.url.substring(l+1);i=Qw.parse(c)}}let a=[],o="${req:".length,u="${query:".length;return n.forEach(l=>{var c;if(t){l=l.replace(/\${method}/,t.method),l=l.replace(/\${path}/,t.path),l=l.replace(/\${url}/,t.url);let f=l.search(/\${query:/);if(f>=0){let g=l.substring(f+u),y=g.indexOf("}");if(y<=0)throw new Error(`Cannot interpolate substring "${l}" of value "${r}" (1)`);g=g.substring(0,y);let _=i[g]||"";Array.isArray(_)&&(_=_[0]),l=l.replace(/\${query:.*?}/,_)}let p=l.search(/\${req:/);if(p>=0){let g=l.substring(p+o),y=g.indexOf("}");if(y<=0)throw new Error(`Cannot interpolate substring "${l}" of value "${r}" (2)`);g=g.substring(0,y);let _="";if(g.indexOf("cookie:")===0){let E=g.split(":")[1];_=s[E]||""}else if(g.indexOf("param:")===0){let E=g.split(":")[1];_=String((c=t.params)===null||c===void 0?void 0:c[E])||""}else _=t.headers[g]||"";l=l.replace(/\${req:.*?}/,_)}}let d=l.search(/\${res:/);if(d>=0){if(!e)throw new Error(`Cannot interpolate response parameter "${l}" during receive phase`);let f=l.substring(d+o),p=f.indexOf("}");if(p<=0)throw new Error(`Cannot interpolate substring "${l}" of value "${r}" (3)`);f=f.substring(0,p),l=l.replace(/\${res:.*?}/,e.getHeader(f)||"")}if(l.search(/\${/)>=0)throw new Error(`Cannot interpolate substring "${l}" of "${r}" (4)`);a.push(l)}),a.join("").replace(/--backslashdollar--/g,"${")}});var Rh=h((P$,Go)=>{"use strict";var e1=Object.prototype.hasOwnProperty,De="~";function Jn(){}Object.create&&(Jn.prototype=Object.create(null),new Jn().__proto__||(De=!1));function t1(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function Eh(t,e,r,n,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var i=new t1(r,n||t,s),a=De?De+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],i]:t._events[a].push(i):(t._events[a]=i,t._eventsCount++),t}function Ai(t,e){--t._eventsCount==0?t._events=new Jn:delete t._events[e]}function He(){this._events=new Jn,this._eventsCount=0}He.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)e1.call(r,n)&&e.push(De?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};He.prototype.listeners=function(e){var r=De?De+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,a=new Array(i);s<i;s++)a[s]=n[s].fn;return a};He.prototype.listenerCount=function(e){var r=De?De+e:e,n=this._events[r];return n?n.fn?1:n.length:0};He.prototype.emit=function(e,r,n,s,i,a){var o=De?De+e:e;if(!this._events[o])return!1;var u=this._events[o],l=arguments.length,c,d;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,s),!0;case 5:return u.fn.call(u.context,r,n,s,i),!0;case 6:return u.fn.call(u.context,r,n,s,i,a),!0}for(d=1,c=new Array(l-1);d<l;d++)c[d-1]=arguments[d];u.fn.apply(u.context,c)}else{var f=u.length,p;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(e,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,s);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];u[d].fn.apply(u[d].context,c)}}return!0};He.prototype.on=function(e,r,n){return Eh(this,e,r,n,!1)};He.prototype.once=function(e,r,n){return Eh(this,e,r,n,!0)};He.prototype.removeListener=function(e,r,n,s){var i=De?De+e:e;if(!this._events[i])return this;if(!r)return Ai(this,i),this;var a=this._events[i];if(a.fn)a.fn===r&&(!s||a.once)&&(!n||a.context===n)&&Ai(this,i);else{for(var o=0,u=[],l=a.length;o<l;o++)(a[o].fn!==r||s&&!a[o].once||n&&a[o].context!==n)&&u.push(a[o]);u.length?this._events[i]=u.length===1?u[0]:u:Ai(this,i)}return this};He.prototype.removeAllListeners=function(e){var r;return e?(r=De?De+e:e,this._events[r]&&Ai(this,r)):(this._events=new Jn,this._eventsCount=0),this};He.prototype.off=He.prototype.removeListener;He.prototype.addListener=He.prototype.on;He.prefixed=De;He.EventEmitter=He;typeof Go!="undefined"&&(Go.exports=He)});var Sh=h((C$,Ah)=>{"use strict";Ah.exports=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var Si=h(xh=>{var _t=xh,r1=require("url"),wh=require("util")._extend,n1=Sh(),s1=/(^|,)\s*upgrade\s*($|,)/i,Wo=/^https|wss/;_t.isSSL=Wo;_t.setupOutgoing=function(t,e,r,n){t.port=e[n||"target"].port||(Wo.test(e[n||"target"].protocol)?443:80),["host","hostname","socketPath","pfx","key","passphrase","cert","ca","ciphers","secureProtocol"].forEach(function(o){t[o]=e[n||"target"][o]}),t.method=e.method||r.method,t.headers=wh({},r.headers),e.headers&&wh(t.headers,e.headers),e.auth&&(t.auth=e.auth),e.ca&&(t.ca=e.ca),Wo.test(e[n||"target"].protocol)&&(t.rejectUnauthorized=typeof e.secure=="undefined"?!0:e.secure),t.agent=e.agent||!1,t.localAddress=e.localAddress,t.agent||(t.headers=t.headers||{},(typeof t.headers.connection!="string"||!s1.test(t.headers.connection))&&(t.headers.connection="close"));var s=e[n||"target"],i=s&&e.prependPath!==!1&&s.path||"",a=e.toProxy?r.url:r1.parse(r.url).path||"";return a=e.ignorePath?"":a,t.path=_t.urlJoin(i,a),e.changeOrigin&&(t.headers.host=n1(t.port,e[n||"target"].protocol)&&!i1(t.host)?t.host+":"+t.port:t.host),t};_t.setupSocket=function(t){return t.setTimeout(0),t.setNoDelay(!0),t.setKeepAlive(!0,0),t};_t.getPort=function(t){var e=t.headers.host?t.headers.host.match(/:(\d+)/):"";return e?e[1]:_t.hasEncryptedConnection(t)?"443":"80"};_t.hasEncryptedConnection=function(t){return Boolean(t.connection.encrypted||t.connection.pair)};_t.urlJoin=function(){var t=Array.prototype.slice.call(arguments),e=t.length-1,r=t[e],n=r.split("?"),s;return t[e]=n.shift(),s=[t.filter(Boolean).join("/").replace(/\/+/g,"/").replace("http:/","http://").replace("https:/","https://")],s.push.apply(s,n),s.join("?")};_t.rewriteCookieProperty=function t(e,r,n){return Array.isArray(e)?e.map(function(s){return t(s,r,n)}):e.replace(new RegExp("(;\\s*"+n+"=)([^;]+)","i"),function(s,i,a){var o;if(a in r)o=r[a];else if("*"in r)o=r["*"];else return s;return o?i+o:""})};function i1(t){return!!~t.indexOf(":")}});var Oh=h((O$,Th)=>{var Ph=require("url"),Ch=Si(),a1=/^201|30(1|2|7|8)$/;Th.exports={removeChunked:function(e,r,n){e.httpVersion==="1.0"&&delete n.headers["transfer-encoding"]},setConnection:function(e,r,n){e.httpVersion==="1.0"?n.headers.connection=e.headers.connection||"close":e.httpVersion!=="2.0"&&!n.headers.connection&&(n.headers.connection=e.headers.connection||"keep-alive")},setRedirectHostRewrite:function(e,r,n,s){if((s.hostRewrite||s.autoRewrite||s.protocolRewrite)&&n.headers.location&&a1.test(n.statusCode)){var i=Ph.parse(s.target),a=Ph.parse(n.headers.location);if(i.host!=a.host)return;s.hostRewrite?a.host=s.hostRewrite:s.autoRewrite&&(a.host=e.headers.host),s.protocolRewrite&&(a.protocol=s.protocolRewrite),n.headers.location=a.format()}},writeHeaders:function(e,r,n,s){var i=s.cookieDomainRewrite,a=s.cookiePathRewrite,o=s.preserveHeaderKeyCase,u,l=function(f,p){p!=null&&(i&&f.toLowerCase()==="set-cookie"&&(p=Ch.rewriteCookieProperty(p,i,"domain")),a&&f.toLowerCase()==="set-cookie"&&(p=Ch.rewriteCookieProperty(p,a,"path")),r.setHeader(String(f).trim(),p))};if(typeof i=="string"&&(i={"*":i}),typeof a=="string"&&(a={"*":a}),o&&n.rawHeaders!=null){u={};for(var c=0;c<n.rawHeaders.length;c+=2){var d=n.rawHeaders[c];u[d.toLowerCase()]=d}}Object.keys(n.headers).forEach(function(f){var p=n.headers[f];o&&u&&(f=u[f]||f),l(f,p)})},writeStatusCode:function(e,r,n){n.statusMessage?(r.statusCode=n.statusCode,r.statusMessage=n.statusMessage):r.statusCode=n.statusCode}}});var Hh=h((N$,Nh)=>{var Gr=1e3,Wr=Gr*60,Kr=Wr*60,lr=Kr*24,o1=lr*7,u1=lr*365.25;Nh.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return l1(t);if(r==="number"&&isFinite(t))return e.long?f1(t):c1(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function l1(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*u1;case"weeks":case"week":case"w":return r*o1;case"days":case"day":case"d":return r*lr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Kr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Wr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Gr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function c1(t){var e=Math.abs(t);return e>=lr?Math.round(t/lr)+"d":e>=Kr?Math.round(t/Kr)+"h":e>=Wr?Math.round(t/Wr)+"m":e>=Gr?Math.round(t/Gr)+"s":t+"ms"}function f1(t){var e=Math.abs(t);return e>=lr?wi(t,e,lr,"day"):e>=Kr?wi(t,e,Kr,"hour"):e>=Wr?wi(t,e,Wr,"minute"):e>=Gr?wi(t,e,Gr,"second"):t+" ms"}function wi(t,e,r,n){var s=e>=r*1.5;return Math.round(t/r)+" "+n+(s?"s":"")}});var Ko=h((H$,Lh)=>{function d1(t){r.debug=r,r.default=r,r.coerce=u,r.disable=i,r.enable=s,r.enabled=a,r.humanize=Hh(),r.destroy=l,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let f=0;f<c.length;f++)d=(d<<5)-d+c.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,f=null,p,g;function y(..._){if(!y.enabled)return;let E=y,L=Number(new Date),B=L-(d||L);E.diff=B,E.prev=d,E.curr=L,d=L,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let $=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(V,M)=>{if(V==="%%")return"%";$++;let T=r.formatters[M];if(typeof T=="function"){let U=_[$];V=T.call(E,U),_.splice($,1),$--}return V}),r.formatArgs.call(E,_),(E.log||r.log).apply(E,_)}return y.namespace=c,y.useColors=r.useColors(),y.color=r.selectColor(c),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,g=r.enabled(c)),g),set:_=>{f=_}}),typeof r.init=="function"&&r.init(y),y}function n(c,d){let f=r(this.namespace+(typeof d=="undefined"?":":d)+c);return f.log=this.log,f}function s(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let d,f=(typeof c=="string"?c:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)!f[d]||(c=f[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function i(){let c=[...r.names.map(o),...r.skips.map(o).map(d=>"-"+d)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(c))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Lh.exports=d1});var Mh=h((Ue,xi)=>{Ue.formatArgs=p1;Ue.save=g1;Ue.load=y1;Ue.useColors=h1;Ue.storage=m1();Ue.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h1(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p1(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+xi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),t.splice(n,0,e)}Ue.log=console.debug||console.log||(()=>{});function g1(t){try{t?Ue.storage.setItem("debug",t):Ue.storage.removeItem("debug")}catch{}}function y1(){let t;try{t=Ue.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function m1(){try{return localStorage}catch{}}xi.exports=Ko()(Ue);var{formatters:v1}=xi.exports;v1.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ih=h((L$,qh)=>{"use strict";qh.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var Xo=h((M$,Dh)=>{"use strict";var _1=require("os"),kh=require("tty"),ze=Ih(),{env:Se}=process,kt;ze("no-color")||ze("no-colors")||ze("color=false")||ze("color=never")?kt=0:(ze("color")||ze("colors")||ze("color=true")||ze("color=always"))&&(kt=1);"FORCE_COLOR"in Se&&(Se.FORCE_COLOR==="true"?kt=1:Se.FORCE_COLOR==="false"?kt=0:kt=Se.FORCE_COLOR.length===0?1:Math.min(parseInt(Se.FORCE_COLOR,10),3));function Yo(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function zo(t,e){if(kt===0)return 0;if(ze("color=16m")||ze("color=full")||ze("color=truecolor"))return 3;if(ze("color=256"))return 2;if(t&&!e&&kt===void 0)return 0;let r=kt||0;if(Se.TERM==="dumb")return r;if(process.platform==="win32"){let n=_1.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Se)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Se)||Se.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Se)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Se.TEAMCITY_VERSION)?1:0;if(Se.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Se){let n=parseInt((Se.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Se.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Se.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Se.TERM)||"COLORTERM"in Se?1:r}function b1(t){let e=zo(t,t&&t.isTTY);return Yo(e)}Dh.exports={supportsColor:b1,stdout:Yo(zo(!0,kh.isatty(1))),stderr:Yo(zo(!0,kh.isatty(2)))}});var Fh=h((Te,Ci)=>{var E1=require("tty"),Pi=require("util");Te.init=C1;Te.log=w1;Te.formatArgs=A1;Te.save=x1;Te.load=P1;Te.useColors=R1;Te.destroy=Pi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Te.colors=[6,2,3,4,5,1];try{let t=Xo();t&&(t.stderr||t).level>=2&&(Te.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Te.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function R1(){return"colors"in Te.inspectOpts?Boolean(Te.inspectOpts.colors):E1.isatty(process.stderr.fd)}function A1(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,s="[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} [0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(s+"m+"+Ci.exports.humanize(this.diff)+"[0m")}else t[0]=S1()+e+" "+t[0]}function S1(){return Te.inspectOpts.hideDate?"":new Date().toISOString()+" "}function w1(...t){return process.stderr.write(Pi.format(...t)+`
`)}function x1(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function P1(){return process.env.DEBUG}function C1(t){t.inspectOpts={};let e=Object.keys(Te.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Te.inspectOpts[e[r]]}Ci.exports=Ko()(Te);var{formatters:$h}=Ci.exports;$h.o=function(t){return this.inspectOpts.colors=this.useColors,Pi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};$h.O=function(t){return this.inspectOpts.colors=this.useColors,Pi.inspect(t,this.inspectOpts)}});var jh=h((q$,Qo)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Qo.exports=Mh():Qo.exports=Fh()});var Vh=h((I$,Bh)=>{var Zn;Bh.exports=function(){if(!Zn){try{Zn=jh()("follow-redirects")}catch{}typeof Zn!="function"&&(Zn=function(){})}Zn.apply(null,arguments)}});var Xh=h((k$,ru)=>{var cr=require("url"),Jo=cr.URL,T1=require("http"),O1=require("https"),Uh=require("stream").Writable,N1=require("assert"),Gh=Vh(),Zo=["abort","aborted","connect","error","socket","timeout"],eu=Object.create(null);Zo.forEach(function(t){eu[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Wh=Ti("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),H1=Ti("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),L1=Ti("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),M1=Ti("ERR_STREAM_WRITE_AFTER_END","write after end");function Ge(t,e){Uh.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}Ge.prototype=Object.create(Uh.prototype);Ge.prototype.abort=function(){zh(this._currentRequest),this.emit("abort")};Ge.prototype.write=function(t,e,r){if(this._ending)throw new M1;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new L1),this.abort())};Ge.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,s=this._currentRequest;this.write(t,e,function(){n._ended=!0,s.end(null,null,r)}),this._ending=!0}};Ge.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Ge.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Ge.prototype.setTimeout=function(t,e){var r=this;function n(a){a.setTimeout(t),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),n(a)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Ge.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Ge.prototype,t,{get:function(){return this._currentRequest[t]}})});Ge.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Ge.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var s of Zo)n.on(s,eu[s]);if(this._currentUrl=/^\//.test(this._options.path)?cr.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var i=0,a=this,o=this._requestBodyBuffers;(function u(l){if(n===a._currentRequest)if(l)a.emit("error",l);else if(i<o.length){var c=o[i++];n.finished||n.write(c.data,c.encoding,u)}else a._ended&&n.end()})()}};Ge.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(zh(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new H1);return}var n,s=this._options.beforeRedirect;s&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],tu(/^content-/i,this._options.headers));var a=tu(/^host$/i,this._options.headers),o=cr.parse(this._currentUrl),u=a||o.host,l=/^\w+:/.test(r)?this._currentUrl:cr.format(Object.assign(o,{host:u})),c;try{c=cr.resolve(l,r)}catch(g){this.emit("error",new Wh(g));return}Gh("redirecting to",c),this._isRedirect=!0;var d=cr.parse(c);if(Object.assign(this._options,d),(d.protocol!==o.protocol&&d.protocol!=="https:"||d.host!==u&&!I1(d.host,u))&&tu(/^(?:authorization|cookie)$/i,this._options.headers),typeof s=="function"){var f={headers:t.headers,statusCode:e},p={url:l,method:i,headers:n};try{s(this._options,f,p)}catch(g){this.emit("error",g);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(g){this.emit("error",new Wh(g))}};function Kh(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var s=n+":",i=r[s]=t[n],a=e[n]=Object.create(i);function o(l,c,d){if(typeof l=="string"){var f=l;try{l=Yh(new Jo(f))}catch{l=cr.parse(f)}}else Jo&&l instanceof Jo?l=Yh(l):(d=c,c=l,l={protocol:s});return typeof c=="function"&&(d=c,c=null),c=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,c),c.nativeProtocols=r,N1.equal(c.protocol,s,"protocol mismatch"),Gh("options",c),new Ge(c,d)}function u(l,c,d){var f=a.request(l,c,d);return f.end(),f}Object.defineProperties(a,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),e}function q1(){}function Yh(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function tu(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Ti(t,e){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=e+": "+n.message,this.cause=n):this.message=e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function zh(t){for(var e of Zo)t.removeListener(e,eu[e]);t.on("error",q1),t.abort()}function I1(t,e){let r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}ru.exports=Kh({http:T1,https:O1});ru.exports.wrap=Kh});var Jh=h((D$,Qh)=>{var k1=require("http"),D1=require("https"),es=Oh(),Oi=Si(),$1=Xh();es=Object.keys(es).map(function(t){return es[t]});var F1={http:k1,https:D1};Qh.exports={deleteLength:function(e,r,n){(e.method==="DELETE"||e.method==="OPTIONS")&&!e.headers["content-length"]&&(e.headers["content-length"]="0",delete e.headers["transfer-encoding"])},timeout:function(e,r,n){n.timeout&&e.socket.setTimeout(n.timeout)},XHeaders:function(e,r,n){if(!!n.xfwd){var s=e.isSpdy||Oi.hasEncryptedConnection(e),i={for:e.connection.remoteAddress||e.socket.remoteAddress,port:Oi.getPort(e),proto:s?"https":"http"};["for","port","proto"].forEach(function(a){e.headers["x-forwarded-"+a]=(e.headers["x-forwarded-"+a]||"")+(e.headers["x-forwarded-"+a]?",":"")+i[a]}),e.headers["x-forwarded-host"]=e.headers["x-forwarded-host"]||e.headers.host||""}},stream:function(e,r,n,s,i,a){i.emit("start",e,r,n.target||n.forward);var o=n.followRedirects?$1:F1,u=o.http,l=o.https;if(n.forward){var c=(n.forward.protocol==="https:"?l:u).request(Oi.setupOutgoing(n.ssl||{},n,e,"forward")),d=g(c,n.forward);if(e.on("error",d),c.on("error",d),(n.buffer||e).pipe(c),!n.target)return r.end()}var f=(n.target.protocol==="https:"?l:u).request(Oi.setupOutgoing(n.ssl||{},n,e));f.on("socket",function(y){i&&!f.getHeader("expect")&&i.emit("proxyReq",f,e,r,n)}),n.proxyTimeout&&f.setTimeout(n.proxyTimeout,function(){f.abort()}),e.on("aborted",function(){f.abort()});var p=g(f,n.target);e.on("error",p),f.on("error",p);function g(y,_){return function(L){if(e.socket.destroyed&&L.code==="ECONNRESET")return i.emit("econnreset",L,e,r,_),y.abort();a?a(L,e,r,_):i.emit("error",L,e,r,_)}}(n.buffer||e).pipe(f),f.on("response",function(y){if(i&&i.emit("proxyRes",y,e,r),!r.headersSent&&!n.selfHandleResponse)for(var _=0;_<es.length&&!es[_](e,r,y,n);_++);r.finished?i&&i.emit("end",e,r,y):(y.on("end",function(){i&&i.emit("end",e,r,y)}),n.selfHandleResponse||y.pipe(r))})}}});var ep=h(($$,Zh)=>{var j1=require("http"),B1=require("https"),Yr=Si();Zh.exports={checkMethodAndHeader:function(e,r){if(e.method!=="GET"||!e.headers.upgrade||e.headers.upgrade.toLowerCase()!=="websocket")return r.destroy(),!0},XHeaders:function(e,r,n){if(!!n.xfwd){var s={for:e.connection.remoteAddress||e.socket.remoteAddress,port:Yr.getPort(e),proto:Yr.hasEncryptedConnection(e)?"wss":"ws"};["for","port","proto"].forEach(function(i){e.headers["x-forwarded-"+i]=(e.headers["x-forwarded-"+i]||"")+(e.headers["x-forwarded-"+i]?",":"")+s[i]})}},stream:function(e,r,n,s,i,a){var o=function(c,d){return Object.keys(d).reduce(function(f,p){var g=d[p];if(!Array.isArray(g))return f.push(p+": "+g),f;for(var y=0;y<g.length;y++)f.push(p+": "+g[y]);return f},[c]).join(`\r
`)+`\r
\r
`};Yr.setupSocket(r),s&&s.length&&r.unshift(s);var u=(Yr.isSSL.test(n.target.protocol)?B1:j1).request(Yr.setupOutgoing(n.ssl||{},n,e));return i&&i.emit("proxyReqWs",u,e,r,n,s),u.on("error",l),u.on("response",function(c){c.upgrade||(r.write(o("HTTP/"+c.httpVersion+" "+c.statusCode+" "+c.statusMessage,c.headers)),c.pipe(r))}),u.on("upgrade",function(c,d,f){d.on("error",l),d.on("end",function(){i.emit("close",c,d,f)}),r.on("error",function(){d.end()}),Yr.setupSocket(d),f&&f.length&&d.unshift(f),r.write(o("HTTP/1.1 101 Switching Protocols",c.headers)),d.pipe(r).pipe(d),i.emit("open",d),i.emit("proxySocket",d)}),u.end();function l(c){a?a(c,e,r):i.emit("error",c,e,r),r.end()}}}});var op=h((F$,ap)=>{var tp=ap.exports,rp=require("util")._extend,V1=require("url").parse,np=Rh(),U1=require("http"),G1=require("https"),sp=Jh(),ip=ep();tp.Server=fr;function nu(t){return function(e){return function(r,n){var s=t==="ws"?this.wsPasses:this.webPasses,i=[].slice.call(arguments),a=i.length-1,o,u;typeof i[a]=="function"&&(u=i[a],a--);var l=e;if(!(i[a]instanceof Buffer)&&i[a]!==n&&(l=rp({},e),rp(l,i[a]),a--),i[a]instanceof Buffer&&(o=i[a]),["target","forward"].forEach(function(d){typeof l[d]=="string"&&(l[d]=V1(l[d]))}),!l.target&&!l.forward)return this.emit("error",new Error("Must provide a proper URL as target"));for(var c=0;c<s.length&&!s[c](r,n,l,o,this,u);c++);}}}tp.createRightProxy=nu;function fr(t){np.call(this),t=t||{},t.prependPath=t.prependPath!==!1,this.web=this.proxyRequest=nu("web")(t),this.ws=this.proxyWebsocketRequest=nu("ws")(t),this.options=t,this.webPasses=Object.keys(sp).map(function(e){return sp[e]}),this.wsPasses=Object.keys(ip).map(function(e){return ip[e]}),this.on("error",this.onError,this)}require("util").inherits(fr,np);fr.prototype.onError=function(t){if(this.listeners("error").length===1)throw t};fr.prototype.listen=function(t,e){var r=this,n=function(s,i){r.web(s,i)};return this._server=this.options.ssl?G1.createServer(this.options.ssl,n):U1.createServer(n),this.options.ws&&this._server.on("upgrade",function(s,i,a){r.ws(s,i,a)}),this._server.listen(t,e),this};fr.prototype.close=function(t){var e=this;this._server&&this._server.close(r);function r(){e._server=null,t&&t.apply(null,arguments)}};fr.prototype.before=function(t,e,r){if(t!=="ws"&&t!=="web")throw new Error("type must be `web` or `ws`");var n=t==="ws"?this.wsPasses:this.webPasses,s=!1;if(n.forEach(function(i,a){i.name===e&&(s=a)}),s===!1)throw new Error("No such pass");n.splice(s,0,r)};fr.prototype.after=function(t,e,r){if(t!=="ws"&&t!=="web")throw new Error("type must be `web` or `ws`");var n=t==="ws"?this.wsPasses:this.webPasses,s=!1;if(n.forEach(function(i,a){i.name===e&&(s=a)}),s===!1)throw new Error("No such pass");n.splice(s++,0,r)}});var lp=h((j$,up)=>{var ts=op().Server;function su(t){return new ts(t)}ts.createProxyServer=su;ts.createServer=su;ts.createProxy=su;up.exports=ts});var fp=h((B$,cp)=>{cp.exports=lp()});var dp=h(rs=>{"use strict";var W1=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});var K1=W1(fp()),Y1=K1.default.createProxyServer({changeOrigin:!0});function z1(t,e,r,n){let i={target:{protocol:r.domainOrIp==="127.0.0.1"?"http":"https",host:r.domainOrIp,port:r.port}};Y1.web(t,e,i,n||Function.prototype)}rs.default=z1});var hp=h(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var X1=[/^x-0-platform/i,/^x-0-version$/i,/^x-0-t$/i,/^x-0-components$/i,/^x-0-status$/i,/^x-0-lambda-name$/i,/^x-0-lambda-schedule-timeout$/i,/^x-0-received-at$/i,/^host$/i,/^x-request-id$/i,/^content-length$/i,/^via$/i],Q1=[/^layer0_/i],J1=[/^layer0_devtools/i],zr=t=>{if(X1.find(e=>t.match(e)))throw new Error(`Header "${t}" is reserved and cannot be modified`)},Z1=t=>{if(Q1.find(e=>t.match(e))&&!J1.find(e=>t.match(e)))throw new Error(`Cookie "${t}" is reserved and cannot be modified`)};bt.validateSetResponseHeader=t=>{zr(t)};bt.validateUpdateResponseHeader=t=>{zr(t)};bt.validateRemoveResponseHeader=t=>{zr(t)};bt.validateSetRequestHeader=t=>{zr(t)};bt.validateUpdateRequestHeader=t=>{zr(t)};bt.validateRemoveRequestHeader=t=>{zr(t)};bt.validateCookieName=t=>{Z1(t)}});var au=h(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});function ex(t){return t==null?{}:typeof t=="string"?{path:t}:t}iu.default=ex});var ou=h(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});var tx=_i(),Ni=class extends Error{constructor(e){super(`Route pattern "${e}" contains invalid syntax. See https://docs.layer0.co/guides/routing#section_route_pattern_syntax`);this.isUserError=!0}};Hi.PathMatcherError=Ni;var ns=class{constructor(e){this.pattern=e}match(e){if(!this.matcher)try{this.matcher=tx.match(this.pattern,{decode:decodeURIComponent})}catch{throw new Ni(this.pattern)}ns.validatePattern(this.pattern);let r=this.matcher(e);return r?r.params:void 0}static validatePattern(e){let r=e.match(this.PARTIAL_SPLAT_ROUTE);if(r){let[n,s,i]=r,a=e.replace(`${s}${i}`,`${s}:suffix/${i}`);throw new Ni(`Partial splat routes are not supported. Use "${a}" instead of "${e}"`)}return!0}};Hi.default=ns;ns.PARTIAL_SPLAT_ROUTE=/(\/[^:/]+)(:[^*/#?]+\*)/});var pp=h(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});function rx(t){return typeof t!="string"?"":t.toLowerCase()}uu.default=rx});var Mi=h(dr=>{"use strict";var Li=dr&&dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},nx=dr&&dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(dr,"__esModule",{value:!0});var sx=be(),ss=$n(),ix=Ri(),ax=_i(),ox=Li(au()),gp=nx(ou()),ux=Li(require("querystring")),lx=Li(mi()),cx=Li(pp()),Xr=class{constructor(e,r,n){this.criteria=ox.default(e),this.handler=r,this.options=n,this.criteria.path&&(this.matcher=new gp.default(this.criteria.path))}match(e){let r=[this.matchPath,this.matchProtocol,this.matchMethod,this.matchHeaders,this.matchQueryParams,this.matchCookies,this.matchBody],n={};for(let s of r){let i=s.bind(this)(e);if(!i)return!1;Object.assign(n,i)}return e.params=n,n}matchResponse(e){return this.matchResponseStatus(e)}matchResponseStatus(e){var r,n,s;return((n=(r=this.criteria)===null||r===void 0?void 0:r.response)===null||n===void 0?void 0:n.statusCode)?!!((s=e.statusCode)===null||s===void 0?void 0:s.toString().match(this.criteria.response.statusCode)):!1}matchPath(e){return this.matcher?this.matcher.match(e.path):{}}matchMethod(e){return!this.criteria.method||!e.method?!0:new RegExp(this.criteria.method,"i").test(e.method)}matchHeaders(e){return this.criteria.headers?ss.matchCriteriaRegexObjectWithRequestObject(this.criteria.headers,e.headers,cx.default):!0}matchBody(e){if(this.criteria.body&&this.criteria.body.parse=="json"&&e.body){let r;try{r=JSON.parse(e.body)}catch{return!1}return ss.deepMatchObject(r,this.criteria.body.criteria)}return!0}matchQueryParams(e){return this.criteria.query?e.query?ss.matchCriteriaRegexObjectWithRequestObject(this.criteria.query,e.query):!1:!0}matchCookies(e){if(this.criteria.cookies){let r=e.headers.cookie;if(r==null)return Object.values(this.criteria.cookies).every(i=>i===null);let n=Array.isArray(r)?r.join("; "):r,s=ix.parse(n);return ss.matchCriteriaRegexObjectWithRequestObject(this.criteria.cookies,s)}return!0}matchProtocol(e){let r=e.headers&&e.headers[sx.HTTP_HEADERS.x0Protocol]||"https",n;return typeof this.criteria.protocol=="string"?n=new RegExp(`^${this.criteria.protocol}$`,"i"):n=new RegExp(this.criteria.protocol||"^https$","i"),ss.testRegExp(n,r)}toString(){let n=this.criteria,{path:e}=n,r=Zf(n,["path"]);return Object.keys(r).length?JSON.stringify(this.criteria):e||"fallback"}toRegex(){return Xr.toRegexp(this.criteria.path)}toJson(){var e;return JSON.stringify(Y(H({},this.criteria),{label:(e=this.options)===null||e===void 0?void 0:e.label}),(r,n)=>n instanceof RegExp?n.toString():n)}toRegexString(){return this.toRegex().source}toEdgeRegexString(){return Xr.toEdgeRegexString(this.criteria.path)}isRespRoute(){return!!this.criteria.response}static toRegexp(e){if(e)try{return ax.pathToRegexp(e)}catch{throw new gp.PathMatcherError(e)}else return/^.*$/}static toEdgeRegexString(e){return lx.default(Xr.toRegexp(e))}static pathWithQueryString(e,r){let n=ux.default.stringify(r).replace(/%3A/g,":");return e+(n&&`\\?${n}`)}};dr.default=Xr});var mp=h(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});var yp=require("zlib"),hr=be();function fx(t){var e;let r=(e=t.getHeader(hr.HTTP_HEADERS.contentEncoding))===null||e===void 0?void 0:e.toLowerCase();if(!r)return!0;switch(r){case hr.GZIP_ENCODING:return Buffer.isBuffer(t.body)?(t.body=yp.gunzipSync(t.body),t.removeHeader(hr.HTTP_HEADERS.contentEncoding),t.setHeader(hr.HTTP_HEADERS.contentLength,Buffer.byteLength(t.body)),!0):!1;case hr.BROTLI_ENCODING:return Buffer.isBuffer(t.body)?(t.body=yp.brotliDecompressSync(t.body),t.removeHeader(hr.HTTP_HEADERS.contentEncoding),t.setHeader(hr.HTTP_HEADERS.contentLength,Buffer.byteLength(t.body)),!0):!1;default:return!1}}lu.default=fx});var _p=h((X$,vp)=>{"use strict";vp.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ep=h((Q$,bp)=>{"use strict";bp.exports=re;re.Node=pr;re.create=re;function re(t){var e=this;if(e instanceof re||(e=new re),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}re.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};re.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};re.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};re.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)hx(this,arguments[t]);return this.length};re.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)px(this,arguments[t]);return this.length};re.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};re.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};re.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};re.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};re.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};re.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};re.prototype.map=function(t,e){e=e||this;for(var r=new re,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};re.prototype.mapReverse=function(t,e){e=e||this;for(var r=new re,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};re.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};re.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};re.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};re.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};re.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};re.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};re.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=dx(this,s,r[n]);return i};re.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function dx(t,e,r){var n=e===t.head?new pr(r,null,e,t):new pr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function hx(t,e){t.tail=new pr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function px(t,e){t.head=new pr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function pr(t,e,r,n){if(!(this instanceof pr))return new pr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{_p()(re)}catch{}});var Cp=h((J$,Pp)=>{"use strict";var gx=Ep(),gr=Symbol("max"),Et=Symbol("length"),Qr=Symbol("lengthCalculator"),is=Symbol("allowStale"),yr=Symbol("maxAge"),Rt=Symbol("dispose"),Rp=Symbol("noDisposeOnSet"),we=Symbol("lruList"),rt=Symbol("cache"),Ap=Symbol("updateAgeOnGet"),cu=()=>1,Sp=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[gr]=e.max||1/0,n=e.length||cu;if(this[Qr]=typeof n!="function"?cu:n,this[is]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[yr]=e.maxAge||0,this[Rt]=e.dispose,this[Rp]=e.noDisposeOnSet||!1,this[Ap]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[gr]=e||1/0,as(this)}get max(){return this[gr]}set allowStale(e){this[is]=!!e}get allowStale(){return this[is]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[yr]=e,as(this)}get maxAge(){return this[yr]}set lengthCalculator(e){typeof e!="function"&&(e=cu),e!==this[Qr]&&(this[Qr]=e,this[Et]=0,this[we].forEach(r=>{r.length=this[Qr](r.value,r.key),this[Et]+=r.length})),as(this)}get lengthCalculator(){return this[Qr]}get length(){return this[Et]}get itemCount(){return this[we].length}rforEach(e,r){r=r||this;for(let n=this[we].tail;n!==null;){let s=n.prev;xp(this,e,n,r),n=s}}forEach(e,r){r=r||this;for(let n=this[we].head;n!==null;){let s=n.next;xp(this,e,n,r),n=s}}keys(){return this[we].toArray().map(e=>e.key)}values(){return this[we].toArray().map(e=>e.value)}reset(){this[Rt]&&this[we]&&this[we].length&&this[we].forEach(e=>this[Rt](e.key,e.value)),this[rt]=new Map,this[we]=new gx,this[Et]=0}dump(){return this[we].map(e=>qi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[we]}set(e,r,n){if(n=n||this[yr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Qr](r,e);if(this[rt].has(e)){if(i>this[gr])return Jr(this,this[rt].get(e)),!1;let u=this[rt].get(e).value;return this[Rt]&&(this[Rp]||this[Rt](e,u.value)),u.now=s,u.maxAge=n,u.value=r,this[Et]+=i-u.length,u.length=i,this.get(e),as(this),!0}let a=new wp(e,r,i,s,n);return a.length>this[gr]?(this[Rt]&&this[Rt](e,r),!1):(this[Et]+=a.length,this[we].unshift(a),this[rt].set(e,this[we].head),as(this),!0)}has(e){if(!this[rt].has(e))return!1;let r=this[rt].get(e).value;return!qi(this,r)}get(e){return fu(this,e,!0)}peek(e){return fu(this,e,!1)}pop(){let e=this[we].tail;return e?(Jr(this,e),e.value):null}del(e){Jr(this,this[rt].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let a=i-r;a>0&&this.set(s.k,s.v,a)}}}prune(){this[rt].forEach((e,r)=>fu(this,r,!1))}},fu=(t,e,r)=>{let n=t[rt].get(e);if(n){let s=n.value;if(qi(t,s)){if(Jr(t,n),!t[is])return}else r&&(t[Ap]&&(n.value.now=Date.now()),t[we].unshiftNode(n));return s.value}},qi=(t,e)=>{if(!e||!e.maxAge&&!t[yr])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[yr]&&r>t[yr]},as=t=>{if(t[Et]>t[gr])for(let e=t[we].tail;t[Et]>t[gr]&&e!==null;){let r=e.prev;Jr(t,e),e=r}},Jr=(t,e)=>{if(e){let r=e.value;t[Rt]&&t[Rt](r.key,r.value),t[Et]-=r.length,t[rt].delete(r.key),t[we].removeNode(e)}},wp=class{constructor(e,r,n,s,i){this.key=e,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}},xp=(t,e,r,n)=>{let s=r.value;qi(t,s)&&(Jr(t,r),t[is]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};Pp.exports=Sp});var xu=h((ls,rn)=>{var yx=200,Tp="__lodash_hash_undefined__",Op=9007199254740991,du="[object Arguments]",mx="[object Array]",Np="[object Boolean]",Hp="[object Date]",vx="[object Error]",hu="[object Function]",Lp="[object GeneratorFunction]",Ii="[object Map]",Mp="[object Number]",pu="[object Object]",qp="[object Promise]",Ip="[object RegExp]",ki="[object Set]",kp="[object String]",Dp="[object Symbol]",gu="[object WeakMap]",$p="[object ArrayBuffer]",Di="[object DataView]",Fp="[object Float32Array]",jp="[object Float64Array]",Bp="[object Int8Array]",Vp="[object Int16Array]",Up="[object Int32Array]",Gp="[object Uint8Array]",Wp="[object Uint8ClampedArray]",Kp="[object Uint16Array]",Yp="[object Uint32Array]",_x=/[\\^$.*+?()[\]{}|]/g,bx=/\w*$/,Ex=/^\[object .+?Constructor\]$/,Rx=/^(?:0|[1-9]\d*)$/,ce={};ce[du]=ce[mx]=ce[$p]=ce[Di]=ce[Np]=ce[Hp]=ce[Fp]=ce[jp]=ce[Bp]=ce[Vp]=ce[Up]=ce[Ii]=ce[Mp]=ce[pu]=ce[Ip]=ce[ki]=ce[kp]=ce[Dp]=ce[Gp]=ce[Wp]=ce[Kp]=ce[Yp]=!0;ce[vx]=ce[hu]=ce[gu]=!1;var Ax=typeof global=="object"&&global&&global.Object===Object&&global,Sx=typeof self=="object"&&self&&self.Object===Object&&self,At=Ax||Sx||Function("return this")(),zp=typeof ls=="object"&&ls&&!ls.nodeType&&ls,Xp=zp&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,wx=Xp&&Xp.exports===zp;function xx(t,e){return t.set(e[0],e[1]),t}function Px(t,e){return t.add(e),t}function Cx(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function Tx(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}function Qp(t,e,r,n){var s=-1,i=t?t.length:0;for(n&&i&&(r=t[++s]);++s<i;)r=e(r,t[s],s,t);return r}function Ox(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Nx(t,e){return t==null?void 0:t[e]}function Jp(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Zp(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}function yu(t,e){return function(r){return t(e(r))}}function eg(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Hx=Array.prototype,Lx=Function.prototype,$i=Object.prototype,mu=At["__core-js_shared__"],tg=function(){var t=/[^.]+$/.exec(mu&&mu.keys&&mu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rg=Lx.toString,Dt=$i.hasOwnProperty,Fi=$i.toString,Mx=RegExp("^"+rg.call(Dt).replace(_x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ng=wx?At.Buffer:void 0,sg=At.Symbol,ig=At.Uint8Array,qx=yu(Object.getPrototypeOf,Object),Ix=Object.create,kx=$i.propertyIsEnumerable,Dx=Hx.splice,ag=Object.getOwnPropertySymbols,$x=ng?ng.isBuffer:void 0,Fx=yu(Object.keys,Object),vu=tn(At,"DataView"),os=tn(At,"Map"),_u=tn(At,"Promise"),bu=tn(At,"Set"),Eu=tn(At,"WeakMap"),us=tn(Object,"create"),jx=_r(vu),Bx=_r(os),Vx=_r(_u),Ux=_r(bu),Gx=_r(Eu),og=sg?sg.prototype:void 0,ug=og?og.valueOf:void 0;function mr(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Wx(){this.__data__=us?us(null):{}}function Kx(t){return this.has(t)&&delete this.__data__[t]}function Yx(t){var e=this.__data__;if(us){var r=e[t];return r===Tp?void 0:r}return Dt.call(e,t)?e[t]:void 0}function zx(t){var e=this.__data__;return us?e[t]!==void 0:Dt.call(e,t)}function Xx(t,e){var r=this.__data__;return r[t]=us&&e===void 0?Tp:e,this}mr.prototype.clear=Wx;mr.prototype.delete=Kx;mr.prototype.get=Yx;mr.prototype.has=zx;mr.prototype.set=Xx;function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qx(){this.__data__=[]}function Jx(t){var e=this.__data__,r=ji(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Dx.call(e,r,1),!0}function Zx(t){var e=this.__data__,r=ji(e,t);return r<0?void 0:e[r][1]}function eP(t){return ji(this.__data__,t)>-1}function tP(t,e){var r=this.__data__,n=ji(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}St.prototype.clear=Qx;St.prototype.delete=Jx;St.prototype.get=Zx;St.prototype.has=eP;St.prototype.set=tP;function Zr(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rP(){this.__data__={hash:new mr,map:new(os||St),string:new mr}}function nP(t){return Bi(this,t).delete(t)}function sP(t){return Bi(this,t).get(t)}function iP(t){return Bi(this,t).has(t)}function aP(t,e){return Bi(this,t).set(t,e),this}Zr.prototype.clear=rP;Zr.prototype.delete=nP;Zr.prototype.get=sP;Zr.prototype.has=iP;Zr.prototype.set=aP;function en(t){this.__data__=new St(t)}function oP(){this.__data__=new St}function uP(t){return this.__data__.delete(t)}function lP(t){return this.__data__.get(t)}function cP(t){return this.__data__.has(t)}function fP(t,e){var r=this.__data__;if(r instanceof St){var n=r.__data__;if(!os||n.length<yx-1)return n.push([t,e]),this;r=this.__data__=new Zr(n)}return r.set(t,e),this}en.prototype.clear=oP;en.prototype.delete=uP;en.prototype.get=lP;en.prototype.has=cP;en.prototype.set=fP;function dP(t,e){var r=Su(t)||IP(t)?Ox(t.length,String):[],n=r.length,s=!!n;for(var i in t)(e||Dt.call(t,i))&&!(s&&(i=="length"||HP(i,n)))&&r.push(i);return r}function lg(t,e,r){var n=t[e];(!(Dt.call(t,e)&&hg(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function ji(t,e){for(var r=t.length;r--;)if(hg(t[r][0],e))return r;return-1}function hP(t,e){return t&&cg(e,wu(e),t)}function Ru(t,e,r,n,s,i,a){var o;if(n&&(o=i?n(t,s,i,a):n(t)),o!==void 0)return o;if(!Vi(t))return t;var u=Su(t);if(u){if(o=TP(t),!e)return xP(t,o)}else{var l=vr(t),c=l==hu||l==Lp;if(DP(t))return _P(t,e);if(l==pu||l==du||c&&!i){if(Jp(t))return i?t:{};if(o=OP(c?{}:t),!e)return PP(t,hP(o,t))}else{if(!ce[l])return i?t:{};o=NP(t,l,Ru,e)}}a||(a=new en);var d=a.get(t);if(d)return d;if(a.set(t,o),!u)var f=r?CP(t):wu(t);return Cx(f||t,function(p,g){f&&(g=p,p=t[g]),lg(o,g,Ru(p,e,r,n,g,t,a))}),o}function pP(t){return Vi(t)?Ix(t):{}}function gP(t,e,r){var n=e(t);return Su(t)?n:Tx(n,r(t))}function yP(t){return Fi.call(t)}function mP(t){if(!Vi(t)||MP(t))return!1;var e=gg(t)||Jp(t)?Mx:Ex;return e.test(_r(t))}function vP(t){if(!dg(t))return Fx(t);var e=[];for(var r in Object(t))Dt.call(t,r)&&r!="constructor"&&e.push(r);return e}function _P(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function Au(t){var e=new t.constructor(t.byteLength);return new ig(e).set(new ig(t)),e}function bP(t,e){var r=e?Au(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function EP(t,e,r){var n=e?r(Zp(t),!0):Zp(t);return Qp(n,xx,new t.constructor)}function RP(t){var e=new t.constructor(t.source,bx.exec(t));return e.lastIndex=t.lastIndex,e}function AP(t,e,r){var n=e?r(eg(t),!0):eg(t);return Qp(n,Px,new t.constructor)}function SP(t){return ug?Object(ug.call(t)):{}}function wP(t,e){var r=e?Au(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function xP(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function cg(t,e,r,n){r||(r={});for(var s=-1,i=e.length;++s<i;){var a=e[s],o=n?n(r[a],t[a],a,r,t):void 0;lg(r,a,o===void 0?t[a]:o)}return r}function PP(t,e){return cg(t,fg(t),e)}function CP(t){return gP(t,wu,fg)}function Bi(t,e){var r=t.__data__;return LP(e)?r[typeof e=="string"?"string":"hash"]:r.map}function tn(t,e){var r=Nx(t,e);return mP(r)?r:void 0}var fg=ag?yu(ag,Object):jP,vr=yP;(vu&&vr(new vu(new ArrayBuffer(1)))!=Di||os&&vr(new os)!=Ii||_u&&vr(_u.resolve())!=qp||bu&&vr(new bu)!=ki||Eu&&vr(new Eu)!=gu)&&(vr=function(t){var e=Fi.call(t),r=e==pu?t.constructor:void 0,n=r?_r(r):void 0;if(n)switch(n){case jx:return Di;case Bx:return Ii;case Vx:return qp;case Ux:return ki;case Gx:return gu}return e});function TP(t){var e=t.length,r=t.constructor(e);return e&&typeof t[0]=="string"&&Dt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function OP(t){return typeof t.constructor=="function"&&!dg(t)?pP(qx(t)):{}}function NP(t,e,r,n){var s=t.constructor;switch(e){case $p:return Au(t);case Np:case Hp:return new s(+t);case Di:return bP(t,n);case Fp:case jp:case Bp:case Vp:case Up:case Gp:case Wp:case Kp:case Yp:return wP(t,n);case Ii:return EP(t,n,r);case Mp:case kp:return new s(t);case Ip:return RP(t);case ki:return AP(t,n,r);case Dp:return SP(t)}}function HP(t,e){return e=e??Op,!!e&&(typeof t=="number"||Rx.test(t))&&t>-1&&t%1==0&&t<e}function LP(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function MP(t){return!!tg&&tg in t}function dg(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||$i;return t===r}function _r(t){if(t!=null){try{return rg.call(t)}catch{}try{return t+""}catch{}}return""}function qP(t){return Ru(t,!0,!0)}function hg(t,e){return t===e||t!==t&&e!==e}function IP(t){return kP(t)&&Dt.call(t,"callee")&&(!kx.call(t,"callee")||Fi.call(t)==du)}var Su=Array.isArray;function pg(t){return t!=null&&$P(t.length)&&!gg(t)}function kP(t){return FP(t)&&pg(t)}var DP=$x||BP;function gg(t){var e=Vi(t)?Fi.call(t):"";return e==hu||e==Lp}function $P(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Op}function Vi(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function FP(t){return!!t&&typeof t=="object"}function wu(t){return pg(t)?dP(t):vP(t)}function jP(){return[]}function BP(){return!1}rn.exports=qP});var Cu=h(wt=>{"use strict";var yg=wt&&wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wt,"__esModule",{value:!0});var xe=be(),VP=yg(Cp()),UP=yg(xu()),Pu;function GP(){return process.env.LAYER0_CACHE==="true"}wt.isCacheEnabled=GP;function Ui(){return Pu||(Pu=new VP.default),Pu}wt.getCache=Ui;function WP(){Ui().reset()}wt.clearCache=WP;function KP(t){return Ui().get(t.toString())}wt.getCachedResponse=KP;function YP({response:t,cacheKey:e,context:r}){var n;let s=(n=e.method)===null||n===void 0?void 0:n.toLowerCase();if(s&&!xe.CACHEABLE_METHODS.has(s)&&r.cacheRouteMethod!==s)return t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.method),!1;if(e.body&&Buffer.from(e.body,"utf8").length>8e3)return t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.bodyTooBig),!1;if(t.statusCode&&t.statusCode>=400)return t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.code),!1;if(t.getHeader(xe.HTTP_HEADERS.setCookie))return t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.setCookie),!1;let i=XP(t);return i.private&&!r.forcePrivateCaching?(t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.private),!1):i.maxAge?(Ui().set(e.toString(),zP(t),i.maxAge*1e3),t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.ok),!0):(t.setHeader(xe.HTTP_HEADERS.x0CachingStatus,xe.CACHING_STATUS.noMaxAge),!1)}wt.maybeCacheResponse=YP;function zP(t){return{statusCode:t.statusCode,statusMessage:t.statusMessage,headers:UP.default(t.getHeaders()),body:t.body}}function XP(t){return H(H(H({},{private:!1,maxAge:0}),mg(t.getHeader(xe.HTTP_HEADERS.cacheControl))),mg(t.getHeader(xe.HTTP_HEADERS.x0CacheControl)))}function mg(t){let e={};if(t){Array.isArray(t)||(t=[t]);let r={};for(let n of t){let s=n.split(/,\s*/).map(i=>i.split(/=/));for(let[i,a]of s)i&&a&&(r[i.toLowerCase()]=a),i.toLowerCase()==="private"&&(e.private=!0);e.maxAge=parseInt(r["s-maxage"]||r["max-age"]||"0")}}return e}});var vg=h(cs=>{"use strict";var QP=cs&&cs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});var $t=be(),JP=QP(require("crypto")),Gi=class{constructor(e,r){var n;this.cookies={};let{host:s}=e.headers;if(this.body=e.body,this.method=(n=e.method)===null||n===void 0?void 0:n.toLowerCase(),this.query=this.excludeLayer0QueryParams(e.query||{}),this.pathname=new URL(e.url,`http://${s}`).pathname,this.headers=this.getDefaultHeaders(e.headers),r)for(let i of r.getActions())i(this,e)}static create(e,r){return new Gi(e,r)}excludeLayer0QueryParams(e){let r={};for(let n in e)n.startsWith("layer0_")||(r[n]=e[n]);return r}toSortedArray(e){return Object.keys(e).sort().map(r=>[r,e[r]])}getDefaultHeaders(e){return{[$t.HTTP_HEADERS.host]:e[$t.HTTP_HEADERS.host],[$t.HTTP_HEADERS.acceptEncoding]:e[$t.HTTP_HEADERS.acceptEncoding],[$t.HTTP_HEADERS.x0Destination]:e[$t.HTTP_HEADERS.x0Destination],[$t.HTTP_HEADERS.x0Protocol]:e[$t.HTTP_HEADERS.x0Protocol]}}toString(){return JSON.stringify({pathname:this.pathname,method:this.method,query:this.toSortedArray(this.query),body:ZP(this.body),headers:this.toSortedArray(this.headers),cookies:this.toSortedArray(this.cookies)})}};cs.default=Gi;function ZP(t){if(!t)return null;let e=JP.default.createHash("sha256");return e.update(t),e.digest("hex")}});var _g=h(Ft=>{"use strict";var eC=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ft,"__esModule",{value:!0});var tC=eC(ot()),Tu,fs,Ou="info",Nu="warn",Hu="error";try{let t=tC.default("chalk"),e=t.hex("D355A7");fs=t.grey("Layer0"),Tu=t.bold(`Layer${e("0")}`),Ou=t.cyan(Ou),Nu=t.yellow(Nu),Hu=t.red(Hu)}catch{Tu=fs="Layer0"}Ft.infoLogLabel=`${fs} ${Ou} -`;Ft.warnLogLabel=`${fs} ${Nu} -`;Ft.errorLogLabel=`${fs} ${Hu} -`;Ft.default=Tu});var Eg=h(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var bg=class{constructor(e){this.name=e}byPattern(e){this.pattern=e}toJSON(){if(!this.pattern)throw new Error("byPattern is required for group "+this.name);return{groupedValue:this.name,matchRegex:this.pattern.source}}};Lu.default=bg});var Ag=h(ds=>{"use strict";var rC=ds&&ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});var nC=rC(Eg()),Rg=class{constructor(){this.groups=[],this.name=null}group(e){let r=new nC.default(e);return this.groups.push(r),r}toJSON(){return this.groups.map(e=>e.toJSON())}};ds.default=Rg});var Ki=h(Xe=>{"use strict";var sC=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});var Sg=sC(Ag()),iC=Ri();Xe.CUSTOM_CACHE_KEY_ACTIONS={blacklistAll:"blacklist-all-query-parameters",blacklistSome:"blacklist-some-query-parameters",whitelistSome:"whitelist-some-query-parameters",addValue:"add-value",removeMethod:"remove-method",removeBody:"remove-body"};var Wi=class{constructor(){this.config=[],this.actions=[]}clone(){let e=new Wi;return e.actions=this.actions,e.config=this.config,e}excludeAllQueryParameters(){return this.config.push({action:Xe.CUSTOM_CACHE_KEY_ACTIONS.blacklistAll}),this.actions.push((e,r)=>{e.query={}}),this}excludeQueryParameters(...e){return this.config.push({action:Xe.CUSTOM_CACHE_KEY_ACTIONS.blacklistSome,names:e}),this.actions.push((r,n)=>{for(let s of e)delete r.query[s]}),this}excludeAllQueryParametersExcept(...e){return this.config.push({action:Xe.CUSTOM_CACHE_KEY_ACTIONS.whitelistSome,names:e}),this.actions.push((r,n)=>{let s=new Set(e);for(let i in r.query)s.has(i)||delete r.query[i]}),this}addHeader(e,r){return this.actions.push((n,s)=>{let i=s.headers[e];Array.isArray(i)||(i=[i]),r?n.headers[e]=this.createGroupedValue(r,i):n.headers[e]=i}),this.addValue(`\${req:${e}}`,r)}removeMethod(){return this.actions.push((e,r)=>{e.method=void 0}),this.config.push({action:Xe.CUSTOM_CACHE_KEY_ACTIONS.removeMethod}),this}removeBody(){return this.actions.push((e,r)=>{e.body=void 0}),this.config.push({action:Xe.CUSTOM_CACHE_KEY_ACTIONS.removeBody}),this}createGroupedValue(e,r){let n=new Sg.default,s=[];e(n);let i=this.findMatchingGroup(n,r);return i?s.push(i):s.push(...r),s}findMatchingGroup(e,r){var n;for(let s of e.groups)for(let i of r)if((n=s.pattern)===null||n===void 0?void 0:n.test(i))return s.name}addDevice(){return this.addHeader("x-0-device")}addVendor(){return this.addHeader("x-0-vendor")}addIsBot(){return this.addHeader("x-0-device-is-bot")}addBrowser(){return this.addHeader("x-0-browser")}addCookie(e,r){return this.actions.push((n,s)=>{let i=s.headers.cookie||"";Array.isArray(i)&&(i=i.join(";"));let o=iC.parse(i)[e];r?n.cookies[e]=this.createGroupedValue(r,[o]):n.cookies[e]=o}),this.addValue(`\${req:cookie:${e}}`,r)}addValue(e,r){let n={action:Xe.CUSTOM_CACHE_KEY_ACTIONS.addValue,value:e};if(r!=null){let s=new Sg.default;r(s),n.groups=s.toJSON()}return this.config.push(n),this}getActions(){return this.actions}toJSON(){return this.config}};Xe.default=Wi});var xg=h((iF,wg)=>{"use strict";wg.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Mu=h((aF,Cg)=>{var hs=xg(),Pg={};for(let t of Object.keys(hs))Pg[hs[t]]=t;var D={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Cg.exports=D;for(let t of Object.keys(D)){if(!("channels"in D[t]))throw new Error("missing channels property: "+t);if(!("labels"in D[t]))throw new Error("missing channel labels property: "+t);if(D[t].labels.length!==D[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=D[t];delete D[t].channels,delete D[t].labels,Object.defineProperty(D[t],"channels",{value:e}),Object.defineProperty(D[t],"labels",{value:r})}D.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(e,r,n),i=Math.max(e,r,n),a=i-s,o,u;i===s?o=0:e===i?o=(r-n)/a:r===i?o=2+(n-e)/a:n===i&&(o=4+(e-r)/a),o=Math.min(o*60,360),o<0&&(o+=360);let l=(s+i)/2;return i===s?u=0:l<=.5?u=a/(i+s):u=a/(2-i-s),[o,u*100,l*100]};D.rgb.hsv=function(t){let e,r,n,s,i,a=t[0]/255,o=t[1]/255,u=t[2]/255,l=Math.max(a,o,u),c=l-Math.min(a,o,u),d=function(f){return(l-f)/6/c+1/2};return c===0?(s=0,i=0):(i=c/l,e=d(a),r=d(o),n=d(u),a===l?s=n-r:o===l?s=1/3+e-n:u===l&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[s*360,i*100,l*100]};D.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],s=D.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[s,i*100,n*100]};D.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(1-e,1-r,1-n),i=(1-e-s)/(1-s)||0,a=(1-r-s)/(1-s)||0,o=(1-n-s)/(1-s)||0;return[i*100,a*100,o*100,s*100]};function aC(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}D.rgb.keyword=function(t){let e=Pg[t];if(e)return e;let r=1/0,n;for(let s of Object.keys(hs)){let i=hs[s],a=aC(t,i);a<r&&(r=a,n=s)}return n};D.keyword.rgb=function(t){return hs[t]};D.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let s=e*.4124+r*.3576+n*.1805,i=e*.2126+r*.7152+n*.0722,a=e*.0193+r*.1192+n*.9505;return[s*100,i*100,a*100]};D.rgb.lab=function(t){let e=D.rgb.xyz(t),r=e[0],n=e[1],s=e[2];r/=95.047,n/=100,s/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let i=116*n-16,a=500*(r-n),o=200*(n-s);return[i,a,o]};D.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,s,i,a;if(r===0)return a=n*255,[a,a,a];n<.5?s=n*(1+r):s=n+r-n*r;let o=2*n-s,u=[0,0,0];for(let l=0;l<3;l++)i=e+1/3*-(l-1),i<0&&i++,i>1&&i--,6*i<1?a=o+(s-o)*6*i:2*i<1?a=s:3*i<2?a=o+(s-o)*(2/3-i)*6:a=o,u[l]=a*255;return u};D.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,s=r,i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,s*=i<=1?i:2-i;let a=(n+r)/2,o=n===0?2*s/(i+s):2*r/(n+r);return[e,o*100,a*100]};D.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,s=Math.floor(e)%6,i=e-Math.floor(e),a=255*n*(1-r),o=255*n*(1-r*i),u=255*n*(1-r*(1-i));switch(n*=255,s){case 0:return[n,u,a];case 1:return[o,n,a];case 2:return[a,n,u];case 3:return[a,o,n];case 4:return[u,a,n];case 5:return[n,a,o]}};D.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,s=Math.max(n,.01),i,a;a=(2-r)*n;let o=(2-r)*s;return i=r*s,i/=o<=1?o:2-o,i=i||0,a/=2,[e,i*100,a*100]};D.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,s=r+n,i;s>1&&(r/=s,n/=s);let a=Math.floor(6*e),o=1-n;i=6*e-a,(a&1)!=0&&(i=1-i);let u=r+i*(o-r),l,c,d;switch(a){default:case 6:case 0:l=o,c=u,d=r;break;case 1:l=u,c=o,d=r;break;case 2:l=r,c=o,d=u;break;case 3:l=r,c=u,d=o;break;case 4:l=u,c=r,d=o;break;case 5:l=o,c=r,d=u;break}return[l*255,c*255,d*255]};D.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),a=1-Math.min(1,r*(1-s)+s),o=1-Math.min(1,n*(1-s)+s);return[i*255,a*255,o*255]};D.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,s,i,a;return s=e*3.2406+r*-1.5372+n*-.4986,i=e*-.9689+r*1.8758+n*.0415,a=e*.0557+r*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[s*255,i*255,a*255]};D.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*r-16,i=500*(e-r),a=200*(r-n);return[s,i,a]};D.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],s,i,a;i=(e+16)/116,s=r/500+i,a=i-n/200;let o=i**3,u=s**3,l=a**3;return i=o>.008856?o:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,a=l>.008856?l:(a-16/116)/7.787,s*=95.047,i*=100,a*=108.883,[s,i,a]};D.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],s;s=Math.atan2(n,r)*360/2/Math.PI,s<0&&(s+=360);let a=Math.sqrt(r*r+n*n);return[e,a,s]};D.lch.lab=function(t){let e=t[0],r=t[1],s=t[2]/360*2*Math.PI,i=r*Math.cos(s),a=r*Math.sin(s);return[e,i,a]};D.rgb.ansi16=function(t,e=null){let[r,n,s]=t,i=e===null?D.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let a=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return i===2&&(a+=60),a};D.hsv.ansi16=function(t){return D.rgb.ansi16(D.hsv.rgb(t),t[2])};D.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};D.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,s=(e>>1&1)*r*255,i=(e>>2&1)*r*255;return[n,s,i]};D.ansi256.rgb=function(t){if(t>=232){let i=(t-232)*10+8;return[i,i,i]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[r,n,s]};D.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};D.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(o=>o+o).join(""));let n=parseInt(r,16),s=n>>16&255,i=n>>8&255,a=n&255;return[s,i,a]};D.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(Math.max(e,r),n),i=Math.min(Math.min(e,r),n),a=s-i,o,u;return a<1?o=i/(1-a):o=0,a<=0?u=0:s===e?u=(r-n)/a%6:s===r?u=2+(n-e)/a:u=4+(e-r)/a,u/=6,u%=1,[u*360,a*100,o*100]};D.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),s=0;return n<1&&(s=(r-.5*n)/(1-n)),[t[0],n*100,s*100]};D.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],n*100,s*100]};D.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let s=[0,0,0],i=e%1*6,a=i%1,o=1-a,u=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return u=(1-r)*n,[(r*s[0]+u)*255,(r*s[1]+u)*255,(r*s[2]+u)*255]};D.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),s=0;return n>0&&(s=e/n),[t[0],s*100,n*100]};D.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[t[0],s*100,n*100]};D.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};D.hwb.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=1-r,s=n-e,i=0;return s<1&&(i=(n-s)/(1-s)),[t[0],s*100,i*100]};D.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};D.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};D.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};D.gray.hsl=function(t){return[0,0,t[0]]};D.gray.hsv=D.gray.hsl;D.gray.hwb=function(t){return[0,100,t[0]]};D.gray.cmyk=function(t){return[0,0,0,t[0]]};D.gray.lab=function(t){return[t[0],0,0]};D.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};D.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Og=h((oF,Tg)=>{var Yi=Mu();function oC(){let t={},e=Object.keys(Yi);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function uC(t){let e=oC(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),s=Object.keys(Yi[n]);for(let i=s.length,a=0;a<i;a++){let o=s[a],u=e[o];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(o))}}return e}function lC(t,e){return function(r){return e(t(r))}}function cC(t,e){let r=[e[t].parent,t],n=Yi[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)r.unshift(e[s].parent),n=lC(Yi[e[s].parent][s],n),s=e[s].parent;return n.conversion=r,n}Tg.exports=function(t){let e=uC(t),r={},n=Object.keys(e);for(let s=n.length,i=0;i<s;i++){let a=n[i];e[a].parent!==null&&(r[a]=cC(a,e))}return r}});var Hg=h((uF,Ng)=>{var qu=Mu(),fC=Og(),nn={},dC=Object.keys(qu);function hC(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function pC(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let s=t(r);if(typeof s=="object")for(let i=s.length,a=0;a<i;a++)s[a]=Math.round(s[a]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}dC.forEach(t=>{nn[t]={},Object.defineProperty(nn[t],"channels",{value:qu[t].channels}),Object.defineProperty(nn[t],"labels",{value:qu[t].labels});let e=fC(t);Object.keys(e).forEach(n=>{let s=e[n];nn[t][n]=pC(s),nn[t][n].raw=hC(s)})});Ng.exports=nn});var Dg=h((lF,kg)=>{"use strict";var Lg=(t,e)=>(...r)=>`[${t(...r)+e}m`,Mg=(t,e)=>(...r)=>{let n=t(...r);return`[${38+e};5;${n}m`},qg=(t,e)=>(...r)=>{let n=t(...r);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`},zi=t=>t,Ig=(t,e,r)=>[t,e,r],sn=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Iu,an=(t,e,r,n)=>{Iu===void 0&&(Iu=Hg());let s=n?10:0,i={};for(let[a,o]of Object.entries(Iu)){let u=a==="ansi16"?"ansi":a;a===e?i[u]=t(r,s):typeof o=="object"&&(i[u]=t(o[e],s))}return i};function gC(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[s,i]of Object.entries(n))e[s]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[s]=e[s],t.set(i[0],i[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="[39m",e.bgColor.close="[49m",sn(e.color,"ansi",()=>an(Lg,"ansi16",zi,!1)),sn(e.color,"ansi256",()=>an(Mg,"ansi256",zi,!1)),sn(e.color,"ansi16m",()=>an(qg,"rgb",Ig,!1)),sn(e.bgColor,"ansi",()=>an(Lg,"ansi16",zi,!0)),sn(e.bgColor,"ansi256",()=>an(Mg,"ansi256",zi,!0)),sn(e.bgColor,"ansi16m",()=>an(qg,"rgb",Ig,!0)),e}Object.defineProperty(kg,"exports",{enumerable:!0,get:gC})});var Fg=h((cF,$g)=>{"use strict";var yC=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let s=e.length,i=0,a="";do a+=t.substr(i,n-i)+e+r,i=n+s,n=t.indexOf(e,i);while(n!==-1);return a+=t.substr(i),a},mC=(t,e,r,n)=>{let s=0,i="";do{let a=t[n-1]==="\r";i+=t.substr(s,(a?n-1:n)-s)+e+(a?`\r
`:`
`)+r,s=n+1,n=t.indexOf(`
`,s)}while(n!==-1);return i+=t.substr(s),i};$g.exports={stringReplaceAll:yC,stringEncaseCRLFWithFirstIndex:mC}});var Gg=h((fF,Ug)=>{"use strict";var vC=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,jg=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,_C=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,bC=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,EC=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function Bg(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):EC.get(t)||t}function RC(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),s;for(let i of n){let a=Number(i);if(!Number.isNaN(a))r.push(a);else if(s=i.match(_C))r.push(s[2].replace(bC,(o,u,l)=>u?Bg(u):l));else throw new Error(`Invalid Chalk template style argument: ${i} (in style '${t}')`)}return r}function AC(t){jg.lastIndex=0;let e=[],r;for(;(r=jg.exec(t))!==null;){let n=r[1];if(r[2]){let s=RC(n,r[2]);e.push([n].concat(s))}else e.push([n])}return e}function Vg(t,e){let r={};for(let s of e)for(let i of s.styles)r[i[0]]=s.inverse?null:i.slice(1);let n=t;for(let[s,i]of Object.entries(r))if(!!Array.isArray(i)){if(!(s in n))throw new Error(`Unknown Chalk style: ${s}`);n=i.length>0?n[s](...i):n[s]}return n}Ug.exports=(t,e)=>{let r=[],n=[],s=[];if(e.replace(vC,(i,a,o,u,l,c)=>{if(a)s.push(Bg(a));else if(u){let d=s.join("");s=[],n.push(r.length===0?d:Vg(t,r)(d)),r.push({inverse:o,styles:AC(u)})}else if(l){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Vg(t,r)(s.join(""))),s=[],r.pop()}else s.push(c)}),n.push(s.join("")),r.length>0){let i=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(i)}return n.join("")}});var Zg=h((dF,Jg)=>{"use strict";var ps=Dg(),{stdout:ku,stderr:Du}=Xo(),{stringReplaceAll:SC,stringEncaseCRLFWithFirstIndex:wC}=Fg(),{isArray:Xi}=Array,Wg=["ansi","ansi","ansi256","ansi16m"],on=Object.create(null),xC=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=ku?ku.level:0;t.level=e.level===void 0?r:e.level},Kg=class{constructor(e){return Yg(e)}},Yg=t=>{let e={};return xC(e,t),e.template=(...r)=>Qg(e.template,...r),Object.setPrototypeOf(e,Qi.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=Kg,e.template};function Qi(t){return Yg(t)}for(let[t,e]of Object.entries(ps))on[t]={get(){let r=Ji(this,$u(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};on.visible={get(){let t=Ji(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var zg=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of zg)on[t]={get(){let{level:e}=this;return function(...r){let n=$u(ps.color[Wg[e]][t](...r),ps.color.close,this._styler);return Ji(this,n,this._isEmpty)}}};for(let t of zg){let e="bg"+t[0].toUpperCase()+t.slice(1);on[e]={get(){let{level:r}=this;return function(...n){let s=$u(ps.bgColor[Wg[r]][t](...n),ps.bgColor.close,this._styler);return Ji(this,s,this._isEmpty)}}}}var PC=Object.defineProperties(()=>{},Y(H({},on),{level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}})),$u=(t,e,r)=>{let n,s;return r===void 0?(n=t,s=e):(n=r.openAll+t,s=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:s,parent:r}},Ji=(t,e,r)=>{let n=(...s)=>Xi(s[0])&&Xi(s[0].raw)?Xg(n,Qg(n,...s)):Xg(n,s.length===1?""+s[0]:s.join(" "));return Object.setPrototypeOf(n,PC),n._generator=t,n._styler=e,n._isEmpty=r,n},Xg=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:s}=r;if(e.indexOf("")!==-1)for(;r!==void 0;)e=SC(e,r.close,r.open),r=r.parent;let i=e.indexOf(`
`);return i!==-1&&(e=wC(e,s,n,i)),n+e+s},Fu,Qg=(t,...e)=>{let[r]=e;if(!Xi(r)||!Xi(r.raw))return e.join(" ");let n=e.slice(1),s=[r.raw[0]];for(let i=1;i<r.length;i++)s.push(String(n[i-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[i]));return Fu===void 0&&(Fu=Gg()),Fu(t,s.join(""))};Object.defineProperties(Qi.prototype,on);var Zi=Qi();Zi.supportsColor=ku;Zi.stderr=Qi({level:Du?Du.level:0});Zi.stderr.supportsColor=Du;Jg.exports=Zi});var ly=h(ea=>{"use strict";function ey(t,e,r,n,s,i,a){try{var o=t[i](a),u=o.value}catch(l){return void r(l)}o.done?e(u):Promise.resolve(u).then(n,s)}function br(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var i=t.apply(e,r);function a(u){ey(i,n,s,a,o,"next",u)}function o(u){ey(i,n,s,a,o,"throw",u)}a(void 0)})}}function gs(){return(gs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ue(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(t,e)}function ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(s,i){if(s){if(typeof s=="string")return ty(s,void 0);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ty(s,void 0):void 0}}(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Object.defineProperty(ea,"__esModule",{value:!0});var ry,$e=(function(t){var e=function(r){var n=Object.prototype,s=n.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(A,R,N){return Object.defineProperty(A,R,{value:N,enumerable:!0,configurable:!0,writable:!0}),A[R]}try{l({},"")}catch{l=function(R,N,v){return R[N]=v}}function c(A,R,N,v){var m=Object.create((R&&R.prototype instanceof p?R:p).prototype),J=new U(v||[]);return m._invoke=function(b,S,x){var O="suspendedStart";return function(j,se){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(j==="throw")throw se;return{value:void 0,done:!0}}for(x.method=j,x.arg=se;;){var oe=x.delegate;if(oe){var ie=V(oe,x);if(ie){if(ie===f)continue;return ie}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(O==="suspendedStart")throw O="completed",x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);O="executing";var F=d(b,S,x);if(F.type==="normal"){if(O=x.done?"completed":"suspendedYield",F.arg===f)continue;return{value:F.arg,done:x.done}}F.type==="throw"&&(O="completed",x.method="throw",x.arg=F.arg)}}}(A,N,J),m}function d(A,R,N){try{return{type:"normal",arg:A.call(R,N)}}catch(v){return{type:"throw",arg:v}}}r.wrap=c;var f={};function p(){}function g(){}function y(){}var _={};_[a]=function(){return this};var E=Object.getPrototypeOf,L=E&&E(E(Q([])));L&&L!==n&&s.call(L,a)&&(_=L);var B=y.prototype=p.prototype=Object.create(_);function $(A){["next","throw","return"].forEach(function(R){l(A,R,function(N){return this._invoke(R,N)})})}function k(A,R){var N;this._invoke=function(v,m){function J(){return new R(function(b,S){(function x(O,j,se,oe){var ie=d(A[O],A,j);if(ie.type!=="throw"){var F=ie.arg,de=F.value;return de&&typeof de=="object"&&s.call(de,"__await")?R.resolve(de.__await).then(function(Be){x("next",Be,se,oe)},function(Be){x("throw",Be,se,oe)}):R.resolve(de).then(function(Be){F.value=Be,se(F)},function(Be){return x("throw",Be,se,oe)})}oe(ie.arg)})(v,m,b,S)})}return N=N?N.then(J,J):J()}}function V(A,R){var N=A.iterator[R.method];if(N===void 0){if(R.delegate=null,R.method==="throw"){if(A.iterator.return&&(R.method="return",R.arg=void 0,V(A,R),R.method==="throw"))return f;R.method="throw",R.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var v=d(N,A.iterator,R.arg);if(v.type==="throw")return R.method="throw",R.arg=v.arg,R.delegate=null,f;var m=v.arg;return m?m.done?(R[A.resultName]=m.value,R.next=A.nextLoc,R.method!=="return"&&(R.method="next",R.arg=void 0),R.delegate=null,f):m:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,f)}function M(A){var R={tryLoc:A[0]};1 in A&&(R.catchLoc=A[1]),2 in A&&(R.finallyLoc=A[2],R.afterLoc=A[3]),this.tryEntries.push(R)}function T(A){var R=A.completion||{};R.type="normal",delete R.arg,A.completion=R}function U(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(M,this),this.reset(!0)}function Q(A){if(A){var R=A[a];if(R)return R.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var N=-1,v=function m(){for(;++N<A.length;)if(s.call(A,N))return m.value=A[N],m.done=!1,m;return m.value=void 0,m.done=!0,m};return v.next=v}}return{next:w}}function w(){return{value:void 0,done:!0}}return g.prototype=B.constructor=y,y.constructor=g,g.displayName=l(y,u,"GeneratorFunction"),r.isGeneratorFunction=function(A){var R=typeof A=="function"&&A.constructor;return!!R&&(R===g||(R.displayName||R.name)==="GeneratorFunction")},r.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,y):(A.__proto__=y,l(A,u,"GeneratorFunction")),A.prototype=Object.create(B),A},r.awrap=function(A){return{__await:A}},$(k.prototype),k.prototype[o]=function(){return this},r.AsyncIterator=k,r.async=function(A,R,N,v,m){m===void 0&&(m=Promise);var J=new k(c(A,R,N,v),m);return r.isGeneratorFunction(R)?J:J.next().then(function(b){return b.done?b.value:J.next()})},$(B),l(B,u,"Generator"),B[a]=function(){return this},B.toString=function(){return"[object Generator]"},r.keys=function(A){var R=[];for(var N in A)R.push(N);return R.reverse(),function v(){for(;R.length;){var m=R.pop();if(m in A)return v.value=m,v.done=!1,v}return v.done=!0,v}},r.values=Q,U.prototype={constructor:U,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!A)for(var R in this)R.charAt(0)==="t"&&s.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var R=this;function N(x,O){return J.type="throw",J.arg=A,R.next=x,O&&(R.method="next",R.arg=void 0),!!O}for(var v=this.tryEntries.length-1;v>=0;--v){var m=this.tryEntries[v],J=m.completion;if(m.tryLoc==="root")return N("end");if(m.tryLoc<=this.prev){var b=s.call(m,"catchLoc"),S=s.call(m,"finallyLoc");if(b&&S){if(this.prev<m.catchLoc)return N(m.catchLoc,!0);if(this.prev<m.finallyLoc)return N(m.finallyLoc)}else if(b){if(this.prev<m.catchLoc)return N(m.catchLoc,!0)}else{if(!S)throw new Error("try statement without catch or finally");if(this.prev<m.finallyLoc)return N(m.finallyLoc)}}}},abrupt:function(A,R){for(var N=this.tryEntries.length-1;N>=0;--N){var v=this.tryEntries[N];if(v.tryLoc<=this.prev&&s.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var m=v;break}}m&&(A==="break"||A==="continue")&&m.tryLoc<=R&&R<=m.finallyLoc&&(m=null);var J=m?m.completion:{};return J.type=A,J.arg=R,m?(this.method="next",this.next=m.finallyLoc,f):this.complete(J)},complete:function(A,R){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&R&&(this.next=R),f},finish:function(A){for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R];if(N.finallyLoc===A)return this.complete(N.completion,N.afterLoc),T(N),f}},catch:function(A){for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R];if(N.tryLoc===A){var v=N.completion;if(v.type==="throw"){var m=v.arg;T(N)}return m}}throw new Error("illegal catch attempt")},delegateYield:function(A,R,N){return this.delegate={iterator:Q(A),resultName:R,nextLoc:N},this.method==="next"&&(this.arg=void 0),f}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}(ry={exports:{}}),ry.exports),jt=function t(e){return e!=null&&(Array.isArray(e)?e.filter(function(r){return t(r)}).length>0:typeof e=="object"?Object.keys(e).length>0:e!=null)},ny=function(){var t=this;this.setCustomErrorMessage=function(e){t.customErrorMessage=e},this.setWhenCondition=function(e){t.whenCondition=e},this.setUnlessCondition=function(e){t.unlessCondition=e}},sy=function(t){function e(r){var n;return(n=t.call(this)||this).validateAsync=function(){var s=br($e.mark(function i(a,o){var u;return $e.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n.whenCondition==null||n.whenCondition(o)){l.next=2;break}return l.abrupt("return",null);case 2:if(n.unlessCondition==null||!n.unlessCondition(o)){l.next=4;break}return l.abrupt("return",null);case 4:return l.next=6,n.asyncValueValidator(a,o);case 6:return l.abrupt("return",(u=l.sent)!=null?n.customErrorMessage||u:null);case 8:case"end":return l.stop()}},i)}));return function(i,a){return s.apply(this,arguments)}}(),n.asyncValueValidator=r,n}return ue(e,t),e}(ny),CC=function(t){function e(r){return t.call(this,function(){var n=br($e.mark(function s(i,a){var o,u,l,c,d;return $e.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!Array.isArray(r)){f.next=20;break}o=xt(r);case 2:if((u=o()).done){f.next=19;break}if(typeof(l=u.value)!="function"){f.next=12;break}return f.next=7,l(i,a);case 7:if(f.sent){f.next=10;break}return f.abrupt("return","Value is not valid");case 10:f.next=17;break;case 12:return f.next=14,l.predicate(i,a);case 14:if(f.sent){f.next=17;break}return f.abrupt("return",typeof l.message=="function"?l.message(i,a):l.message);case 17:f.next=2;break;case 19:return f.abrupt("return",null);case 20:if(typeof r!="function"){f.next=29;break}return f.next=23,r(i,a);case 23:if(!f.sent){f.next=27;break}f.t0=null,f.next=28;break;case 27:f.t0="Value is not valid";case 28:return f.abrupt("return",f.t0);case 29:return c=r.predicate,d=r.message,f.next=32,c(i,a);case 32:if(!f.sent){f.next=36;break}f.t1=null,f.next=37;break;case 36:f.t1=typeof d=="function"?d(i,a):d;case 37:return f.abrupt("return",f.t1);case 38:case"end":return f.stop()}},s)}));return function(s,i){return n.apply(this,arguments)}}())||this}return ue(e,t),e}(sy),TC=function(t){function e(r){return t.call(this,function(){var n=br($e.mark(function s(i,a){return $e.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i!=null){o.next=4;break}o.t0=Promise.resolve(null),o.next=7;break;case 4:return o.next=6,r(a).validateAsync(i);case 6:o.t0=o.sent;case 7:return o.abrupt("return",o.t0);case 8:case"end":return o.stop()}},s)}));return function(s,i){return n.apply(this,arguments)}}())||this}return ue(e,t),e}(sy),Re=function(t){function e(r){var n;return(n=t.call(this)||this).validate=function(s,i){if(n.whenCondition!=null&&!n.whenCondition(i)||n.unlessCondition!=null&&n.unlessCondition(i))return null;var a=n.valueValidator(s,i);return a!=null?n.customErrorMessage||a:null},n.valueValidator=r,n}return ue(e,t),e}(ny),OC=/^[a-zA-Z0-9.!#$%&"*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/,NC=function(t){function e(){return t.call(this,function(r){if(r==null)return null;if(typeof r!="string")throw new TypeError("A non-string value was passed to the emailAddress rule");return OC.test(r)?null:"Not a valid email address"})||this}return ue(e,t),e}(Re),HC=function(t){function e(r){return t.call(this,function(n){return n===r?null:"Must equal '"+r+"'"})||this}return ue(e,t),e}(Re),LC=function(t){function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the exclusiveBetween rule");return s>r&&s<n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" (exclusive)"})||this}return ue(e,t),e}(Re),MC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the greaterThanOrEqualTo rule");return n>=r?null:"Value must be greater than or equal to "+r.toLocaleString()})||this}return ue(e,t),e}(Re),qC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the greaterThan rule");return n>r?null:"Value must be greater than "+r.toLocaleString()})||this}return ue(e,t),e}(Re),IC=function(t){function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the inclusiveBetween rule");return s>=r&&s<=n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" (inclusive)"})||this}return ue(e,t),e}(Re),kC=function(t){function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="string")throw new TypeError("A non-string value was passed to the length rule");return s.length>=r&&s.length<=n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" characters long"})||this}return ue(e,t),e}(Re),DC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the lessThanOrEqualTo rule");return n<=r?null:"Value must be less than or equal to "+r.toLocaleString()})||this}return ue(e,t),e}(Re),$C=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the lessThan rule");return n<r?null:"Value must be less than "+r.toLocaleString()})||this}return ue(e,t),e}(Re),FC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the matches rule");return r.test(n)?null:"Value does not match the required pattern"})||this}return ue(e,t),e}(Re),jC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the maxLength rule");return n.length<=r?null:"Value must be no more than "+r.toLocaleString()+" characters long"})||this}return ue(e,t),e}(Re),BC=function(t){function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the minLength rule");return n.length>=r?null:"Value must be at least "+r.toLocaleString()+" characters long"})||this}return ue(e,t),e}(Re),VC=function(t){function e(r){return t.call(this,function(n,s){if(Array.isArray(r)){for(var i,a=xt(r);!(i=a()).done;){var o=i.value;if(typeof o=="function"){if(!o(n,s))return"Value is not valid"}else if(!o.predicate(n,s))return typeof o.message=="function"?o.message(n,s):o.message}return null}if(typeof r=="function")return r(n,s)?null:"Value is not valid";var u=r.message;return(0,r.predicate)(n,s)?null:typeof u=="function"?u(n,s):u})||this}return ue(e,t),e}(Re),UC=function(t){function e(){return t.call(this,function(r){if(typeof r!="string"){if(r==null)return null;throw new TypeError("A non-string value was passed to the notEmpty rule")}return r.trim().length>0?null:"Value cannot be empty"})||this}return ue(e,t),e}(Re),GC=function(t){function e(r){return t.call(this,function(n){return n!==r?null:"Must not equal '"+r+"'"})||this}return ue(e,t),e}(Re),WC=function(t){function e(){return t.call(this,function(r){return r!=null?null:"Value cannot be null"})||this}return ue(e,t),e}(Re),KC=function(t){function e(){return t.call(this,function(r){return r==null?null:"Value must be null"})||this}return ue(e,t),e}(Re),YC=function(t){function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the scalePrecision rule");return zC(n,r).test(s.toString())?null:"Value must not be more than "+n+" digits in total, with allowance for "+r+" decimals"})||this}return ue(e,t),e}(Re),zC=function(t,e){return new RegExp("^(-)?([0-9]){0,"+(t-e)+"}(\\.[0-9]{0,"+e+"})?$")},XC=function(t){function e(r){return t.call(this,function(n,s){return n==null?null:r(s).validate(n)})||this}return ue(e,t),e}(Re),iy=function(t){var e=this;this.rules=[],this.pushRule=function(r){e.rules.push({isAsync:!1,rule:r}),e.rebuildValidate()},this.pushAsyncRule=function(r){e.rules.push({isAsync:!0,rule:r}),e.rebuildValidate()},this.withMessage=function(r){return e.getLatestRule().rule.setCustomErrorMessage(r),e.rebuildValidate(),gs({},e.getAllRules(),{when:e.when,unless:e.unless})},this.when=function(r,n){if(n===void 0&&(n="AppliesToAllValidators"),n==="AppliesToAllValidators")for(var s,i=xt(e.rules);!(s=i()).done;)s.value.rule.setWhenCondition(r);else e.getLatestRule().rule.setWhenCondition(r);return e.rebuildValidate(),e.getAllRules()},this.unless=function(r,n){if(n===void 0&&(n="AppliesToAllValidators"),n==="AppliesToAllValidators")for(var s,i=xt(e.rules);!(s=i()).done;)s.value.rule.setUnlessCondition(r);else e.getLatestRule().rule.setUnlessCondition(r);return e.rebuildValidate(),e.getAllRules()},this.notEqual=function(r){var n=new GC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.equal=function(r){var n=new HC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.must=function(r){var n=new VC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.notNull=function(){var r=new WC;return e.pushRule(r),e.getAllRulesAndExtensions()},this.null=function(){var r=new KC;return e.pushRule(r),e.getAllRulesAndExtensions()},this.notEmpty=function(){var r=new UC;return e.pushRule(r),e.getAllRulesAndExtensions()},this.length=function(r,n){var s=new kC(r,n);return e.pushRule(s),e.getAllRulesAndExtensions()},this.maxLength=function(r){var n=new jC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.minLength=function(r){var n=new BC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.matches=function(r){var n=new FC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.emailAddress=function(){var r=new NC;return e.pushRule(r),e.getAllRulesAndExtensions()},this.lessThan=function(r){var n=new $C(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.lessThanOrEqualTo=function(r){var n=new DC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.greaterThan=function(r){var n=new qC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.greaterThanOrEqualTo=function(r){var n=new MC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.exclusiveBetween=function(r,n){var s=new LC(r,n);return e.pushRule(s),e.getAllRulesAndExtensions()},this.inclusiveBetween=function(r,n){var s=new IC(r,n);return e.pushRule(s),e.getAllRulesAndExtensions()},this.setValidator=function(r){var n=new XC(r);return e.pushRule(n),e.getAllRulesAndExtensions()},this.scalePrecision=function(r,n){if(n-r<=0)throw new Error("Invalid scale and precision were passed to the scalePrecision rule");var s=new YC(r,n);return e.pushRule(s),e.getAllRulesAndExtensions()},this._getAllRules=function(){return{notEqual:e.notEqual,equal:e.equal,must:e.must,notNull:e.notNull,null:e.null,notEmpty:e.notEmpty,length:e.length,maxLength:e.maxLength,minLength:e.minLength,matches:e.matches,emailAddress:e.emailAddress,lessThan:e.lessThan,lessThanOrEqualTo:e.lessThanOrEqualTo,greaterThan:e.greaterThan,greaterThanOrEqualTo:e.greaterThanOrEqualTo,exclusiveBetween:e.exclusiveBetween,inclusiveBetween:e.inclusiveBetween,setValidator:e.setValidator,scalePrecision:e.scalePrecision}},this.getAllRules=function(){throw new Error("getAllRules on CoreValueValidatorBuilder is an abstract method and should never be called")},this.getAllRulesAndExtensions=function(){return gs({},e.getAllRules(),{withMessage:e.withMessage,when:e.when,unless:e.unless})},this.getLatestRule=function(){return e.rules[e.rules.length-1]},this.rebuildValidate=t},ay=function(t){function e(r){var n;return(n=t.call(this,r)||this).build=function(){return function(){var s=br($e.mark(function i(a,o){var u,l,c,d;return $e.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:u=xt(n.rules);case 1:if((l=u()).done){f.next=15;break}if(!(c=l.value).isAsync){f.next=9;break}return f.next=6,c.rule.validateAsync(a,o);case 6:f.t0=f.sent,f.next=10;break;case 9:f.t0=c.rule.validate(a,o);case 10:if(!jt(d=f.t0)){f.next=13;break}return f.abrupt("return",d);case 13:f.next=1;break;case 15:return f.abrupt("return",null);case 16:case"end":return f.stop()}},i)}));return function(i,a){return s.apply(this,arguments)}}()},n.mustAsync=function(s){var i=new CC(s);return n.pushAsyncRule(i),n.getAllRulesAndExtensions()},n.setAsyncValidator=function(s){var i=new TC(s);return n.pushAsyncRule(i),n.getAllRulesAndExtensions()},n.getAllRules=function(){return gs({},n._getAllRules(),{mustAsync:n.mustAsync,setAsyncValidator:n.setAsyncValidator})},n}return ue(e,t),e}(iy),QC=function(t,e){var r=this;this.build=function(){return function(){var n=br($e.mark(function s(i,a){var o,u,l,c,d,f,p;return $e.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(a[r.propertyName]!=null){g.next=2;break}return g.abrupt("return",null);case 2:o=r.eachAsyncValueValidatorBuilder.build(),u=[],l=xt(i);case 5:if((c=l()).done){g.next=14;break}return d=c.value,g.next=9,o(d,a);case 9:p=jt(f=g.sent)?f:null,u.push(p);case 12:g.next=5;break;case 14:return g.abrupt("return",jt(u)?u:null);case 15:case"end":return g.stop()}},s)}));return function(s,i){return n.apply(this,arguments)}}()},this.getAllRules=function(){return r.eachAsyncValueValidatorBuilder.getAllRules()},this.eachAsyncValueValidatorBuilder=new ay(t),this.propertyName=e},oy=function(t){function e(r){var n;return(n=t.call(this,r)||this).build=function(){return function(s,i){for(var a,o=xt(n.rules);!(a=o()).done;){var u=a.value.rule.validate(s,i);if(jt(u))return u}return null}},n.getAllRules=function(){return gs({},n._getAllRules())},n}return ue(e,t),e}(iy),JC=function(t,e){var r=this;this.build=function(){return function(n,s){if(s[r.propertyName]==null)return null;var i=r.eachValueValidatorBuilder.build(),a=n.map(function(o){var u=i(o,s);return jt(u)?u:null});return jt(a)?a:null}},this.getAllRules=function(){return r.eachValueValidatorBuilder.getAllRules()},this.eachValueValidatorBuilder=new oy(t),this.propertyName=e},uy=function(t){var e=this;this.valueValidatorBuildersByPropertyName={},this.asyncValueValidatorBuildersByPropertyName={},this._validate=function(){return{}},this._validateAsync=br($e.mark(function r(){return $e.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve({}));case 1:case"end":return n.stop()}},r)})),this.rebuildValidate=function(){e._validate=function(r){for(var n={},s=0,i=Object.keys(e.valueValidatorBuildersByPropertyName);s<i.length;s++)for(var a,o=i[s],u=xt(e.valueValidatorBuildersByPropertyName[o]);!(a=u()).done;){var l=a.value.build()(r[o],r);jt(l)&&(n[o]=l)}return n}},this.rebuildValidateAsync=function(){e._validateAsync=function(){var r=br($e.mark(function n(s){var i,a,o,u,l,c,d,f;return $e.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i={},a=0,o=Object.keys(e.asyncValueValidatorBuildersByPropertyName);case 2:if(!(a<o.length)){p.next=18;break}l=xt(e.asyncValueValidatorBuildersByPropertyName[u=o[a]]);case 6:if((c=l()).done){p.next=15;break}return d=c.value.build(),p.next=11,d(s[u],s);case 11:jt(f=p.sent)&&(i[u]=f);case 13:p.next=6;break;case 15:a++,p.next=2;break;case 18:return p.abrupt("return",i);case 19:case"end":return p.stop()}},n)}));return function(n){return r.apply(this,arguments)}}()},this.ruleFor=function(r){if(e._isAsync){var n=new ay(e.rebuildValidateAsync);return e.asyncValueValidatorBuildersByPropertyName[r]=e.asyncValueValidatorBuildersByPropertyName[r]||[],e.asyncValueValidatorBuildersByPropertyName[r].push(n),n.getAllRules()}var s=new oy(e.rebuildValidate);return e.valueValidatorBuildersByPropertyName[r]=e.valueValidatorBuildersByPropertyName[r]||[],e.valueValidatorBuildersByPropertyName[r].push(s),s.getAllRules()},this.ruleForEach=function(r){if(e._isAsync){var n=new QC(e.rebuildValidateAsync,r);return e.asyncValueValidatorBuildersByPropertyName[r]==null&&(e.asyncValueValidatorBuildersByPropertyName[r]=[]),e.asyncValueValidatorBuildersByPropertyName[r].push(n),n.getAllRules()}var s=new JC(e.rebuildValidate,r);return e.valueValidatorBuildersByPropertyName[r]==null&&(e.valueValidatorBuildersByPropertyName[r]=[]),e.valueValidatorBuildersByPropertyName[r].push(s),s.getAllRules()},this._isAsync=t},ZC=function(t){function e(){var r;return(r=t.call(this,!1)||this).validate=function(n){return r._validate(n)},r}return ue(e,t),e}(uy);ea.AsyncValidator=function(t){function e(){var r;return(r=t.call(this,!0)||this).validateAsync=function(n){return r._validateAsync(n)},r}return ue(e,t),e}(uy),ea.Validator=ZC});var vy=h(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});function cy(t,e,r,n,s,i,a){try{var o=t[i](a),u=o.value}catch(l){r(l);return}o.done?e(u):Promise.resolve(u).then(n,s)}function Er(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var i=t.apply(e,r);function a(u){cy(i,n,s,a,o,"next",u)}function o(u){cy(i,n,s,a,o,"throw",u)}a(void 0)})}}function un(){return un=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},un.apply(this,arguments)}function le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ju(t,e)}function ju(t,e){return ju=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},ju(t,e)}function eT(t,e){if(!!t){if(typeof t=="string")return fy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(t,e)}}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=eT(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tT(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Fe=tT(function(t){var e=function(r){var n=Object.prototype,s=n.hasOwnProperty,i,a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(b,S,x){return Object.defineProperty(b,S,{value:x,enumerable:!0,configurable:!0,writable:!0}),b[S]}try{c({},"")}catch{c=function(S,x,O){return S[x]=O}}function d(b,S,x,O){var j=S&&S.prototype instanceof L?S:L,se=Object.create(j.prototype),oe=new v(O||[]);return se._invoke=w(b,x,oe),se}r.wrap=d;function f(b,S,x){try{return{type:"normal",arg:b.call(S,x)}}catch(O){return{type:"throw",arg:O}}}var p="suspendedStart",g="suspendedYield",y="executing",_="completed",E={};function L(){}function B(){}function $(){}var k={};k[o]=function(){return this};var V=Object.getPrototypeOf,M=V&&V(V(m([])));M&&M!==n&&s.call(M,o)&&(k=M);var T=$.prototype=L.prototype=Object.create(k);B.prototype=T.constructor=$,$.constructor=B,B.displayName=c($,l,"GeneratorFunction");function U(b){["next","throw","return"].forEach(function(S){c(b,S,function(x){return this._invoke(S,x)})})}r.isGeneratorFunction=function(b){var S=typeof b=="function"&&b.constructor;return S?S===B||(S.displayName||S.name)==="GeneratorFunction":!1},r.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,$):(b.__proto__=$,c(b,l,"GeneratorFunction")),b.prototype=Object.create(T),b},r.awrap=function(b){return{__await:b}};function Q(b,S){function x(se,oe,ie,F){var de=f(b[se],b,oe);if(de.type==="throw")F(de.arg);else{var Be=de.arg,C=Be.value;return C&&typeof C=="object"&&s.call(C,"__await")?S.resolve(C.__await).then(function(ee){x("next",ee,ie,F)},function(ee){x("throw",ee,ie,F)}):S.resolve(C).then(function(ee){Be.value=ee,ie(Be)},function(ee){return x("throw",ee,ie,F)})}}var O;function j(se,oe){function ie(){return new S(function(F,de){x(se,oe,F,de)})}return O=O?O.then(ie,ie):ie()}this._invoke=j}U(Q.prototype),Q.prototype[u]=function(){return this},r.AsyncIterator=Q,r.async=function(b,S,x,O,j){j===void 0&&(j=Promise);var se=new Q(d(b,S,x,O),j);return r.isGeneratorFunction(S)?se:se.next().then(function(oe){return oe.done?oe.value:se.next()})};function w(b,S,x){var O=p;return function(se,oe){if(O===y)throw new Error("Generator is already running");if(O===_){if(se==="throw")throw oe;return J()}for(x.method=se,x.arg=oe;;){var ie=x.delegate;if(ie){var F=A(ie,x);if(F){if(F===E)continue;return F}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(O===p)throw O=_,x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);O=y;var de=f(b,S,x);if(de.type==="normal"){if(O=x.done?_:g,de.arg===E)continue;return{value:de.arg,done:x.done}}else de.type==="throw"&&(O=_,x.method="throw",x.arg=de.arg)}}}function A(b,S){var x=b.iterator[S.method];if(x===i){if(S.delegate=null,S.method==="throw"){if(b.iterator.return&&(S.method="return",S.arg=i,A(b,S),S.method==="throw"))return E;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var O=f(x,b.iterator,S.arg);if(O.type==="throw")return S.method="throw",S.arg=O.arg,S.delegate=null,E;var j=O.arg;if(!j)return S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,E;if(j.done)S[b.resultName]=j.value,S.next=b.nextLoc,S.method!=="return"&&(S.method="next",S.arg=i);else return j;return S.delegate=null,E}U(T),c(T,l,"Generator"),T[o]=function(){return this},T.toString=function(){return"[object Generator]"};function R(b){var S={tryLoc:b[0]};1 in b&&(S.catchLoc=b[1]),2 in b&&(S.finallyLoc=b[2],S.afterLoc=b[3]),this.tryEntries.push(S)}function N(b){var S=b.completion||{};S.type="normal",delete S.arg,b.completion=S}function v(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(R,this),this.reset(!0)}r.keys=function(b){var S=[];for(var x in b)S.push(x);return S.reverse(),function O(){for(;S.length;){var j=S.pop();if(j in b)return O.value=j,O.done=!1,O}return O.done=!0,O}};function m(b){if(b){var S=b[o];if(S)return S.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var x=-1,O=function j(){for(;++x<b.length;)if(s.call(b,x))return j.value=b[x],j.done=!1,j;return j.value=i,j.done=!0,j};return O.next=O}}return{next:J}}r.values=m;function J(){return{value:i,done:!0}}return v.prototype={constructor:v,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(N),!b)for(var S in this)S.charAt(0)==="t"&&s.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=i)},stop:function(){this.done=!0;var b=this.tryEntries[0],S=b.completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var S=this;function x(F,de){return se.type="throw",se.arg=b,S.next=F,de&&(S.method="next",S.arg=i),!!de}for(var O=this.tryEntries.length-1;O>=0;--O){var j=this.tryEntries[O],se=j.completion;if(j.tryLoc==="root")return x("end");if(j.tryLoc<=this.prev){var oe=s.call(j,"catchLoc"),ie=s.call(j,"finallyLoc");if(oe&&ie){if(this.prev<j.catchLoc)return x(j.catchLoc,!0);if(this.prev<j.finallyLoc)return x(j.finallyLoc)}else if(oe){if(this.prev<j.catchLoc)return x(j.catchLoc,!0)}else if(ie){if(this.prev<j.finallyLoc)return x(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(b,S){for(var x=this.tryEntries.length-1;x>=0;--x){var O=this.tryEntries[x];if(O.tryLoc<=this.prev&&s.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var j=O;break}}j&&(b==="break"||b==="continue")&&j.tryLoc<=S&&S<=j.finallyLoc&&(j=null);var se=j?j.completion:{};return se.type=b,se.arg=S,j?(this.method="next",this.next=j.finallyLoc,E):this.complete(se)},complete:function(b,S){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&S&&(this.next=S),E},finish:function(b){for(var S=this.tryEntries.length-1;S>=0;--S){var x=this.tryEntries[S];if(x.finallyLoc===b)return this.complete(x.completion,x.afterLoc),N(x),E}},catch:function(b){for(var S=this.tryEntries.length-1;S>=0;--S){var x=this.tryEntries[S];if(x.tryLoc===b){var O=x.completion;if(O.type==="throw"){var j=O.arg;N(x)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(b,S,x){return this.delegate={iterator:m(b),resultName:S,nextLoc:x},this.method==="next"&&(this.arg=i),E}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}),Bt=function t(e){return e==null?!1:Array.isArray(e)?e.filter(function(r){return t(r)}).length>0:typeof e=="object"?Object.keys(e).length>0:e!=null},dy=function(){var e=this;this.setCustomErrorMessage=function(r){e.customErrorMessage=r},this.setWhenCondition=function(r){e.whenCondition=r},this.setUnlessCondition=function(r){e.unlessCondition=r}},hy=function(t){le(e,t);function e(r){var n;return n=t.call(this)||this,n.validateAsync=function(){var s=Er(Fe.mark(function i(a,o){var u;return Fe.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(n.whenCondition!=null&&!n.whenCondition(o))){c.next=2;break}return c.abrupt("return",null);case 2:if(!(n.unlessCondition!=null&&n.unlessCondition(o))){c.next=4;break}return c.abrupt("return",null);case 4:return c.next=6,n.asyncValueValidator(a,o);case 6:return u=c.sent,c.abrupt("return",u!=null?n.customErrorMessage||u:null);case 8:case"end":return c.stop()}},i)}));return function(i,a){return s.apply(this,arguments)}}(),n.asyncValueValidator=r,n}return e}(dy),rT=function(t){le(e,t);function e(r){return t.call(this,function(){var n=Er(Fe.mark(function s(i,a){var o,u,l,c,d,f,p;return Fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!Array.isArray(r)){y.next=20;break}o=Pt(r);case 2:if((u=o()).done){y.next=19;break}if(l=u.value,typeof l!="function"){y.next=12;break}return y.next=7,l(i,a);case 7:if(c=y.sent,c){y.next=10;break}return y.abrupt("return","Value is not valid");case 10:y.next=17;break;case 12:return y.next=14,l.predicate(i,a);case 14:if(d=y.sent,d){y.next=17;break}return y.abrupt("return",typeof l.message=="function"?l.message(i,a):l.message);case 17:y.next=2;break;case 19:return y.abrupt("return",null);case 20:if(typeof r!="function"){y.next=29;break}return y.next=23,r(i,a);case 23:if(!y.sent){y.next=27;break}y.t0=null,y.next=28;break;case 27:y.t0="Value is not valid";case 28:return y.abrupt("return",y.t0);case 29:return f=r.predicate,p=r.message,y.next=32,f(i,a);case 32:if(!y.sent){y.next=36;break}y.t1=null,y.next=37;break;case 36:y.t1=typeof p=="function"?p(i,a):p;case 37:return y.abrupt("return",y.t1);case 38:case"end":return y.stop()}},s)}));return function(s,i){return n.apply(this,arguments)}}())||this}return e}(hy),nT=function(t){le(e,t);function e(r){return t.call(this,function(){var n=Er(Fe.mark(function s(i,a){return Fe.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i!=null){u.next=4;break}u.t0=Promise.resolve(null),u.next=7;break;case 4:return u.next=6,r(a).validateAsync(i);case 6:u.t0=u.sent;case 7:return u.abrupt("return",u.t0);case 8:case"end":return u.stop()}},s)}));return function(s,i){return n.apply(this,arguments)}}())||this}return e}(hy),Ae=function(t){le(e,t);function e(r){var n;return n=t.call(this)||this,n.validate=function(s,i){if(n.whenCondition!=null&&!n.whenCondition(i)||n.unlessCondition!=null&&n.unlessCondition(i))return null;var a=n.valueValidator(s,i);return a!=null?n.customErrorMessage||a:null},n.valueValidator=r,n}return e}(dy),sT=/^[a-zA-Z0-9.!#$%&"*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/,iT=function(t){le(e,t);function e(){return t.call(this,function(r){if(r==null)return null;if(typeof r!="string")throw new TypeError("A non-string value was passed to the emailAddress rule");return sT.test(r)?null:"Not a valid email address"})||this}return e}(Ae),aT=function(t){le(e,t);function e(r){return t.call(this,function(n){return n===r?null:"Must equal '"+r+"'"})||this}return e}(Ae),oT=function(t){le(e,t);function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the exclusiveBetween rule");return s>r&&s<n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" (exclusive)"})||this}return e}(Ae),uT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the greaterThanOrEqualTo rule");return n>=r?null:"Value must be greater than or equal to "+r.toLocaleString()})||this}return e}(Ae),lT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the greaterThan rule");return n>r?null:"Value must be greater than "+r.toLocaleString()})||this}return e}(Ae),cT=function(t){le(e,t);function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the inclusiveBetween rule");return s>=r&&s<=n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" (inclusive)"})||this}return e}(Ae),fT=function(t){le(e,t);function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="string")throw new TypeError("A non-string value was passed to the length rule");return s.length>=r&&s.length<=n?null:"Value must be between "+r.toLocaleString()+" and "+n.toLocaleString()+" characters long"})||this}return e}(Ae),dT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the lessThanOrEqualTo rule");return n<=r?null:"Value must be less than or equal to "+r.toLocaleString()})||this}return e}(Ae),hT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="number")throw new TypeError("A non-number value was passed to the lessThan rule");return n<r?null:"Value must be less than "+r.toLocaleString()})||this}return e}(Ae),pT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the matches rule");return r.test(n)?null:"Value does not match the required pattern"})||this}return e}(Ae),gT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the maxLength rule");return n.length<=r?null:"Value must be no more than "+r.toLocaleString()+" characters long"})||this}return e}(Ae),yT=function(t){le(e,t);function e(r){return t.call(this,function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("A non-string value was passed to the minLength rule");return n.length>=r?null:"Value must be at least "+r.toLocaleString()+" characters long"})||this}return e}(Ae),mT=function(t){le(e,t);function e(r){return t.call(this,function(n,s){if(Array.isArray(r)){for(var i=Pt(r),a;!(a=i()).done;){var o=a.value;if(typeof o=="function"){var u=o(n,s);if(!u)return"Value is not valid"}else{var l=o.predicate(n,s);if(!l)return typeof o.message=="function"?o.message(n,s):o.message}}return null}if(typeof r=="function")return r(n,s)?null:"Value is not valid";var c=r.predicate,d=r.message;return c(n,s)?null:typeof d=="function"?d(n,s):d})||this}return e}(Ae),vT=function(t){le(e,t);function e(){return t.call(this,function(r){if(typeof r!="string"){if(r==null)return null;throw new TypeError("A non-string value was passed to the notEmpty rule")}return r.trim().length>0?null:"Value cannot be empty"})||this}return e}(Ae),_T=function(t){le(e,t);function e(r){return t.call(this,function(n){return n!==r?null:"Must not equal '"+r+"'"})||this}return e}(Ae),bT=function(t){le(e,t);function e(){return t.call(this,function(r){return r!=null?null:"Value cannot be null"})||this}return e}(Ae),ET=function(t){le(e,t);function e(){return t.call(this,function(r){return r==null?null:"Value must be null"})||this}return e}(Ae),RT=function(t){le(e,t);function e(r,n){return t.call(this,function(s){if(s==null)return null;if(typeof s!="number")throw new TypeError("A non-number value was passed to the scalePrecision rule");var i=AT(n,r);return i.test(s.toString())?null:"Value must not be more than "+n+" digits in total, with allowance for "+r+" decimals"})||this}return e}(Ae),AT=function(e,r){return new RegExp("^(-)?([0-9]){0,"+(e-r)+"}(\\.[0-9]{0,"+r+"})?$")},ST=function(t){le(e,t);function e(r){return t.call(this,function(n,s){return n==null?null:r(s).validate(n)})||this}return e}(Ae),py=function(e){var r=this;this.rules=[],this.pushRule=function(n){r.rules.push({isAsync:!1,rule:n}),r.rebuildValidate()},this.pushAsyncRule=function(n){r.rules.push({isAsync:!0,rule:n}),r.rebuildValidate()},this.withMessage=function(n){var s=r.getLatestRule();return s.rule.setCustomErrorMessage(n),r.rebuildValidate(),un({},r.getAllRules(),{when:r.when,unless:r.unless})},this.when=function(n,s){if(s===void 0&&(s="AppliesToAllValidators"),s==="AppliesToAllValidators")for(var i=Pt(r.rules),a;!(a=i()).done;){var o=a.value;o.rule.setWhenCondition(n)}else{var u=r.getLatestRule();u.rule.setWhenCondition(n)}return r.rebuildValidate(),r.getAllRules()},this.unless=function(n,s){if(s===void 0&&(s="AppliesToAllValidators"),s==="AppliesToAllValidators")for(var i=Pt(r.rules),a;!(a=i()).done;){var o=a.value;o.rule.setUnlessCondition(n)}else{var u=r.getLatestRule();u.rule.setUnlessCondition(n)}return r.rebuildValidate(),r.getAllRules()},this.notEqual=function(n){var s=new _T(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.equal=function(n){var s=new aT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.must=function(n){var s=new mT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.notNull=function(){var n=new bT;return r.pushRule(n),r.getAllRulesAndExtensions()},this.null=function(){var n=new ET;return r.pushRule(n),r.getAllRulesAndExtensions()},this.notEmpty=function(){var n=new vT;return r.pushRule(n),r.getAllRulesAndExtensions()},this.length=function(n,s){var i=new fT(n,s);return r.pushRule(i),r.getAllRulesAndExtensions()},this.maxLength=function(n){var s=new gT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.minLength=function(n){var s=new yT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.matches=function(n){var s=new pT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.emailAddress=function(){var n=new iT;return r.pushRule(n),r.getAllRulesAndExtensions()},this.lessThan=function(n){var s=new hT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.lessThanOrEqualTo=function(n){var s=new dT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.greaterThan=function(n){var s=new lT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.greaterThanOrEqualTo=function(n){var s=new uT(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.exclusiveBetween=function(n,s){var i=new oT(n,s);return r.pushRule(i),r.getAllRulesAndExtensions()},this.inclusiveBetween=function(n,s){var i=new cT(n,s);return r.pushRule(i),r.getAllRulesAndExtensions()},this.setValidator=function(n){var s=new ST(n);return r.pushRule(s),r.getAllRulesAndExtensions()},this.scalePrecision=function(n,s){if(s-n<=0)throw new Error("Invalid scale and precision were passed to the scalePrecision rule");var i=new RT(n,s);return r.pushRule(i),r.getAllRulesAndExtensions()},this._getAllRules=function(){return{notEqual:r.notEqual,equal:r.equal,must:r.must,notNull:r.notNull,null:r.null,notEmpty:r.notEmpty,length:r.length,maxLength:r.maxLength,minLength:r.minLength,matches:r.matches,emailAddress:r.emailAddress,lessThan:r.lessThan,lessThanOrEqualTo:r.lessThanOrEqualTo,greaterThan:r.greaterThan,greaterThanOrEqualTo:r.greaterThanOrEqualTo,exclusiveBetween:r.exclusiveBetween,inclusiveBetween:r.inclusiveBetween,setValidator:r.setValidator,scalePrecision:r.scalePrecision}},this.getAllRules=function(){throw new Error("getAllRules on CoreValueValidatorBuilder is an abstract method and should never be called")},this.getAllRulesAndExtensions=function(){return un({},r.getAllRules(),{withMessage:r.withMessage,when:r.when,unless:r.unless})},this.getLatestRule=function(){return r.rules[r.rules.length-1]},this.rebuildValidate=e},gy=function(t){le(e,t);function e(r){var n;return n=t.call(this,r)||this,n.build=function(){return function(){var s=Er(Fe.mark(function i(a,o){var u,l,c,d;return Fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=Pt(n.rules);case 1:if((l=u()).done){p.next=15;break}if(c=l.value,!c.isAsync){p.next=9;break}return p.next=6,c.rule.validateAsync(a,o);case 6:p.t0=p.sent,p.next=10;break;case 9:p.t0=c.rule.validate(a,o);case 10:if(d=p.t0,!Bt(d)){p.next=13;break}return p.abrupt("return",d);case 13:p.next=1;break;case 15:return p.abrupt("return",null);case 16:case"end":return p.stop()}},i)}));return function(i,a){return s.apply(this,arguments)}}()},n.mustAsync=function(s){var i=new rT(s);return n.pushAsyncRule(i),n.getAllRulesAndExtensions()},n.setAsyncValidator=function(s){var i=new nT(s);return n.pushAsyncRule(i),n.getAllRulesAndExtensions()},n.getAllRules=function(){return un({},n._getAllRules(),{mustAsync:n.mustAsync,setAsyncValidator:n.setAsyncValidator})},n}return e}(py),wT=function(e,r){var n=this;this.build=function(){return function(){var s=Er(Fe.mark(function i(a,o){var u,l,c,d,f,p,g;return Fe.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(o[n.propertyName]!=null){_.next=2;break}return _.abrupt("return",null);case 2:u=n.eachAsyncValueValidatorBuilder.build(),l=[],c=Pt(a);case 5:if((d=c()).done){_.next=14;break}return f=d.value,_.next=9,u(f,o);case 9:p=_.sent,g=Bt(p)?p:null,l.push(g);case 12:_.next=5;break;case 14:return _.abrupt("return",Bt(l)?l:null);case 15:case"end":return _.stop()}},i)}));return function(i,a){return s.apply(this,arguments)}}()},this.getAllRules=function(){return n.eachAsyncValueValidatorBuilder.getAllRules()},this.eachAsyncValueValidatorBuilder=new gy(e),this.propertyName=r},yy=function(t){le(e,t);function e(r){var n;return n=t.call(this,r)||this,n.build=function(){return function(s,i){for(var a=Pt(n.rules),o;!(o=a()).done;){var u=o.value,l=u.rule.validate(s,i);if(Bt(l))return l}return null}},n.getAllRules=function(){return un({},n._getAllRules())},n}return e}(py),xT=function(e,r){var n=this;this.build=function(){return function(s,i){if(i[n.propertyName]==null)return null;var a=n.eachValueValidatorBuilder.build(),o=s.map(function(u){var l=a(u,i);return Bt(l)?l:null});return Bt(o)?o:null}},this.getAllRules=function(){return n.eachValueValidatorBuilder.getAllRules()},this.eachValueValidatorBuilder=new yy(e),this.propertyName=r},my=function(e){var r=this;this.valueValidatorBuildersByPropertyName={},this.asyncValueValidatorBuildersByPropertyName={},this._validate=function(){return{}},this._validateAsync=Er(Fe.mark(function n(){return Fe.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve({}));case 1:case"end":return i.stop()}},n)})),this.rebuildValidate=function(){r._validate=function(n){for(var s={},i=0,a=Object.keys(r.valueValidatorBuildersByPropertyName);i<a.length;i++)for(var o=a[i],u=r.valueValidatorBuildersByPropertyName[o],l=Pt(u),c;!(c=l()).done;){var d=c.value,f=d.build(),p=f(n[o],n);Bt(p)&&(s[o]=p)}return s}},this.rebuildValidateAsync=function(){r._validateAsync=function(){var n=Er(Fe.mark(function s(i){var a,o,u,l,c,d,f,p,g,y;return Fe.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:a={},o=0,u=Object.keys(r.asyncValueValidatorBuildersByPropertyName);case 2:if(!(o<u.length)){E.next=18;break}l=u[o],c=r.asyncValueValidatorBuildersByPropertyName[l],d=Pt(c);case 6:if((f=d()).done){E.next=15;break}return p=f.value,g=p.build(),E.next=11,g(i[l],i);case 11:y=E.sent,Bt(y)&&(a[l]=y);case 13:E.next=6;break;case 15:o++,E.next=2;break;case 18:return E.abrupt("return",a);case 19:case"end":return E.stop()}},s)}));return function(s){return n.apply(this,arguments)}}()},this.ruleFor=function(n){if(r._isAsync){var s=new gy(r.rebuildValidateAsync);return r.asyncValueValidatorBuildersByPropertyName[n]=r.asyncValueValidatorBuildersByPropertyName[n]||[],r.asyncValueValidatorBuildersByPropertyName[n].push(s),s.getAllRules()}else{var i=new yy(r.rebuildValidate);return r.valueValidatorBuildersByPropertyName[n]=r.valueValidatorBuildersByPropertyName[n]||[],r.valueValidatorBuildersByPropertyName[n].push(i),i.getAllRules()}},this.ruleForEach=function(n){if(r._isAsync){var s=new wT(r.rebuildValidateAsync,n);return r.asyncValueValidatorBuildersByPropertyName[n]==null&&(r.asyncValueValidatorBuildersByPropertyName[n]=[]),r.asyncValueValidatorBuildersByPropertyName[n].push(s),s.getAllRules()}else{var i=new xT(r.rebuildValidate,n);return r.valueValidatorBuildersByPropertyName[n]==null&&(r.valueValidatorBuildersByPropertyName[n]=[]),r.valueValidatorBuildersByPropertyName[n].push(i),i.getAllRules()}},this._isAsync=e},PT=function(t){le(e,t);function e(){var r;return r=t.call(this,!1)||this,r.validate=function(n){return r._validate(n)},r}return e}(my),CT=function(t){le(e,t);function e(){var r;return r=t.call(this,!0)||this,r.validateAsync=function(n){return r._validateAsync(n)},r}return e}(my);ta.AsyncValidator=CT;ta.Validator=PT});var _y=h((gF,Bu)=>{"use strict";process.env.NODE_ENV==="production"?Bu.exports=ly():Bu.exports=vy()});var fe=h(ys=>{"use strict";var TT=ys&&ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});var OT=TT(Zg()),NT=_y(),by=class extends NT.Validator{validateWithThrow(e,r){let n=this.validate(e);if(Object.keys(n).length>0){let s=JSON.stringify(n,null,4);throw new Error(OT.default.redBright(`
Given parameters for "${r}" are invalid.
${s}}`))}}};ys.BaseValidator=by});var Ey=h(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var HT;(function(t){t.HS256="HS256",t.HS384="HS384",t.HS512="HS512",t.RS256="RS256",t.RS384="RS384",t.RS512="RS512",t.ES256="ES256",t.ES384="ES384",t.ES512="ES512"})(HT=ra.JwtAlgo||(ra.JwtAlgo={}))});var Vu=h(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});var Ry=Ey(),LT=[/^x-0-platform/i,/^x-0-version$/i,/^x-0-t$/i,/^x-0-components$/i,/^x-0-status$/i,/^x-0-lambda-name$/i,/^x-0-lambda-schedule-timeout$/i,/^x-0-received-at$/i,/^host$/i,/^x-request-id$/i,/^content-length$/i,/^via$/i],MT=[/^layer0_/i],qT=[/^layer0_devtools/i];ut.JWT_ALGO_NAMES=Object.keys(Ry.JwtAlgo).map(t=>({name:t,value:Ry.JwtAlgo[t]}));ut.isJwtAlgo=t=>ut.JWT_ALGO_NAMES.find(e=>e.value===t)!==void 0;ut.isProhibitedHeaderName=t=>LT.find(e=>t.match(e))!==void 0;ut.isProhibitedCookieName=t=>MT.find(e=>t.match(e))!==void 0&&qT.find(e=>t.match(e))===void 0;ut.isValidHeaderName=t=>ut.isValidHeaderValue(t);ut.isValidHeaderValue=t=>/^[\x20-\x7E]*$/.test(t)});var he=h(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var na=Vu();te.ofType=(t,e)=>typeof t===e;te.ofTypeWhenNotNull=(t,e)=>te.notNull(t)?te.ofType(t,e):!0;te.beBoolean={predicate:t=>te.ofType(t,"boolean"),message:"must be a boolean"};te.beBooleanWhenNotNull={predicate:t=>te.ofTypeWhenNotNull(t,"boolean"),message:"must be a boolean"};te.beString={predicate:t=>te.ofType(t,"string"),message:"must be a string"};te.beStringWhenNotNull={predicate:t=>te.ofTypeWhenNotNull(t,"string"),message:"must be a string"};te.beNumber={predicate:t=>te.ofType(t,"number"),message:"must be a number"};te.beNumberWhenNotNull={predicate:t=>te.ofTypeWhenNotNull(t,"number"),message:"must be a number"};te.beFunction={predicate:t=>te.ofType(t,"function"),message:"must be a function"};te.beFunctionWhenNotNull={predicate:t=>te.ofTypeWhenNotNull(t,"function"),message:"must be a function"};te.beObject={predicate:t=>te.ofType(t,"object"),message:"must be an object"};te.beObjectWhenNotNull={predicate:t=>te.ofTypeWhenNotNull(t,"object"),message:"must be an object"};te.beArrayWhenNotNull={predicate:t=>te.notNull(t)?Array.isArray(t):!0,message:"must be an array"};te.notBeProhibitedHeaderName={predicate:t=>!na.isProhibitedHeaderName(t),message:"reserved header names cannot be specified"};te.notBeProhibitedCookieName={predicate:t=>!na.isProhibitedCookieName(t),message:"reserved cookie names cannot be specified"};te.beValidHeaderName={predicate:t=>na.isValidHeaderName(t),message:"must comply to RFC standard specification for header names (allowed characters: /^[a-zA-Z_-]*$/)"};te.beValidHeaderValue={predicate:t=>na.isValidHeaderValue(t),message:"must comply to RFC standard specification for header values (allowed characters: /^[a-zA-Z:;.,\\/\"'?!(){}[]@<>=\\-+*#$&`|~^%]*$/"};te.notNull=t=>t!=null});var xy=h(ms=>{"use strict";var IT=ms&&ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});var kT=IT(Ki()),Uu=fe(),nt=he(),Ay=class extends Uu.BaseValidator{constructor(){super();this.ruleFor("forcePrivateCaching").must(nt.beBooleanWhenNotNull),this.ruleFor("maxAgeSeconds").must(nt.beNumberWhenNotNull),this.ruleFor("staleWhileRevalidateSeconds").must(nt.beNumberWhenNotNull)}},Sy=class extends Uu.BaseValidator{constructor(){super();this.ruleFor("convertToGet").must(nt.beBooleanWhenNotNull),this.ruleFor("spa").must(nt.beBooleanWhenNotNull),this.ruleFor("maxAgeSeconds").must(nt.beNumberWhenNotNull),this.ruleFor("serviceWorkerSeconds").must(nt.beNumberWhenNotNull)}},wy=class extends Uu.BaseValidator{constructor(){super();this.ruleFor("edge").must(e=>e===!1||typeof e=="object").withMessage("when defined must be false or EdgeCacheOptions").setValidator(()=>new Ay).when(e=>nt.notNull(e.edge)),this.ruleFor("browser").must(e=>e===!1||typeof e=="object").withMessage("when defined must be false or BrowserCacheOptions").setValidator(()=>new Sy).when(e=>nt.notNull(e.browser)),this.ruleFor("prefetchUpstreamRequests").must(nt.beBooleanWhenNotNull),this.ruleFor("key").must(e=>e instanceof kT.default).when(e=>nt.notNull(e.key))}};ms.CacheOptionsValidator=wy});var Cy=h(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var DT=fe(),ln=he(),Py=class extends DT.BaseValidator{constructor(){super();this.ruleFor("domainOrIp").must(ln.beStringWhenNotNull),this.ruleFor("hostHeader").must(ln.beStringWhenNotNull),this.ruleFor("basePath").must(ln.beStringWhenNotNull),this.ruleFor("port").must(ln.beNumberWhenNotNull),this.ruleFor("disableCheckCert").must(ln.beBooleanWhenNotNull),this.ruleFor("firstByteTimeout").must(ln.beNumberWhenNotNull)}};Gu.BackendOptionsValidator=Py});var sa=h(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var $T=fe(),cn=he(),Ty=class extends $T.BaseValidator{constructor(){super();this.ruleFor("headers").must(cn.beObjectWhenNotNull),this.ruleFor("path").must(e=>cn.beString.predicate(e)||cn.beFunction.predicate(e)).withMessage("must be non empty string or a function").must(e=>typeof e=="string"?e.length>0:!0).withMessage("must be non empty string").when(e=>cn.notNull(e.path)),this.ruleFor("transformRequest").must(cn.beFunctionWhenNotNull),this.ruleFor("transformResponse").must(cn.beFunctionWhenNotNull)}};Wu.ProxyOptionsValidator=Ty});var Ny=h(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var FT=Cy(),jT=fe(),BT=sa(),Oy=class extends jT.BaseValidator{constructor(){super();this.ruleFor("backendConfig").setValidator(e=>new FT.BackendOptionsValidator),this.ruleFor("options").setValidator(e=>new BT.ProxyOptionsValidator)}};Ku.ProxyHostParamsValidator=Oy});var Ly=h(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var VT=fe(),Yu=he(),UT=sa(),Hy=class extends VT.BaseValidator{constructor(){super();this.ruleFor("backend").must(Yu.beString).must(e=>e.length>0).withMessage("must be greater than 0"),this.ruleFor("options").must(Yu.beObjectWhenNotNull).setValidator(()=>new UT.ProxyOptionsValidator).when(e=>Yu.notNull(e.options))}};zu.ProxyParamsValidator=Hy});var qy=h(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var GT=fe(),WT=he(),My=class extends GT.BaseValidator{constructor(){super();this.ruleFor("to").must(WT.beString).notEmpty().notNull().withMessage("must be non empty string value"),this.ruleFor("options").must(e=>typeof e=="number"||typeof e=="object").withMessage("must be number or object").must(e=>typeof e=="number"?e>0:!0).withMessage("must be greather than 0")}};Xu.RedirectParamsValidator=My});var ky=h(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var KT=fe(),YT=he(),Iy=class extends KT.BaseValidator{constructor(){super();this.ruleFor("cb").must(YT.beFunction)}};Qu.RenderParamsValidator=Iy});var Fy=h(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var zT=fe(),Dy=he(),$y=class extends zT.BaseValidator{constructor(){super();this.ruleFor("destination").must(Dy.beString),this.ruleFor("pattern").must(Dy.beString)}};Ju.RewriteParamsValidator=$y});var Uy=h(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var jy=fe(),lt=he(),By=class extends jy.BaseValidator{constructor(){super();this.ruleFor("onNotFound").must(lt.beFunctionWhenNotNull),this.ruleFor("loadingPage").must(lt.beStringWhenNotNull),this.ruleFor("expiresSeconds").must(lt.beNumberWhenNotNull),this.ruleFor("statusCode").must(lt.beNumberWhenNotNull),this.ruleFor("statusMessage").must(lt.beStringWhenNotNull),this.ruleFor("permanent").must(lt.beBooleanWhenNotNull),this.ruleFor("exclude").must(lt.beArrayWhenNotNull),this.ruleForEach("exclude").must((e,r)=>lt.beString.predicate(e)).withMessage("each element in an array must be the string").when(e=>lt.notNull(e.exclude))}},Vy=class extends jy.BaseValidator{constructor(){super();this.ruleFor("options").setValidator(e=>new By),this.ruleFor("path").must(lt.beString)}};Zu.ServeStaticParamsValidator=Vy});var Wy=h(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});var XT=fe(),vs=he(),Gy=class extends XT.BaseValidator{constructor(){super();this.ruleFor("name").must(vs.beString).must(vs.notBeProhibitedHeaderName).must(vs.beValidHeaderName),this.ruleFor("value").must(vs.beString).must(vs.beValidHeaderValue)}};el.HeaderSetParamsValidator=Gy});var Yy=h(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var QT=fe(),JT=he(),Ky=class extends QT.BaseValidator{constructor(){super();this.ruleFor("backend").must(JT.beStringWhenNotNull)}};tl.StreamParamsValidator=Ky});var Xy=h(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var ZT=fe(),eO=he(),zy=class extends ZT.BaseValidator{constructor(){super();this.ruleFor("destination").must(eO.beString)}};rl.UpdatePathParamsValidator=zy});var Jy=h(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});var tO=fe(),ia=he(),Qy=class extends tO.BaseValidator{constructor(){super();this.ruleFor("name").must(ia.beString).must(ia.notBeProhibitedHeaderName).must(ia.beValidHeaderName),this.ruleFor("match").must(e=>e instanceof RegExp).withMessage("must be regex"),this.ruleFor("replace").must(ia.beString)}};nl.HeaderUpdateParamsValidator=Qy});var em=h(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var rO=fe(),sl=he(),Zy=class extends rO.BaseValidator{constructor(){super();this.ruleFor("name").must(sl.beString).must(sl.notBeProhibitedHeaderName).must(sl.beValidHeaderName)}};il.HeaderRemoveParamsValidator=Zy});var rm=h(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});var nO=fe(),Rr=he(),tm=class extends nO.BaseValidator{constructor(){super();this.ruleFor("Expires").must(Rr.beStringWhenNotNull),this.ruleFor("Max-Age").must(Rr.beNumberWhenNotNull),this.ruleFor("Domain").must(Rr.beStringWhenNotNull),this.ruleFor("Path").must(Rr.beStringWhenNotNull),this.ruleFor("Secure").must(Rr.beBooleanWhenNotNull),this.ruleFor("HttpOnly").must(Rr.beBooleanWhenNotNull),this.ruleFor("SameSite").must(Rr.beStringWhenNotNull)}};al.CookieOptionsValidator=tm});var sm=h(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});var sO=fe(),ol=he(),iO=rm(),nm=class extends sO.BaseValidator{constructor(){super();this.ruleFor("name").must(ol.beString).must(ol.notBeProhibitedCookieName),this.ruleFor("value").must(ol.beString),this.ruleFor("options").setValidator(()=>new iO.CookieOptionsValidator).when(e=>e.options!==void 0)}};ul.CookieAddParamsValidator=nm});var om=h(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var aO=fe(),im=he(),am=class extends aO.BaseValidator{constructor(){super();this.ruleFor("name").must(im.beString).must(im.notBeProhibitedCookieName)}};ll.CookieRemoveParamsValidator=am});var lm=h(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var oO=fe(),cl=he(),um=class extends oO.BaseValidator{constructor(){super();this.ruleFor("name").must(cl.beString).must(cl.notBeProhibitedCookieName),this.ruleFor("match").must(e=>e instanceof RegExp).withMessage("must be RegExp instance"),this.ruleFor("replace").must(cl.beString)}};fl.CookieUpdateParamsValidator=um});var fm=h(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var uO=fe(),lO=he(),cm=class extends uO.BaseValidator{constructor(){super();this.ruleFor("path").must(lO.beString)}};dl.ServiceWorkerParamsValidator=cm});var hm=h(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var cO=fe(),fO=he(),dm=class extends cO.BaseValidator{constructor(){super();this.ruleFor("indexHtmlPath").must(fO.beString)}};hl.AppShellParmsValidator=dm});var gm=h(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var dO=fe(),Ar=he(),pm=class extends dO.BaseValidator{constructor(){super();this.ruleFor("origin").must(Ar.beStringWhenNotNull),this.ruleFor("methods").must(Ar.beArrayWhenNotNull).must((e,r)=>e.every(n=>typeof n=="string")).withMessage("all elements must be of string instance").when(e=>Ar.notNull(e.methods)),this.ruleFor("headers").must(Ar.beArrayWhenNotNull).must((e,r)=>e.every(n=>typeof n=="string")).withMessage("all elements must be of string instance").when(e=>Ar.notNull(e.headers)),this.ruleFor("maxAge").must(Ar.beNumberWhenNotNull),this.ruleFor("credentials").must(Ar.beBooleanWhenNotNull)}};pl.CorsOptionsValidator=pm});var mm=h(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var hO=fe(),gl=he(),ym=class extends hO.BaseValidator{constructor(){super();this.ruleFor("content").must(e=>typeof e=="string"||typeof e=="function").withMessage("must be string or function").when(e=>gl.notNull(e.content)),this.ruleFor("statusCode").must(gl.beNumberWhenNotNull),this.ruleFor("statusMessage").must(gl.beStringWhenNotNull)}};yl.SendParamsValidator=ym});var _m=h(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var pO=fe(),gO=he(),vm=class extends pO.BaseValidator{constructor(){super();this.ruleFor("callback").must(gO.beFunction)}};ml.ComputeParamsValidator=vm});var Rm=h(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var yO=fe(),Vt=he(),bm=Vu(),Em=class extends yO.BaseValidator{constructor(){super();this.ruleFor("algo").must(e=>bm.isJwtAlgo(e)).withMessage(`must be one of the following values: ${bm.JWT_ALGO_NAMES.join(", ")}`),this.ruleFor("secret").must(Vt.beString),this.ruleFor("header").must(Vt.beStringWhenNotNull).must(Vt.beValidHeaderName).when(e=>Vt.notNull(e.header)),this.ruleFor("cookie").must(Vt.beStringWhenNotNull),this.ruleFor("redirectExpiredAbsent").must(Vt.beStringWhenNotNull),this.ruleFor("redirectInvalid").must(Vt.beStringWhenNotNull),this.ruleFor("returnUrlParamName").must(Vt.beStringWhenNotNull)}};vl.VerifyJwtOptionsValidator=Em});var Sm=h(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var mO=fe(),vO=he(),_O=sa(),Am=class extends mO.BaseValidator{constructor(){super();this.ruleFor("options").must(vO.beObjectWhenNotNull).setValidator(()=>new _O.ProxyOptionsValidator).when(e=>e.options!==void 0)}};_l.RenderWithAppParamsValidator=Am});var bl=h(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var bO=xy(),EO=Ny(),RO=Ly(),AO=qy(),SO=ky(),wO=Fy(),xO=Uy(),PO=Wy(),CO=Yy(),TO=Xy(),OO=Jy(),NO=em(),HO=sm(),LO=om(),MO=lm(),qO=fm(),IO=hm(),kO=gm(),DO=mm(),$O=_m(),FO=Rm(),jO=Sm();pe.validateRender=t=>{new SO.RenderParamsValidator().validateWithThrow(t,"render")};pe.validateCache=t=>{new bO.CacheOptionsValidator().validateWithThrow(t,"cache")};pe.validateProxyHost=t=>{new EO.ProxyHostParamsValidator().validateWithThrow(t,"proxyHost")};pe.validateRewrite=t=>{new wO.RewriteParamsValidator().validateWithThrow(t,"rewrite")};pe.validateServeStatic=t=>{new xO.ServeStaticParamsValidator().validateWithThrow(t,"serveStatic")};pe.validateHeaderSet=(t,e)=>{new PO.HeaderSetParamsValidator().validateWithThrow(t,e)};pe.validateHeaderUpdate=(t,e)=>{new OO.HeaderUpdateParamsValidator().validateWithThrow(t,e)};pe.validateHeaderRemove=(t,e)=>{new NO.HeaderRemoveParamsValidator().validateWithThrow(t,e)};pe.validateRenderWithApp=t=>{new jO.RenderWithAppParamsValidator().validateWithThrow(t,"renderWithApp")};pe.validateCookieAdd=(t,e)=>{new HO.CookieAddParamsValidator().validateWithThrow(t,e)};pe.validateCookieUpdate=(t,e)=>{new MO.CookieUpdateParamsValidator().validateWithThrow(t,e)};pe.validateCookieRemove=(t,e)=>{new LO.CookieRemoveParamsValidator().validateWithThrow(t,e)};pe.validateVerifyJwt=t=>{new FO.VerifyJwtOptionsValidator().validateWithThrow(t,"verifyJwt")};pe.validateUpdatePath=t=>{new TO.UpdatePathParamsValidator().validateWithThrow(t,"updatePath")};pe.validateStream=t=>{new CO.StreamParamsValidator().validateWithThrow(t,"stream")};pe.validateRedirect=t=>{new AO.RedirectParamsValidator().validateWithThrow(t,"redirect")};pe.validateServiceWorker=t=>{new qO.ServiceWorkerParamsValidator().validateWithThrow(t,"serviceWorker")};pe.validateAppShell=t=>{new IO.AppShellParmsValidator().validateWithThrow(t,"appShell")};pe.validateAllowCors=t=>{new kO.CorsOptionsValidator().validateWithThrow(t,"allowCors")};pe.validateSend=t=>{new DO.SendParamsValidator().validateWithThrow(t,"send")};pe.validateCompute=t=>{new $O.ComputeParamsValidator().validateWithThrow(t,"compute")};pe.validateProxy=t=>{new RO.ProxyParamsValidator().validateWithThrow(t,"proxy")}});var ua=h(Es=>{"use strict";var We=Es&&Es.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});var _s=We(require("fs")),BO=require("path"),fn=We(vi()),aa=We(It()),VO=We(mh()),UO=We(Uo()),GO=We(dp()),ve=be(),wm=qt(),oa=hp(),xm=We(Mi()),WO=We(mp()),bs=Cu(),KO=We(vg()),Le=ho(),YO=We(ou()),Pm=We(ot()),Ut=_g(),zO=Eo(),Cm=We(xu()),XO=We($o()),ae=bl(),Tm=class extends zO.BaseResponseWriter{constructor(e,r,n,s){super(e,r,n);this.params={},this.streaming=!1,this.preCacheRequestActions=[],this.postCacheRequestActions=[],this.preCacheResponseActions=[],this.postCacheResponseActions=[],this.interpolateParams=i=>UO.default(this.request,this.response,i),this.redirect=(i,a={})=>{ae.validateRedirect({to:i,options:a});let{to:o,statusCode:u,query:l}=this._readRedirectParams(i,a),c=XO.default(this.request.url,fn.default(wm.isBrowser()?this.interpolateParams(xm.default.pathWithQueryString(o,l)):xm.default.pathWithQueryString(o,l),this.request.params));this.setResponseHeader(ve.HTTP_HEADERS.location,c),this.send("",u)},this.proxy=async(i,a)=>{ae.validateProxy({backend:i,options:a});let o=aa.default.get(`backends.${i}`);await this.proxyHost(o,a)},this.render=i=>{ae.validateRender({cb:i}),console.warn(`${Ut.warnLogLabel} Warning ResponseWriter#render is deprecated.`),i(this.request,this.proxy,this.request.params)},this.renderWithApp=i=>{ae.validateRenderWithApp({options:i}),this.proxy(ve.BACKENDS.js,i)},this.stream=i=>{if(ae.validateStream({backend:i}),process.env.NODE_ENV==="production")throw new Error("stream can only be used in development");let a=Om(aa.default.get(`backends.${i}`));this.response.setHeader(ve.HTTP_HEADERS.contentType,"text/event-stream"),this.streaming=!0,GO.default(this.request,this.response,a,Function.prototype),this.setCreateResponseAction(()=>Promise.resolve())},this.proxyHost=async(i,a={})=>{let{path:o,transformRequest:u,transformResponse:l,headers:c,removeEmptySearchParamValues:d}=a;ae.validateProxyHost({backendConfig:i,options:a}),i=Om(i);let f=VO.default.create(i),p;typeof o=="function"?p=o():p=o,p=p&&fn.default(p,this.request.params),await this.setCreateResponseAction(async()=>{try{if(u){let y=new Le.InternalTiming(Le.InternalNames.transformRequest).start();try{await this.runImmediately(()=>u(this.request))}finally{y.end()}}let g=new Le.InternalTiming(Le.InternalNames.proxying).start();try{await f.fetch(this.request,this.response,{path:p||this.request.url,disableCheckCert:i.disableCheckCert,headers:c,removeEmptySearchParamValues:d})}finally{g.end()}if(l){let y=new Le.InternalTiming(Le.InternalNames.transformResponse).start();try{WO.default(this.response),await this.runImmediately(()=>l(this.response,this.request))}finally{y.end()}}}catch(g){g.type==="BackendFetchError"?(console.error(`${Ut.errorLogLabel} Could not connect to backend ${i.domainOrIp}:`,g.message),this.response.statusCode=503):(console.error(`${Ut.errorLogLabel} Error in ResponseWriter:`,g.message,g.stack),this.response.statusCode=500)}})},this.updatePath=i=>{ae.validateUpdatePath({destination:i});let a=fn.default(i,this.request.params);Object.defineProperty(this.request,"path",{get:()=>a})},this.rewrite=(i,a)=>{ae.validateRewrite({destination:i,pattern:a});let o=fn.default(i,this.request.params);this.request.params=new YO.default(a).match(o)},this.serveStatic=async(i,a={})=>{ae.validateServeStatic({path:i,options:a});let o=i&&fn.default(i,this.request.params),{permanent:u,exclude:l}=a;if(o=o.replace(/\/$/,""),l==null?void 0:l.some(c=>o.indexOf(c)>=0))return this.send("404 - Not found",404);if(wm.isCloud()){let c=aa.default.get(`backends.${u?ve.BACKENDS.permanentStatic:ve.BACKENDS.static}`);await this.proxyHost(c,{path:o,transformResponse:async d=>{d.statusCode===403&&(a.loadingPage?await this.proxyHost(aa.default.get(`backends.${ve.BACKENDS.static}`),{path:fn.default(a.loadingPage,this.request.params)}):a.onNotFound?await a.onNotFound(this):(d.statusCode=404,d.statusMessage="Not Found")),a.statusCode&&(d.statusCode=a.statusCode),a.statusMessage&&(d.statusMessage=a.statusMessage)}})}else{if(!_s.default.existsSync(o))return this.send("404 - Not found",404);_s.default.lstatSync(o).isDirectory()&&(o=BO.join(o,"./index.html"));let c=_s.default.statSync(o),d=Pm.default("mime-types"),f=Pm.default("chardet"),p=d.lookup(o);if(p)try{let g=f.analyse(_s.default.readFileSync(o));if(g.length>0){let{name:y,confidence:_}=g[0];y&&_>90&&(p+=`; charset=${y}`)}}catch{}else p="application/octet-stream";this.setUpstreamResponseHeader(ve.HTTP_HEADERS.contentType,p),this.internalSetResponseHeader(ve.HTTP_HEADERS.contentLength,c.size.toString(),!1,this.postCacheResponseActions),a.statusCode&&(this.response.statusCode=a.statusCode,this.response.statusMessage=a.statusMessage),await this.setCreateResponseAction(()=>new Promise((g,y)=>{_s.default.readFile(o,(_,E)=>{_?y(_):(this.response.body=E,g())})}))}},this.cache=i=>{ae.validateCache(i);let{browser:a,edge:o,key:u}=i;if(o){let{maxAgeSeconds:l,staleWhileRevalidateSeconds:c,forcePrivateCaching:d}=o,f=[];typeof d!="undefined"&&(this.context.forcePrivateCaching=d===!0),this.cacheKey=u,typeof this.route.criteria.method=="string"&&(this.context.cacheRouteMethod=this.route.criteria.method),l&&(f.push("max-age="+l),c&&f.push("stale-while-revalidate="+c)),f.length&&this.internalSetResponseHeader(ve.HTTP_HEADERS.x0CacheControl,f.join(", "),!1,this.preCacheResponseActions)}if(a||a===!1){let{maxAgeSeconds:l,serviceWorkerSeconds:c}=a||{maxAgeSeconds:0};if(c&&l&&l>0)throw console.error(`${Ut.errorLogLabel} Within the caching configuration of your "${this.route.criteria.path}" route, when service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response`),new Error("When service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response");l===0?this.setResponseHeader(ve.HTTP_HEADERS.cacheControl,"private, no-store, no-cache"):l&&this.setResponseHeader(ve.HTTP_HEADERS.cacheControl,`private, max-age=${l}`),c&&this.setResponseHeader(ve.HTTP_HEADERS.xSwCacheControl,`max-age=${c}`)}},this.setResponseHeader=(i,a)=>{ae.validateHeaderSet({name:i,value:a},"setResponseHeader"),this.internalSetResponseHeader(i,a,!0,this.postCacheResponseActions)},this.internalSetResponseHeader=(i,a,o,u)=>{o&&oa.validateSetResponseHeader(i),this.scheduleExecution(u,()=>{let l=this.interpolateParams(a);this.response.setHeader(i,l)})},this.updateResponseHeader=(i,a,o)=>{ae.validateHeaderUpdate({name:i,match:a,replace:o},"updateResponseHeader"),this.internalUpdateResponseHeader(i,a,o,this.preCacheResponseActions)},this.internalUpdateResponseHeader=(i,a,o,u)=>{oa.validateUpdateResponseHeader(i),this.scheduleExecution(u,()=>{let l=this.response.getHeader(i),c=this.interpolateParams(o);l&&this.response.setHeader(i,l.replace(a,c))})},this.removeResponseHeader=i=>{ae.validateHeaderRemove({name:i},"removeResponseHeader"),this.internalRemoveResponseHeader(i,this.postCacheResponseActions)},this.internalRemoveResponseHeader=(i,a)=>{oa.validateRemoveResponseHeader(i),this.scheduleExecution(a,()=>{this.response.removeHeader(i)})},this.getSetCookieValues=()=>{let i=this.response.getHeader(ve.HTTP_HEADERS.setCookie);return typeof i=="string"?[i]:i||[]},this.getAddResponseCookieAction=(i,a,o={})=>()=>{let u=this.getSetCookieValues(),l=this.interpolateParams(a),c=`${i}=${l}`,d;for(d in o){let f=o[d];typeof f=="boolean"&&f?c+=`; ${d}`:c+=`; ${d}=${f}`}this.response.setHeader(ve.HTTP_HEADERS.setCookie,[...u,c])},this.addUpstreamResponseCookie=(i,a,o)=>{ae.validateCookieAdd({name:i,value:a,options:o},"addUpstreamResponseCookie"),this.scheduleExecution(this.preCacheResponseActions,this.getAddResponseCookieAction(i,a,o))},this.addResponseCookie=(i,a,o)=>{ae.validateCookieAdd({name:i,value:a,options:o},"addResponseCookie"),this.scheduleExecution(this.postCacheResponseActions,this.getAddResponseCookieAction(i,a,o))},this.getUpdateResponseCookieAction=(i,a,o)=>()=>{let u=this.getSetCookieValues().map(l=>{let[c,...d]=l.split("=");if(c!==i)return l;let f=d.join("=").replace(a,o);return[c,f].join("=")});this.response.setHeader(ve.HTTP_HEADERS.setCookie,u)},this.updateUpstreamResponseCookie=(i,a,o)=>{ae.validateCookieUpdate({name:i,match:a,replace:o},"updateUpstreamResponseCookie"),this.scheduleExecution(this.preCacheResponseActions,this.getUpdateResponseCookieAction(i,a,o))},this.updateResponseCookie=(i,a,o)=>{ae.validateCookieUpdate({name:i,match:a,replace:o},"updateResponseCookie"),this.scheduleExecution(this.postCacheResponseActions,this.getUpdateResponseCookieAction(i,a,o))},this.getRemoveResponseCookieAction=i=>()=>{let a=this.getSetCookieValues().filter(o=>o.split("=")[0]!==i);this.response.setHeader(ve.HTTP_HEADERS.setCookie,a)},this.removeUpstreamResponseCookie=i=>{ae.validateCookieRemove({name:i},"removeUpstreamResponseCookie"),this.scheduleExecution(this.preCacheResponseActions,this.getRemoveResponseCookieAction(i))},this.removeResponseCookie=i=>{ae.validateCookieRemove({name:i},"removeResponseCookie"),this.scheduleExecution(this.postCacheResponseActions,this.getRemoveResponseCookieAction(i))},this.setUpstreamResponseHeader=(i,a)=>{ae.validateHeaderSet({name:i,value:a},"setUpstreamResponseHeader");let o=i.toLowerCase()!=ve.HTTP_HEADERS.x0SurrogateKey;return this.internalSetResponseHeader(i,a,o,this.preCacheResponseActions)},this.updateUpstreamResponseHeader=(i,a,o)=>(ae.validateHeaderUpdate({name:i,match:a,replace:o},"updateUpstreamResponseHeader"),this.internalUpdateResponseHeader(i,a,o,this.preCacheResponseActions)),this.removeUpstreamResponseHeader=i=>(ae.validateHeaderRemove({name:i},"removeUpstreamResponseHeader"),this.internalRemoveResponseHeader(i,this.preCacheResponseActions)),this.setRequestHeader=(i,a)=>{oa.validateSetRequestHeader(i),this.scheduleExecution(this.postCacheRequestActions,()=>{this.request.headers[i.toLowerCase()]=a})},this.runImmediatelyDepthCounter=0,this.runImmediately=async i=>{try{++this.runImmediatelyDepthCounter,await i()}finally{--this.runImmediatelyDepthCounter}},this.scheduleExecution=(i,a)=>{this.runningImmediately?a():i.push(a)},this.updateRequestHeader=(i,a,o)=>{ae.validateHeaderUpdate({name:i,match:a,replace:o},"updateRequestHeader"),this.scheduleExecution(this.postCacheRequestActions,()=>{let u=i.toLowerCase(),l=this.request.headers[u],c=this.interpolateParams(o);Array.isArray(l)?this.request.headers[u]=l.map(d=>d.replace(a,c)):l&&(this.request.headers[u]=l.replace(a,c))})},this.removeRequestHeader=i=>{ae.validateHeaderRemove({name:i},"removeRequestHeader"),this.scheduleExecution(this.postCacheRequestActions,()=>{delete this.request.headers[i.toLowerCase()]})},this.serviceWorker=i=>{ae.validateServiceWorker({path:i}),this.cache({edge:{maxAgeSeconds:30758400},browser:{maxAgeSeconds:0}}),this.serveStatic(i)},this.appShell=i=>{ae.validateAppShell({indexHtmlPath:i}),this.setResponseHeader(ve.HTTP_HEADERS.contentType,"text/html"),this.serveStatic(i)},this.allowCors=(i={})=>{ae.validateAllowCors(i),this.setResponseHeader("Access-Control-Allow-Origin",i.origin||"*"),i.methods&&this.setResponseHeader("Access-Control-Allow-Methods",i.methods.join(", ")),i.headers&&this.setResponseHeader("Access-Control-Allow-Headers",i.headers.join(", ")),i.maxAge&&this.setResponseHeader("Access-Control-Max-Age",i.maxAge.toString()),i.credentials!=null&&this.setResponseHeader("Access-Control-Allow-Credentials",i.credentials.toString())},this.send=(i,a=200,o)=>{ae.validateSend({content:i,statusCode:a,statusMessage:o}),this.setCreateResponseAction(async()=>{this.response.statusCode=a,this.response.statusMessage=o,typeof i=="function"?this.response.body=i():this.response.body=i})},this.compute=i=>{ae.validateCompute({callback:i}),this.setCreateResponseAction(async()=>{await this.clearResponseAction().runImmediately(()=>i(this.request,this.response))})},this.onRouteError=i=>{let a={status:"error",message:i.message},o=i.isUserError;o&&console.error(`${Ut.errorLogLabel} ${i.message}`),process.env.NODE_ENV!=="production"&&(a={message:`An error occured while running route ${this.route.toString()}: ${i.message}`,stack:o?void 0:i.stack,url:this.request.url});try{this.response.setHeader(ve.HTTP_HEADERS.contentType,"application/json"),this.response.writeHead(500),this.response.end(JSON.stringify(a))}catch{console.error(`${Ut.errorLogLabel} Could not write error response because headers have already been sent.`,a)}},this.request=e,this.response=r,this.route=n,this.context=s}async sendResponse({beforeResponse:e=()=>!0}={}){let r=!1;for(let i of this.preCacheRequestActions)i();let n,s;if(bs.isCacheEnabled()&&(s=this.context.cacheKey||KO.default.create(this.request,this.cacheKey),n=bs.getCachedResponse(s),this.cacheKey&&(this.context.cacheKey=s),!this.validatePrefetch(n)))return console.log(`${Ut.infoLogLabel} throttle ${this.request.url}`),!0;if(n)r=!0,new Le.InternalTiming(Le.InternalNames.edgeCache).set(Le.CacheValue.hit),this.applyCachedResponse(n);else{for(let a of this.postCacheRequestActions)a();this.createResponseAction&&(await this.createResponseAction(),r=!0);for(let a of this.preCacheResponseActions)a();if(!await e(this.response))return r}if(r&&!this.streaming&&!n&&bs.isCacheEnabled()){let i=bs.maybeCacheResponse({response:this.response,cacheKey:s,context:this.context});new Le.InternalTiming(Le.InternalNames.edgeCache).set(i?Le.CacheValue.cached:Le.CacheValue.pass)}for(let i of this.postCacheResponseActions)i();return r&&!this.streaming&&(this.logCacheStatus(),Le.addTimings(this.response),this.response.statusCode&&this.response.writeHead(this.response.statusCode,this.response.statusMessage||void 0),this.response.end(this.response.body)),r}logCacheStatus(){if(bs.isCacheEnabled()){let e=this.response.getHeader(ve.HTTP_HEADERS.x0CachingStatus),r=Le.getInternalTiming(Le.InternalNames.edgeCache),{url:n}=this.request;console.log(`${Ut.infoLogLabel} ${r} ${n}${e?` (${e})`:""}`)}}applyCachedResponse(e){this.response.statusCode=e.statusCode,this.response.statusMessage=e.statusMessage,this.response.body=Cm.default(e.body);for(let r of Object.keys(e.headers))this.response.setHeader(r,Cm.default(e.headers[r]))}validatePrefetch(e){return Object.keys(this.request.query||{}).includes(ve.THROTTLED_QUERY_PARAM)&&!e?(this.response.writeHead(ve.LAYER0_UNCACHED_PREFETCH_STATUS),this.response.end(),!1):!0}async setCreateResponseAction(e){if(this.runningImmediately)await e();else{if(this.createResponseAction!=null)throw new Error("You may only call one of the following once in your route handler: proxy, serveStatic, serviceWorker, redirect, send.");this.createResponseAction=e}}get runningImmediately(){return this.runImmediatelyDepthCounter>0}clearResponseAction(){return this.createResponseAction=void 0,this}};Es.default=Tm;function Om(t){return typeof t=="string"&&(t={domainOrIp:t}),t}});var Hm=h(As=>{"use strict";var QO=As&&As.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(As,"__esModule",{value:!0});var Rs=require("os"),JO=be(),Nm=QO(It());function ZO(t){if(Object.values(JO.BACKENDS).includes(t)||Nm.default.get(`backends.${t}`,!1))return;let e=Object.keys(Nm.default.get("backends"));throw e&&e.length?new Error(`To fix this problem use one of the "backends" configured in layer0.config.js:${Rs.EOL}${Rs.EOL} - ${e.join(`${Rs.EOL} - `)}${Rs.EOL}${Rs.EOL}or add "${t}" to the "backends" property in layer0.config.js.`):new Error(`Add "${t}" to the "backends" property in layer0.config.js.`)}As.default=ZO});var Rl=h(Sr=>{"use strict";var eN=Sr&&Sr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},Ss=Sr&&Sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});var ws=eN(lh()),K=be(),tN=Ss(pi()),rN=Ss(ch()),nN=Ss(ua()),El=Ss(Mi()),sN=Ss(Hm()),iN=$n(),me=bl(),aN=60*60*24*365*10,Lm=class extends nN.default{constructor(e,r,n,s){super(e,r,n,s);this.stream=()=>{},this.setRequestHeader=(i,a)=>{me.validateHeaderSet({name:i,value:a},"setRequestHeader"),this.edgeConfig.transform.request.push({action:K.ACTIONS.setHeader,name:i,value:a})},this.updateRequestHeader=(i,a,o)=>{me.validateHeaderUpdate({name:i,match:a,replace:o},"updateRequestHeader"),this.edgeConfig.transform.request.push({action:K.ACTIONS.updateHeader,name:i,valueRegex:a.source,replaceValue:o})},this.removeRequestHeader=i=>{me.validateHeaderRemove({name:i},"removeRequestHeader"),this.edgeConfig.transform.request.push({action:K.ACTIONS.removeHeader,name:i})},this.setResponseHeader=(i,a)=>{me.validateHeaderSet({name:i,value:a},"setResponseHeader"),this.edgeConfig.transform.response.push({action:K.ACTIONS.setHeader,name:i,value:a})},this.updateResponseHeader=(i,a,o)=>{me.validateHeaderUpdate({name:i,match:a,replace:o},"updateResponseHeader"),this.edgeConfig.transform.response.push({action:K.ACTIONS.updateHeader,name:i,valueRegex:a.source,replaceValue:o})},this.removeResponseHeader=i=>{me.validateHeaderRemove({name:i},"removeResponseHeader"),this.edgeConfig.transform.response.push({action:K.ACTIONS.removeHeader,name:i})},this.setUpstreamResponseHeader=(i,a)=>{me.validateHeaderSet({name:i,value:a},"setUpstreamResponseHeader"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.setHeader,name:i,value:a})},this.updateUpstreamResponseHeader=(i,a,o)=>{me.validateHeaderUpdate({name:i,match:a,replace:o},"updateUpstreamResponseHeader"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.updateHeader,name:i,valueRegex:a.source,replaceValue:o})},this.removeUpstreamResponseHeader=i=>{me.validateHeaderRemove({name:i},"removeUpstreamResponseHeader"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.removeHeader,name:i})},this.addResponseCookie=(i,a)=>{me.validateCookieAdd({name:i,value:a},"addResponseCookie"),this.edgeConfig.transform.response.push({action:K.ACTIONS.addCookie,name:i,value:a})},this.updateResponseCookie=(i,a,o)=>{me.validateCookieUpdate({name:i,match:a,replace:o},"updateResponseCookie"),this.edgeConfig.transform.response.push({action:K.ACTIONS.updateCookie,name:i,valueRegex:a.source,replaceValue:o})},this.removeResponseCookie=i=>{me.validateCookieRemove({name:i},"removeResponseCookie"),this.edgeConfig.transform.response.push({action:K.ACTIONS.removeCookie,name:i})},this.addUpstreamResponseCookie=(i,a)=>{me.validateCookieAdd({name:i,value:a},"addUpstreamResponseCookie"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.addCookie,name:i,value:a})},this.updateUpstreamResponseCookie=(i,a,o)=>{me.validateCookieUpdate({name:i,match:a,replace:o},"updateUpstreamResponseCookie"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.updateCookie,name:i,valueRegex:a.source,replaceValue:o})},this.removeUpstreamResponseCookie=i=>{me.validateCookieRemove({name:i},"removeUpstreamResponseCookie"),this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.removeCookie,name:i})},this.redirect=(i,a={})=>{me.validateRedirect({to:i,options:a});let{to:o,statusCode:u,query:l}=this._readRedirectParams(i,a),c=!rN.default(l),d=ws.getBackReferences(El.default.pathWithQueryString(o,l));if(this.shouldParseQueryString(d)||c){this.cache({edge:{maxAgeSeconds:aN}}),this.proxy(K.BACKENDS.js);return}if(this.setEdgeRoute({action:K.ACTIONS.syntheticRes,statusCode:u}),this.edgeConfig.transform.response.push({action:K.ACTIONS.setHeader,name:K.HTTP_HEADERS.location,value:"${url}"}),this.route.criteria.path){let p=El.default.toEdgeRegexString(this.route.criteria.path+"{(\\?[^#]+)}?"),g=ws.getBackReferences(this.route.criteria.path),y=ws.default(this.route.criteria.path,o)+`\\${Object.keys(g).length+1}`;this.edgeConfig.transform.response.push({action:K.ACTIONS.updateHeader,name:K.HTTP_HEADERS.location,valueRegex:p,replaceValue:y})}else this.edgeConfig.transform.response.push({action:K.ACTIONS.updateHeader,name:K.HTTP_HEADERS.location,valueRegex:El.default.toEdgeRegexString("([^?]*){(\\?[^#]+)}?"),replaceValue:`${o}\\2`})},this.serveStatic=(i,a={})=>{let{permanent:o,exclude:u,onNotFound:l,loadingPage:c,expiresSeconds:d,statusCode:f,statusMessage:p}=a;me.validateServeStatic({path:i,options:a}),i&&!i.startsWith("/")&&(i=`/${i}`);let g=[],y;c&&(g.push(c),y={valueRegex:this.route.toEdgeRegexString(),replaceValue:ws.default(this.route.criteria.path,c)}),i&&this.updatePath(i),typeof i=="string"&&g.push(i);let _=o===!0||tN.default(o,"enabled")||!1;return this.setEdgeRoute({action:K.ACTIONS.proxy,backend:_?K.BACKENDS.permanentStatic:K.BACKENDS.static,fsPath:g,fsExclude:u,fallbackToCompute:l!=null,loadingPage:y,expiresSeconds:d,statusMessage:p,statusCode:f}),Promise.resolve()},this.verifyJwt=i=>(me.validateVerifyJwt(i),this.edgeConfig.jwtVerification=i,Promise.resolve()),this.proxy=(i,a={})=>{let{path:o,transformResponse:u,transformRequest:l}=a;return sN.default(i),me.validateProxy({backend:i,options:a}),u!=null||l!=null||typeof o=="function"?i=K.BACKENDS.js:typeof o=="string"&&this.updatePath(o),this.setEdgeRoute({action:K.ACTIONS.proxy,backend:i}),Promise.resolve()},this.updatePath=i=>{me.validateUpdatePath({destination:i});let a=ws.default(this.route.criteria.path,i);a[0]!=="/"&&(a=`/${a}`),this.edgeConfig.transform.request.push({action:K.ACTIONS.updatePath,valueRegex:this.route.toEdgeRegexString(),replaceValue:a})},this.cache=i=>{me.validateCache(i);let{edge:a,browser:o,key:u}=i;if(a){let{maxAgeSeconds:l,staleWhileRevalidateSeconds:c,forcePrivateCaching:d}=a;this.edgeConfig.cache={maxAgeSeconds:l,staleWhileRevalidateSeconds:c,forcePrivateCaching:d}}else a===!1&&(this.edgeConfig.cache={disabled:!0});if(u&&(this.edgeConfig.cache||(this.edgeConfig.cache={}),this.edgeConfig.cache.customKey=u.toJSON()),o||o===!1){let{maxAgeSeconds:l,serviceWorkerSeconds:c}=o||{maxAgeSeconds:0};if(c&&l&&l>0)throw new Error("When service worker caching is set, the browser max age must be set to zero. Refer to https://docs.layer0.co/guides/caching#section_caching_a_response");l===0?this.edgeConfig.transform.response.push({action:K.ACTIONS.setHeader,name:K.HTTP_HEADERS.cacheControl,value:"private, no-store, no-cache"}):l&&this.edgeConfig.transform.response.push({action:K.ACTIONS.setHeader,name:K.HTTP_HEADERS.cacheControl,value:`private, max-age=${l}`}),c&&this.edgeConfig.transform.response.push({action:K.ACTIONS.setHeader,name:K.HTTP_HEADERS.xSwCacheControl,value:`max-age=${c}`})}},this.send=(i,a,o)=>{me.validateSend({content:i,statusCode:a,statusMessage:o}),typeof i=="function"?this.render():this.setEdgeRoute({action:K.ACTIONS.syntheticRes,statusCode:a,statusMessage:o,content:i})},this.compute=i=>{me.validateCompute({callback:i}),this.setEdgeRoute({action:K.ACTIONS.proxy,backend:K.BACKENDS.js})},this.render=()=>(this.setEdgeRoute({action:K.ACTIONS.proxy,backend:K.BACKENDS.js}),Promise.resolve()),this.edgeConfig={transform:{request:[],upstreamResponse:[],response:[]}}}shouldParseQueryString(e){let r=this.route.criteria.query;return r===void 0?!1:Object.keys(r).some(n=>{let s=r[n];return iN.isParamMatcher(s)&&!!e[n]})}setEdgeRoute(e){this.edgeConfig.route=e,this.edgeConfig.transform.upstreamResponse.push({action:K.ACTIONS.setHeader,name:K.HTTP_HEADERS.vary,value:K.HTTP_HEADERS.acceptEncoding})}};Sr.default=Lm});var Sl=h(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var Mm=class{constructor(){this.forcePrivateCaching=!1}};Al.default=Mm});var Im=h(xs=>{"use strict";var oN=xs&&xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});var uN=oN(Rl()),qm=class extends uN.default{constructor(){super(...arguments);this.proxy=(e,r={})=>{throw new Error("Proxy cannot be used inside router.catch()")}}};xs.default=qm});var km=h((QF,lN)=>{lN.exports={_from:"@layer0/core@4.17.1-next-1658839841-109668f53.0",_id:"@layer0/core@4.17.1-next-1658839841-109668f53.0",_inBundle:!1,_integrity:"sha512-tjSo/Ir0TX7977uXc7g1NSJk05lE4ACPydIKJ4IKXW6rfCFKIBRY94qnz+B+oTCink/5ZF53mz8Uph403duX7A==",_location:"/@layer0/core",_phantomChildren:{"array-union":"2.1.0","dir-glob":"3.0.1","fast-glob":"3.2.11",ignore:"5.2.0",merge2:"1.4.1",slash:"3.0.0"},_requested:{type:"version",registry:!0,raw:"@layer0/core@4.17.1-next-1658839841-109668f53.0",name:"@layer0/core",escapedName:"@layer0%2fcore",scope:"@layer0",rawSpec:"4.17.1-next-1658839841-109668f53.0",saveSpec:null,fetchSpec:"4.17.1-next-1658839841-109668f53.0"},_requiredBy:["#DEV:/","#USER","/@layer0/prefetch"],_resolved:"https://registry.npmjs.org/@layer0/core/-/core-4.17.1-next-1658839841-109668f53.0.tgz",_shasum:"e61061e865613f943afb5ef4dae371667e0823f5",_spec:"@layer0/core@4.17.1-next-1658839841-109668f53.0",_where:"/home/hans/projects/examples/layer0-deployer",bundleDependencies:!1,dependencies:{"@babel/parser":"^7.16.2","@babel/traverse":"^7.16.0","@types/lodash.clonedeep":"^4.5.6",ajv:"^6.12.6","babel-loader":"^8.2.2",chalk:"^4.1.2",chardet:"^1.4.0",chokidar:"^3.5.1","cls-hooked":"^4.2.2","content-type":"^1.0.4",cookie:"^0.4.1","cross-spawn":"^7.0.3","decode-uri-component":"^0.2.0",deepmerge:"^4.2.2",esbuild:"^0.13.4",express:"^4.17.1","fluentvalidation-ts":"^2.2.2","fs-extra":"^8.1.0",globby:"^11.0.2","http-proxy":"^1.18.1","lodash.clonedeep":"^4.5.0","lru-cache":"^6.0.0","mime-types":"^2.1.29","node-fetch":"^2.6.1","path-to-regexp":"^6.2.0",pino:"^6.13.3",qs:"^6.10.1","resolve-package-path":"^4.0.3",semver:"^7.3.5",shelljs:"^0.8.5",slash:"^3.0.0","tcp-port-used":"^1.0.2","ts-loader":"^8.2.0",unixify:"^1.0.0",uuid:"^8.3.2"},deprecated:!1,description:"Core library for the [Layer0](https://docs.layer0.co), infrastructure to run your big, dynamic website frontend and make it load in less than one second.",devDependencies:{"@types/cls-hooked":"^4.3.1","@types/content-type":"^1.1.3","@types/cookie":"^0.3.3","@types/cross-spawn":"^6.0.2","@types/decode-uri-component":"^0.2.0","@types/express":"^4.17.7","@types/fs-extra":"^8.1.1","@types/http-proxy":"^1.17.4","@types/jest":"^26.0.23","@types/lodash":"^4.14.162","@types/lru-cache":"^5.1.0","@types/mime-types":"^2.1.0","@types/node":"^14.6.4","@types/route-parser":"^0.1.3","@types/semver":"^7.3.9","@types/shelljs":"^0.8.8","@types/tcp-port-used":"^1.0.0","@types/unixify":"^1.0.0","@types/uuid":"^8.0.1","@types/webpack-bundle-analyzer":"^3.9.0",lodash:"^4.17.21",nock:"^13.2.8",stripe:"^9.12.0",webpack:"^5.27.0","webpack-bundle-analyzer":"^3.9.0","webpack-dev-middleware":"^4.1.0"},jest:{clearMocks:!0,collectCoverage:!0,transform:{"^.+\\.(js)?$":"babel-jest","^.+\\.ts$":"ts-jest"},moduleFileExtensions:["ts","js","json"],setupFilesAfterEnv:["<rootDir>/test/jest.js"],transformIgnorePatterns:["<rootDir>/node_modules/"],moduleNameMapper:{"../package.json":"<rootDir>/package.json","^@layer0/core(.*)$":"<rootDir>/src/$1"},collectCoverageFrom:["./src/**/*.{ts,js}","!**/mocks/**","!**/test-utils/**","!**/index.ts","!**/plugins/PluginBase.ts","!**/bin/**/*"]},license:"UNLICENSED",main:"./index.js",name:"@layer0/core",publishConfig:{directory:"dist"},scripts:{build:"rm -rf ./dist; mkdir ./dist; cp -r package.json README.md serverless.yml default-app ./dist; tsc; npm run bundle-handler;","bundle-handler":"esbuild src/lambda/handler.ts --bundle --minify --platform=node --target=node14.0 --outfile=dist/lambda/handler.js --log-level=error --sourcemap",docs:"typedoc","push-build":"npm run build && cd dist && yalc push && cd ..",release:"cd ./dist; npm publish --access public","release:next":"npm run release -- --tag next",test:"jest --watchAll=false --runInBand --forceExit","ts:watch":"tsc --watch",watch:"npm-watch"},version:"4.17.1-next-1658839841-109668f53.0",watch:{"push-build":{patterns:["src","bin","serverless.yml","default-app","package.json"],extensions:["js","ts"],quiet:!1}}}});var Um=h(Cs=>{"use strict";var wr=Cs&&Cs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});var cN=wr(It()),Dm=wr(mi()),fN=wr(rh()),Ps=wr(sh()),dN=wr(Rl()),$m=be(),Fm=wr(Sl()),hN=$n(),pN=wr(Im());function gN({edgeConfig:t},e){var r,n;return t.cache&&((r=t.cache)===null||r===void 0?void 0:r.maxAgeSeconds)&&((n=t.cache)===null||n===void 0?void 0:n.maxAgeSeconds)>0&&e?Y(H({},t.cache),{matchExplicitMethod:e}):t.cache}function yN({edgeConfig:t},e){var r;let n=t.route;return((r=t.route)===null||r===void 0?void 0:r.action)===$m.ACTIONS.syntheticRes&&!t.route.statusCode&&!e&&(t.route.statusCode=200),n}function mN({edgeConfig:t}){return t.transform}function vN({edgeConfig:t}){return t.jwtVerification}function jm(t){return Object.entries(t).reduce((e,[r,n])=>(n instanceof RegExp?e[r]=Ps.default(n):typeof n=="object"&&n!==null?e[r]=jm(n):e[r]=Ps.default(n),e),{})}function _N(t){var e;let r=[],n=[],s,i;if(t.criteria.protocol){let a;if(typeof t.criteria.protocol=="string"?a=new RegExp(`^${t.criteria.protocol}$`,"i"):a=new RegExp(t.criteria.protocol),!a.test("http")&&!a.test("https"))throw new Error('Protocol matcher must match either "http" or "https"');s=a.source}if(t.criteria.path&&r.push({value:"${path}",matchRegex:t.toEdgeRegexString()}),t.criteria.method){let a;typeof t.criteria.method!="string"?a=t.criteria.method:(a=fN.default(t.criteria.method),Object.values($m.HTTP_METHODS).includes(t.criteria.method)&&(i=t.criteria.method)),r.push({value:"${method}",matchRegex:Dm.default(a)})}return t.criteria.headers&&Object.entries(t.criteria.headers).forEach(([a,o])=>{r.push({value:`\${req:${a}}`,matchRegex:Ps.default(o)})}),((e=t.criteria.response)===null||e===void 0?void 0:e.statusCode)&&n.push({value:"${res:status}",matchRegex:Dm.default(t.criteria.response.statusCode)}),t.criteria.query&&Object.entries(t.criteria.query).forEach(([a,o])=>{hN.isParamMatcher(o)||r.push({value:`\${query:${a}}`,matchRegex:Ps.default(o)})}),t.criteria.cookies&&Object.entries(t.criteria.cookies).forEach(([a,o])=>{r.push({value:`\${req:cookie:${a}}`,matchRegex:Ps.default(o)})}),t.criteria.body&&r.push({matchBody:JSON.stringify({parse:t.criteria.body.parse,criteria:jm(t.criteria.body.criteria)})}),{match:r,matchResp:n,matchExplicitMethod:i,matchProtocolJavaScriptRegExpSource:s}}async function bN(t){let e={};if(!Object.keys(t.getDestinations()).length)e={default:await Vm(t)};else for(let r in t.getDestinations())e[r]=await Vm(t.getDestinations()[r]);return{version:EN(),backends:H({},cN.default.get("backends")),destinations:e}}Cs.default=bN;function EN(){return km().version}async function Bm(t,e,r,n){try{await t.handler(e)}catch(u){Error.captureStackTrace(u),r.push({route:t.toString(),stackTrace:u.stack})}let{match:s,matchResp:i,matchExplicitMethod:a,matchProtocolJavaScriptRegExpSource:o}=_N(t);return{path:t.criteria.path,routeJson:t.toJson(),match:s,matchResp:i,matchProtocolJavaScriptRegExpSource:o,cache:gN(e,a),route:yN(e,n),transform:mN(e),jwtVerification:vN(e)}}async function Vm(t){let e=[],r={index:t.index,errorRoutes:await Promise.all(t.getRouteGroups().getRoutes().filter(n=>n.isRespRoute()).map(n=>Bm(n,new pN.default({url:"",headers:{}},{},n,new Fm.default),e,!0))),routes:await Promise.all(t.getRouteGroups().getRoutes().filter(n=>!n.isRespRoute()).map(n=>Bm(n,new dN.default({url:"",headers:{}},{},n,new Fm.default),e,!1)))};if(e.length){let n=`
Errors occurred while attempting to deploy your application to Layer0 edge.
The following ${e.length>1?"routes":"route"} could not be processed:`;throw e.forEach(({route:s,stackTrace:i})=>{n=n.concat(`
* ${s}: ${i}`)}),new Error(n)}return r}});var Gm=h(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});function RN(t,e){if(!t||!t.length)return;let r,n,s=!1;for(let i of t){if(!s){r=i,e&&(n=e(i)),s=!0;continue}if(e){let a=e(i);a<n&&(r=i,n=a)}else i<r&&(r=i)}return r}wl.default=RN});var Km=h(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var Wm=class{constructor(){this._tasks=[],this._resolveHandler=Function.prototype,this._errorHandler=e=>{throw e}}add(...e){return this._tasks.push(...e),this}onTaskDone(e){return this._resolveHandler=e,this}onTaskError(e){return this._errorHandler=e,this}resolve(){let e=this._convertTasksToPromises().map((r,n)=>r.then(s=>(this._resolveHandler(s),s)).catch(s=>this._errorHandler(s)));return Promise.all(e)}_convertTasksToPromises(){return this._tasks.map(e=>{if(typeof e!="function")return Promise.resolve(e);try{let r=e();return r instanceof Promise?r:Promise.resolve(r)}catch(r){return Promise.reject(r)}})}};xl.default=Wm});var Xm=h(Os=>{"use strict";var Ym=Os&&Os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Os,"__esModule",{value:!0});var AN=Ym(It()),zm=Ym(Km()),Ts=class{constructor(){this.options=[]}push(...e){this.options.push(...e)}static async resolveDestinationPreloadConfig(e,r){let n=[];return await new zm.default().add(...e.preloadRequests.options).onTaskDone(s=>{n.push(...s.map(i=>Y(H({},i),{destination:r})))}).resolve(),{requests:n}}static async resolvePreloadConfig(e){let r=[],n=new zm.default,s=e.getDestinations();if(!Object.keys(s).length)n.add(Ts.resolveDestinationPreloadConfig(e,"default"));else for(let i in s)n.add(Ts.resolveDestinationPreloadConfig(s[i],i));return await n.onTaskDone(({requests:i})=>{r.push(...i)}).resolve(),{requests:r,concurrency:AN.default.get("prerenderConcurrency",null)}}};Os.default=Ts});var Qm=h(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});function SN(t){return new Promise(e=>{t.body="",t.on("data",r=>t.body+=r.toString()),t.on("end",e)})}Pl.default=SN});var Jm=h(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});function wN(){return process.env.LAYER0_ROOT_SOURCE_DIR||process.cwd()}la.getSourceDir=wN;function xN(t){process.env.LAYER0_ROOT_SOURCE_DIR=t}la.setSourceDir=xN});var ev=h((sj,Zm)=>{"use strict";Zm.exports=(...t)=>[...new Set([].concat(...t))]});var Cl=h((ij,nv)=>{"use strict";var PN=require("stream"),tv=PN.PassThrough,CN=Array.prototype.slice;nv.exports=TN;function TN(){let t=[],e=CN.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let s=n.end!==!1,i=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let a=tv(n);function o(){for(let c=0,d=arguments.length;c<d;c++)t.push(rv(arguments[c],n));return u(),this}function u(){if(r)return;r=!0;let c=t.shift();if(!c){process.nextTick(l);return}Array.isArray(c)||(c=[c]);let d=c.length+1;function f(){--d>0||(r=!1,u())}function p(g){function y(){g.removeListener("merge2UnpipeEnd",y),g.removeListener("end",y),i&&g.removeListener("error",_),f()}function _(E){a.emit("error",E)}if(g._readableState.endEmitted)return f();g.on("merge2UnpipeEnd",y),g.on("end",y),i&&g.on("error",_),g.pipe(a,{end:!1}),g.resume()}for(let g=0;g<c.length;g++)p(c[g]);f()}function l(){r=!1,a.emit("queueDrain"),s&&a.end()}return a.setMaxListeners(0),a.add=o,a.on("unpipe",function(c){c.emit("merge2UnpipeEnd")}),e.length&&o.apply(null,e),a}function rv(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=rv(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(tv(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var sv=h(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.splitWhen=dn.flatten=void 0;function ON(t){return t.reduce((e,r)=>[].concat(e,r),[])}dn.flatten=ON;function NN(t,e){let r=[[]],n=0;for(let s of t)e(s)?(n++,r[n]=[]):r[n].push(s);return r}dn.splitWhen=NN});var iv=h(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.isEnoentCodeError=void 0;function HN(t){return t.code==="ENOENT"}ca.isEnoentCodeError=HN});var ov=h(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.createDirentFromStats=void 0;var av=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function LN(t,e){return new av(t,e)}fa.createDirentFromStats=LN});var uv=h(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.removeLeadingDotSegment=ct.escape=ct.makeAbsolute=ct.unixify=void 0;var MN=require("path"),qN=2,IN=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function kN(t){return t.replace(/\\/g,"/")}ct.unixify=kN;function DN(t,e){return MN.resolve(t,e)}ct.makeAbsolute=DN;function $N(t){return t.replace(IN,"\\$2")}ct.escape=$N;function FN(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(qN)}return t}ct.removeLeadingDotSegment=FN});var cv=h((cj,lv)=>{lv.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var hv=h((fj,dv)=>{var jN=cv(),fv={"{":"}","(":")","[":"]"},BN=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,s=-2,i=-2,a=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(a===-1||a>n||(a=t.indexOf("\\",e),a===-1||a>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(a=t.indexOf("\\",e),a===-1||a>s))||i!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(i=t.indexOf(")",e),i>e&&(a=t.indexOf("\\",e),a===-1||a>i))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(i=t.indexOf(")",r),i>r&&(a=t.indexOf("\\",r),a===-1||a>i))))return!0;if(t[e]==="\\"){var o=t[e+1];e+=2;var u=fv[o];if(u){var l=t.indexOf(u,e);l!==-1&&(e=l+1)}if(t[e]==="!")return!0}else e++}return!1},VN=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=fv[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};dv.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(jN(e))return!0;var n=BN;return r&&r.strict===!1&&(n=VN),n(e)}});var gv=h((dj,pv)=>{"use strict";var UN=hv(),GN=require("path").posix.dirname,WN=require("os").platform()==="win32",Tl="/",KN=/\\/g,YN=/[\{\[].*[\}\]]$/,zN=/(^|[^\\])([\{\[]|\([^\)]+$)/,XN=/\\([\!\*\?\|\[\]\(\)\{\}])/g;pv.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&WN&&e.indexOf(Tl)<0&&(e=e.replace(KN,Tl)),YN.test(e)&&(e+=Tl),e+="a";do e=GN(e);while(UN(e)||zN.test(e));return e.replace(XN,"$1")}});var da=h(Qe=>{"use strict";Qe.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Qe.find=(t,e)=>t.nodes.find(r=>r.type===e);Qe.exceedsLimit=(t,e,r=1,n)=>n===!1||!Qe.isInteger(t)||!Qe.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;Qe.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Qe.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0==0?(t.invalid=!0,!0):!1;Qe.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0==0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Qe.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Qe.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Qe.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?r(i,e):i!==void 0&&e.push(i)}return e};return r(t),e}});var ha=h((pj,mv)=>{"use strict";var yv=da();mv.exports=(t,e={})=>{let r=(n,s={})=>{let i=e.escapeInvalid&&yv.isInvalidBrace(s),a=n.invalid===!0&&e.escapeInvalid===!0,o="";if(n.value)return(i||a)&&yv.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)o+=r(u);return o};return r(t)}});var _v=h((gj,vv)=>{"use strict";vv.exports=function(t){return typeof t=="number"?t-t==0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var Cv=h((yj,Pv)=>{"use strict";var bv=_v(),xr=(t,e,r)=>{if(bv(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(bv(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=H({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),o=String(n.wrap),u=t+":"+e+"="+s+i+a+o;if(xr.cache.hasOwnProperty(u))return xr.cache[u].result;let l=Math.min(t,e),c=Math.max(t,e);if(Math.abs(l-c)===1){let y=t+"|"+e;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let d=xv(t)||xv(e),f={min:t,max:e,a:l,b:c},p=[],g=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),l<0){let y=c<0?Math.abs(c):1;g=Ev(y,Math.abs(l),f,n),l=f.a=0}return c>=0&&(p=Ev(l,c,f,n)),f.negatives=g,f.positives=p,f.result=QN(g,p,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&p.length+g.length>1&&(f.result=`(?:${f.result})`),xr.cache[u]=f,f.result};function QN(t,e,r){let n=Ol(t,e,"-",!1,r)||[],s=Ol(e,t,"",!1,r)||[],i=Ol(t,e,"-?",!0,r)||[];return n.concat(i).concat(s).join("|")}function JN(t,e){let r=1,n=1,s=Av(t,r),i=new Set([e]);for(;t<=s&&s<=e;)i.add(s),r+=1,s=Av(t,r);for(s=Sv(e+1,n)-1;t<s&&s<=e;)i.add(s),n+=1,s=Sv(e+1,n)-1;return i=[...i],i.sort(tH),i}function ZN(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=eH(t,e),s=n.length,i="",a=0;for(let o=0;o<s;o++){let[u,l]=n[o];u===l?i+=u:u!=="0"||l!=="9"?i+=rH(u,l,r):a++}return a&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[a],digits:s}}function Ev(t,e,r,n){let s=JN(t,e),i=[],a=t,o;for(let u=0;u<s.length;u++){let l=s[u],c=ZN(String(a),String(l),n),d="";if(!r.isPadded&&o&&o.pattern===c.pattern){o.count.length>1&&o.count.pop(),o.count.push(c.count[0]),o.string=o.pattern+wv(o.count),a=l+1;continue}r.isPadded&&(d=nH(l,r,n)),c.string=d+c.pattern+wv(c.count),i.push(c),a=l+1,o=c}return i}function Ol(t,e,r,n,s){let i=[];for(let a of t){let{string:o}=a;!n&&!Rv(e,"string",o)&&i.push(r+o),n&&Rv(e,"string",o)&&i.push(r+o)}return i}function eH(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function tH(t,e){return t>e?1:e>t?-1:0}function Rv(t,e,r){return t.some(n=>n[e]===r)}function Av(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Sv(t,e){return t-t%Math.pow(10,e)}function wv(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function rH(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function xv(t){return/^-?(0+)\d/.test(t)}function nH(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}xr.cache={};xr.clearCache=()=>xr.cache={};Pv.exports=xr});var Ll=h((mj,Iv)=>{"use strict";var sH=require("util"),Tv=Cv(),Ov=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),iH=t=>e=>t===!0?Number(e):String(e),Nl=t=>typeof t=="number"||typeof t=="string"&&t!=="",Ns=t=>Number.isInteger(+t),Hl=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},aH=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,oH=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},Nv=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},uH=(t,e)=>{t.negatives.sort((a,o)=>a<o?-1:a>o?1:0),t.positives.sort((a,o)=>a<o?-1:a>o?1:0);let r=e.capture?"":"?:",n="",s="",i;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?i=`${n}|${s}`:i=n||s,e.wrap?`(${r}${i})`:i},Hv=(t,e,r,n)=>{if(r)return Tv(t,e,H({wrap:!1},n));let s=String.fromCharCode(t);if(t===e)return s;let i=String.fromCharCode(e);return`[${s}-${i}]`},Lv=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return Tv(t,e,r)},Mv=(...t)=>new RangeError("Invalid range arguments: "+sH.inspect(...t)),qv=(t,e,r)=>{if(r.strictRanges===!0)throw Mv([t,e]);return[]},lH=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},cH=(t,e,r=1,n={})=>{let s=Number(t),i=Number(e);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw Mv([t,e]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,o=String(t),u=String(e),l=String(r);r=Math.max(Math.abs(r),1);let c=Hl(o)||Hl(u)||Hl(l),d=c?Math.max(o.length,u.length,l.length):0,f=c===!1&&aH(t,e,n)===!1,p=n.transform||iH(f);if(n.toRegex&&r===1)return Hv(Nv(t,d),Nv(e,d),!0,n);let g={negatives:[],positives:[]},y=L=>g[L<0?"negatives":"positives"].push(Math.abs(L)),_=[],E=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&r>1?y(s):_.push(oH(p(s,E),d,f)),s=a?s-r:s+r,E++;return n.toRegex===!0?r>1?uH(g,n):Lv(_,null,H({wrap:!1},n)):_},fH=(t,e,r=1,n={})=>{if(!Ns(t)&&t.length>1||!Ns(e)&&e.length>1)return qv(t,e,n);let s=n.transform||(f=>String.fromCharCode(f)),i=`${t}`.charCodeAt(0),a=`${e}`.charCodeAt(0),o=i>a,u=Math.min(i,a),l=Math.max(i,a);if(n.toRegex&&r===1)return Hv(u,l,!1,n);let c=[],d=0;for(;o?i>=a:i<=a;)c.push(s(i,d)),i=o?i-r:i+r,d++;return n.toRegex===!0?Lv(c,null,{wrap:!1,options:n}):c},pa=(t,e,r,n={})=>{if(e==null&&Nl(t))return[t];if(!Nl(t)||!Nl(e))return qv(t,e,n);if(typeof r=="function")return pa(t,e,1,{transform:r});if(Ov(r))return pa(t,e,0,r);let s=H({},n);return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,Ns(r)?Ns(t)&&Ns(e)?cH(t,e,r,s):fH(t,e,Math.max(Math.abs(r),1),s):r!=null&&!Ov(r)?lH(r,s):pa(t,e,1,r)};Iv.exports=pa});var $v=h((vj,Dv)=>{"use strict";var dH=Ll(),kv=da(),hH=(t,e={})=>{let r=(n,s={})=>{let i=kv.isInvalidBrace(s),a=n.invalid===!0&&e.escapeInvalid===!0,o=i===!0||a===!0,u=e.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return o?u+n.value:"(";if(n.type==="close")return o?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":o?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let c=kv.reduce(n.nodes),d=dH(...c,Y(H({},e),{wrap:!1,toRegex:!0}));if(d.length!==0)return c.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let c of n.nodes)l+=r(c,n);return l};return r(t)};Dv.exports=hH});var Bv=h((_j,jv)=>{"use strict";var pH=Ll(),Fv=ha(),hn=da(),Pr=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?hn.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let i of s)n.push(Pr(i,e,r));else for(let i of e)r===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?Pr(s,i,r):s+i);return hn.flatten(n)},gH=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,o=i.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,o=a.queue;if(s.invalid||s.dollar){o.push(Pr(o.pop(),Fv(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){o.push(Pr(o.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let d=hn.reduce(s.nodes);if(hn.exceedsLimit(...d,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=pH(...d,e);f.length===0&&(f=Fv(s,e)),o.push(Pr(o.pop(),f)),s.nodes=[];return}let u=hn.encloseBrace(s),l=s.queue,c=s;for(;c.type!=="brace"&&c.type!=="root"&&c.parent;)c=c.parent,l=c.queue;for(let d=0;d<s.nodes.length;d++){let f=s.nodes[d];if(f.type==="comma"&&s.type==="brace"){d===1&&l.push(""),l.push("");continue}if(f.type==="close"){o.push(Pr(o.pop(),l,u));continue}if(f.value&&f.type!=="open"){l.push(Pr(l.pop(),f.value));continue}f.nodes&&n(f,s)}return l};return hn.flatten(n(t))};jv.exports=gH});var Uv=h((bj,Vv)=>{"use strict";Vv.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var zv=h((Ej,Yv)=>{"use strict";var yH=ha(),{MAX_LENGTH:Gv,CHAR_BACKSLASH:Ml,CHAR_BACKTICK:mH,CHAR_COMMA:vH,CHAR_DOT:_H,CHAR_LEFT_PARENTHESES:bH,CHAR_RIGHT_PARENTHESES:EH,CHAR_LEFT_CURLY_BRACE:RH,CHAR_RIGHT_CURLY_BRACE:AH,CHAR_LEFT_SQUARE_BRACKET:Wv,CHAR_RIGHT_SQUARE_BRACKET:Kv,CHAR_DOUBLE_QUOTE:SH,CHAR_SINGLE_QUOTE:wH,CHAR_NO_BREAK_SPACE:xH,CHAR_ZERO_WIDTH_NOBREAK_SPACE:PH}=Uv(),CH=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(Gv,r.maxLength):Gv;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},i=[s],a=s,o=s,u=0,l=t.length,c=0,d=0,f,p={},g=()=>t[c++],y=_=>{if(_.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&_.type==="text"){o.value+=_.value;return}return a.nodes.push(_),_.parent=a,_.prev=o,o=_,_};for(y({type:"bos"});c<l;)if(a=i[i.length-1],f=g(),!(f===PH||f===xH)){if(f===Ml){y({type:"text",value:(e.keepEscaping?f:"")+g()});continue}if(f===Kv){y({type:"text",value:"\\"+f});continue}if(f===Wv){u++;let _=!0,E;for(;c<l&&(E=g());){if(f+=E,E===Wv){u++;continue}if(E===Ml){f+=g();continue}if(E===Kv&&(u--,u===0))break}y({type:"text",value:f});continue}if(f===bH){a=y({type:"paren",nodes:[]}),i.push(a),y({type:"text",value:f});continue}if(f===EH){if(a.type!=="paren"){y({type:"text",value:f});continue}a=i.pop(),y({type:"text",value:f}),a=i[i.length-1];continue}if(f===SH||f===wH||f===mH){let _=f,E;for(e.keepQuotes!==!0&&(f="");c<l&&(E=g());){if(E===Ml){f+=E+g();continue}if(E===_){e.keepQuotes===!0&&(f+=E);break}f+=E}y({type:"text",value:f});continue}if(f===RH){d++;let _=o.value&&o.value.slice(-1)==="$"||a.dollar===!0;a=y({type:"brace",open:!0,close:!1,dollar:_,depth:d,commas:0,ranges:0,nodes:[]}),i.push(a),y({type:"open",value:f});continue}if(f===AH){if(a.type!=="brace"){y({type:"text",value:f});continue}let _="close";a=i.pop(),a.close=!0,y({type:_,value:f}),d--,a=i[i.length-1];continue}if(f===vH&&d>0){if(a.ranges>0){a.ranges=0;let _=a.nodes.shift();a.nodes=[_,{type:"text",value:yH(a)}]}y({type:"comma",value:f}),a.commas++;continue}if(f===_H&&d>0&&a.commas===0){let _=a.nodes;if(d===0||_.length===0){y({type:"text",value:f});continue}if(o.type==="dot"){if(a.range=[],o.value+=f,o.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,o.type="text";continue}a.ranges++,a.args=[];continue}if(o.type==="range"){_.pop();let E=_[_.length-1];E.value+=o.value+f,o=E,a.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(a=i.pop(),a.type!=="root"){a.nodes.forEach(L=>{L.nodes||(L.type==="open"&&(L.isOpen=!0),L.type==="close"&&(L.isClose=!0),L.nodes||(L.type="text"),L.invalid=!0)});let _=i[i.length-1],E=_.nodes.indexOf(a);_.nodes.splice(E,1,...a.nodes)}while(i.length>0);return y({type:"eos"}),s};Yv.exports=CH});var Jv=h((Rj,Qv)=>{"use strict";var Xv=ha(),TH=$v(),OH=Bv(),NH=zv(),Ke=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Ke.create(n,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Ke.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Ke.parse=(t,e={})=>NH(t,e);Ke.stringify=(t,e={})=>Xv(typeof t=="string"?Ke.parse(t,e):t,e);Ke.compile=(t,e={})=>(typeof t=="string"&&(t=Ke.parse(t,e)),TH(t,e));Ke.expand=(t,e={})=>{typeof t=="string"&&(t=Ke.parse(t,e));let r=OH(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Ke.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Ke.compile(t,e):Ke.expand(t,e);Qv.exports=Ke});var Hs=h((Aj,n_)=>{"use strict";var HH=require("path"),ft="\\\\/",Zv=`[^${ft}]`,Ct="\\.",LH="\\+",MH="\\?",ga="\\/",qH="(?=.)",e_="[^/]",ql=`(?:${ga}|$)`,t_=`(?:^|${ga})`,Il=`${Ct}{1,2}${ql}`,IH=`(?!${Ct})`,kH=`(?!${t_}${Il})`,DH=`(?!${Ct}{0,1}${ql})`,$H=`(?!${Il})`,FH=`[^.${ga}]`,jH=`${e_}*?`,r_={DOT_LITERAL:Ct,PLUS_LITERAL:LH,QMARK_LITERAL:MH,SLASH_LITERAL:ga,ONE_CHAR:qH,QMARK:e_,END_ANCHOR:ql,DOTS_SLASH:Il,NO_DOT:IH,NO_DOTS:kH,NO_DOT_SLASH:DH,NO_DOTS_SLASH:$H,QMARK_NO_DOT:FH,STAR:jH,START_ANCHOR:t_},BH=Y(H({},r_),{SLASH_LITERAL:`[${ft}]`,QMARK:Zv,STAR:`${Zv}*?`,DOTS_SLASH:`${Ct}{1,2}(?:[${ft}]|$)`,NO_DOT:`(?!${Ct})`,NO_DOTS:`(?!(?:^|[${ft}])${Ct}{1,2}(?:[${ft}]|$))`,NO_DOT_SLASH:`(?!${Ct}{0,1}(?:[${ft}]|$))`,NO_DOTS_SLASH:`(?!${Ct}{1,2}(?:[${ft}]|$))`,QMARK_NO_DOT:`[^.${ft}]`,START_ANCHOR:`(?:^|[${ft}])`,END_ANCHOR:`(?:[${ft}]|$)`}),VH={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};n_.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:VH,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:HH.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?BH:r_}}});var Ls=h(je=>{"use strict";var UH=require("path"),GH=process.platform==="win32",{REGEX_BACKSLASH:WH,REGEX_REMOVE_BACKSLASH:KH,REGEX_SPECIAL_CHARS:YH,REGEX_SPECIAL_CHARS_GLOBAL:zH}=Hs();je.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);je.hasRegexChars=t=>YH.test(t);je.isRegexChar=t=>t.length===1&&je.hasRegexChars(t);je.escapeRegex=t=>t.replace(zH,"\\$1");je.toPosixSlashes=t=>t.replace(WH,"/");je.removeBackslashes=t=>t.replace(KH,e=>e==="\\"?"":e);je.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};je.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:GH===!0||UH.sep==="\\";je.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?je.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};je.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};je.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",i=`${n}(?:${t})${s}`;return e.negated===!0&&(i=`(?:^(?!${i}).*$)`),i}});var f_=h((wj,c_)=>{"use strict";var s_=Ls(),{CHAR_ASTERISK:kl,CHAR_AT:XH,CHAR_BACKWARD_SLASH:Ms,CHAR_COMMA:QH,CHAR_DOT:Dl,CHAR_EXCLAMATION_MARK:$l,CHAR_FORWARD_SLASH:i_,CHAR_LEFT_CURLY_BRACE:Fl,CHAR_LEFT_PARENTHESES:jl,CHAR_LEFT_SQUARE_BRACKET:JH,CHAR_PLUS:ZH,CHAR_QUESTION_MARK:a_,CHAR_RIGHT_CURLY_BRACE:eL,CHAR_RIGHT_PARENTHESES:o_,CHAR_RIGHT_SQUARE_BRACKET:tL}=Hs(),u_=t=>t===i_||t===Ms,l_=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},rL=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,i=[],a=[],o=[],u=t,l=-1,c=0,d=0,f=!1,p=!1,g=!1,y=!1,_=!1,E=!1,L=!1,B=!1,$=!1,k=!1,V=0,M,T,U={value:"",depth:0,isGlob:!1},Q=()=>l>=n,w=()=>u.charCodeAt(l+1),A=()=>(M=T,u.charCodeAt(++l));for(;l<n;){T=A();let J;if(T===Ms){L=U.backslashes=!0,T=A(),T===Fl&&(E=!0);continue}if(E===!0||T===Fl){for(V++;Q()!==!0&&(T=A());){if(T===Ms){L=U.backslashes=!0,A();continue}if(T===Fl){V++;continue}if(E!==!0&&T===Dl&&(T=A())===Dl){if(f=U.isBrace=!0,g=U.isGlob=!0,k=!0,s===!0)continue;break}if(E!==!0&&T===QH){if(f=U.isBrace=!0,g=U.isGlob=!0,k=!0,s===!0)continue;break}if(T===eL&&(V--,V===0)){E=!1,f=U.isBrace=!0,k=!0;break}}if(s===!0)continue;break}if(T===i_){if(i.push(l),a.push(U),U={value:"",depth:0,isGlob:!1},k===!0)continue;if(M===Dl&&l===c+1){c+=2;continue}d=l+1;continue}if(r.noext!==!0&&(T===ZH||T===XH||T===kl||T===a_||T===$l)===!0&&w()===jl){if(g=U.isGlob=!0,y=U.isExtglob=!0,k=!0,T===$l&&l===c&&($=!0),s===!0){for(;Q()!==!0&&(T=A());){if(T===Ms){L=U.backslashes=!0,T=A();continue}if(T===o_){g=U.isGlob=!0,k=!0;break}}continue}break}if(T===kl){if(M===kl&&(_=U.isGlobstar=!0),g=U.isGlob=!0,k=!0,s===!0)continue;break}if(T===a_){if(g=U.isGlob=!0,k=!0,s===!0)continue;break}if(T===JH){for(;Q()!==!0&&(J=A());){if(J===Ms){L=U.backslashes=!0,A();continue}if(J===tL){p=U.isBracket=!0,g=U.isGlob=!0,k=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&T===$l&&l===c){B=U.negated=!0,c++;continue}if(r.noparen!==!0&&T===jl){if(g=U.isGlob=!0,s===!0){for(;Q()!==!0&&(T=A());){if(T===jl){L=U.backslashes=!0,T=A();continue}if(T===o_){k=!0;break}}continue}break}if(g===!0){if(k=!0,s===!0)continue;break}}r.noext===!0&&(y=!1,g=!1);let R=u,N="",v="";c>0&&(N=u.slice(0,c),u=u.slice(c),d-=c),R&&g===!0&&d>0?(R=u.slice(0,d),v=u.slice(d)):g===!0?(R="",v=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&u_(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),r.unescape===!0&&(v&&(v=s_.removeBackslashes(v)),R&&L===!0&&(R=s_.removeBackslashes(R)));let m={prefix:N,input:t,start:c,base:R,glob:v,isBrace:f,isBracket:p,isGlob:g,isExtglob:y,isGlobstar:_,negated:B,negatedExtglob:$};if(r.tokens===!0&&(m.maxDepth=0,u_(T)||a.push(U),m.tokens=a),r.parts===!0||r.tokens===!0){let J;for(let b=0;b<i.length;b++){let S=J?J+1:c,x=i[b],O=t.slice(S,x);r.tokens&&(b===0&&c!==0?(a[b].isPrefix=!0,a[b].value=N):a[b].value=O,l_(a[b]),m.maxDepth+=a[b].depth),(b!==0||O!=="")&&o.push(O),J=x}if(J&&J+1<t.length){let b=t.slice(J+1);o.push(b),r.tokens&&(a[a.length-1].value=b,l_(a[a.length-1]),m.maxDepth+=a[a.length-1].depth)}m.slashes=i,m.parts=o}return m};c_.exports=rL});var p_=h((xj,h_)=>{"use strict";var ya=Hs(),Ye=Ls(),{MAX_LENGTH:ma,POSIX_REGEX_SOURCE:nL,REGEX_NON_SPECIAL_CHARS:sL,REGEX_SPECIAL_CHARS_BACKREF:iL,REPLACEMENTS:d_}=ya,aL=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>Ye.escapeRegex(s)).join("..")}return r},pn=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Bl=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=d_[t]||t;let r=H({},e),n=typeof r.maxLength=="number"?Math.min(ma,r.maxLength):ma,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:r.prepend||""},a=[i],o=r.capture?"":"?:",u=Ye.isWindows(e),l=ya.globChars(u),c=ya.extglobChars(l),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:g,DOTS_SLASH:y,NO_DOT:_,NO_DOT_SLASH:E,NO_DOTS_SLASH:L,QMARK:B,QMARK_NO_DOT:$,STAR:k,START_ANCHOR:V}=l,M=C=>`(${o}(?:(?!${V}${C.dot?y:d}).)*?)`,T=r.dot?"":_,U=r.dot?B:$,Q=r.bash===!0?M(r):k;r.capture&&(Q=`(${Q})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let w={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};t=Ye.removePrefix(t,w),s=t.length;let A=[],R=[],N=[],v=i,m,J=()=>w.index===s-1,b=w.peek=(C=1)=>t[w.index+C],S=w.advance=()=>t[++w.index]||"",x=()=>t.slice(w.index+1),O=(C="",ee=0)=>{w.consumed+=C,w.index+=ee},j=C=>{w.output+=C.output!=null?C.output:C.value,O(C.value)},se=()=>{let C=1;for(;b()==="!"&&(b(2)!=="("||b(3)==="?");)S(),w.start++,C++;return C%2==0?!1:(w.negated=!0,w.start++,!0)},oe=C=>{w[C]++,N.push(C)},ie=C=>{w[C]--,N.pop()},F=C=>{if(v.type==="globstar"){let ee=w.braces>0&&(C.type==="comma"||C.type==="brace"),P=C.extglob===!0||A.length&&(C.type==="pipe"||C.type==="paren");C.type!=="slash"&&C.type!=="paren"&&!ee&&!P&&(w.output=w.output.slice(0,-v.output.length),v.type="star",v.value="*",v.output=Q,w.output+=v.output)}if(A.length&&C.type!=="paren"&&(A[A.length-1].inner+=C.value),(C.value||C.output)&&j(C),v&&v.type==="text"&&C.type==="text"){v.value+=C.value,v.output=(v.output||"")+C.value;return}C.prev=v,a.push(C),v=C},de=(C,ee)=>{let P=Y(H({},c[ee]),{conditions:1,inner:""});P.prev=v,P.parens=w.parens,P.output=w.output;let X=(r.capture?"(":"")+P.open;oe("parens"),F({type:C,value:ee,output:w.output?"":g}),F({type:"paren",extglob:!0,value:S(),output:X}),A.push(P)},Be=C=>{let ee=C.close+(r.capture?")":""),P;if(C.type==="negate"){let X=Q;if(C.inner&&C.inner.length>1&&C.inner.includes("/")&&(X=M(r)),(X!==Q||J()||/^\)+$/.test(x()))&&(ee=C.close=`)$))${X}`),C.inner.includes("*")&&(P=x())&&/^\.[^\\/.]+$/.test(P)){let ye=Bl(P,Y(H({},e),{fastpaths:!1})).output;ee=C.close=`)${ye})${X})`}C.prev.type==="bos"&&(w.negatedExtglob=!0)}F({type:"paren",extglob:!0,value:m,output:ee}),ie("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let C=!1,ee=t.replace(iL,(P,X,ye,ke,Ee,ao)=>ke==="\\"?(C=!0,P):ke==="?"?X?X+ke+(Ee?B.repeat(Ee.length):""):ao===0?U+(Ee?B.repeat(Ee.length):""):B.repeat(ye.length):ke==="."?d.repeat(ye.length):ke==="*"?X?X+ke+(Ee?Q:""):Q:X?P:`\\${P}`);return C===!0&&(r.unescape===!0?ee=ee.replace(/\\/g,""):ee=ee.replace(/\\+/g,P=>P.length%2==0?"\\\\":P?"\\":"")),ee===t&&r.contains===!0?(w.output=t,w):(w.output=Ye.wrapOutput(ee,w,e),w)}for(;!J();){if(m=S(),m==="\0")continue;if(m==="\\"){let P=b();if(P==="/"&&r.bash!==!0||P==="."||P===";")continue;if(!P){m+="\\",F({type:"text",value:m});continue}let X=/^\\+/.exec(x()),ye=0;if(X&&X[0].length>2&&(ye=X[0].length,w.index+=ye,ye%2!=0&&(m+="\\")),r.unescape===!0?m=S():m+=S(),w.brackets===0){F({type:"text",value:m});continue}}if(w.brackets>0&&(m!=="]"||v.value==="["||v.value==="[^")){if(r.posix!==!1&&m===":"){let P=v.value.slice(1);if(P.includes("[")&&(v.posix=!0,P.includes(":"))){let X=v.value.lastIndexOf("["),ye=v.value.slice(0,X),ke=v.value.slice(X+2),Ee=nL[ke];if(Ee){v.value=ye+Ee,w.backtrack=!0,S(),!i.output&&a.indexOf(v)===1&&(i.output=g);continue}}}(m==="["&&b()!==":"||m==="-"&&b()==="]")&&(m=`\\${m}`),m==="]"&&(v.value==="["||v.value==="[^")&&(m=`\\${m}`),r.posix===!0&&m==="!"&&v.value==="["&&(m="^"),v.value+=m,j({value:m});continue}if(w.quotes===1&&m!=='"'){m=Ye.escapeRegex(m),v.value+=m,j({value:m});continue}if(m==='"'){w.quotes=w.quotes===1?0:1,r.keepQuotes===!0&&F({type:"text",value:m});continue}if(m==="("){oe("parens"),F({type:"paren",value:m});continue}if(m===")"){if(w.parens===0&&r.strictBrackets===!0)throw new SyntaxError(pn("opening","("));let P=A[A.length-1];if(P&&w.parens===P.parens+1){Be(A.pop());continue}F({type:"paren",value:m,output:w.parens?")":"\\)"}),ie("parens");continue}if(m==="["){if(r.nobracket===!0||!x().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(pn("closing","]"));m=`\\${m}`}else oe("brackets");F({type:"bracket",value:m});continue}if(m==="]"){if(r.nobracket===!0||v&&v.type==="bracket"&&v.value.length===1){F({type:"text",value:m,output:`\\${m}`});continue}if(w.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(pn("opening","["));F({type:"text",value:m,output:`\\${m}`});continue}ie("brackets");let P=v.value.slice(1);if(v.posix!==!0&&P[0]==="^"&&!P.includes("/")&&(m=`/${m}`),v.value+=m,j({value:m}),r.literalBrackets===!1||Ye.hasRegexChars(P))continue;let X=Ye.escapeRegex(v.value);if(w.output=w.output.slice(0,-v.value.length),r.literalBrackets===!0){w.output+=X,v.value=X;continue}v.value=`(${o}${X}|${v.value})`,w.output+=v.value;continue}if(m==="{"&&r.nobrace!==!0){oe("braces");let P={type:"brace",value:m,output:"(",outputIndex:w.output.length,tokensIndex:w.tokens.length};R.push(P),F(P);continue}if(m==="}"){let P=R[R.length-1];if(r.nobrace===!0||!P){F({type:"text",value:m,output:m});continue}let X=")";if(P.dots===!0){let ye=a.slice(),ke=[];for(let Ee=ye.length-1;Ee>=0&&(a.pop(),ye[Ee].type!=="brace");Ee--)ye[Ee].type!=="dots"&&ke.unshift(ye[Ee].value);X=aL(ke,r),w.backtrack=!0}if(P.comma!==!0&&P.dots!==!0){let ye=w.output.slice(0,P.outputIndex),ke=w.tokens.slice(P.tokensIndex);P.value=P.output="\\{",m=X="\\}",w.output=ye;for(let Ee of ke)w.output+=Ee.output||Ee.value}F({type:"brace",value:m,output:X}),ie("braces"),R.pop();continue}if(m==="|"){A.length>0&&A[A.length-1].conditions++,F({type:"text",value:m});continue}if(m===","){let P=m,X=R[R.length-1];X&&N[N.length-1]==="braces"&&(X.comma=!0,P="|"),F({type:"comma",value:m,output:P});continue}if(m==="/"){if(v.type==="dot"&&w.index===w.start+1){w.start=w.index+1,w.consumed="",w.output="",a.pop(),v=i;continue}F({type:"slash",value:m,output:p});continue}if(m==="."){if(w.braces>0&&v.type==="dot"){v.value==="."&&(v.output=d);let P=R[R.length-1];v.type="dots",v.output+=m,v.value+=m,P.dots=!0;continue}if(w.braces+w.parens===0&&v.type!=="bos"&&v.type!=="slash"){F({type:"text",value:m,output:d});continue}F({type:"dot",value:m,output:d});continue}if(m==="?"){if(!(v&&v.value==="(")&&r.noextglob!==!0&&b()==="("&&b(2)!=="?"){de("qmark",m);continue}if(v&&v.type==="paren"){let X=b(),ye=m;if(X==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(v.value==="("&&!/[!=<:]/.test(X)||X==="<"&&!/<([!=]|\w+>)/.test(x()))&&(ye=`\\${m}`),F({type:"text",value:m,output:ye});continue}if(r.dot!==!0&&(v.type==="slash"||v.type==="bos")){F({type:"qmark",value:m,output:$});continue}F({type:"qmark",value:m,output:B});continue}if(m==="!"){if(r.noextglob!==!0&&b()==="("&&(b(2)!=="?"||!/[!=<:]/.test(b(3)))){de("negate",m);continue}if(r.nonegate!==!0&&w.index===0){se();continue}}if(m==="+"){if(r.noextglob!==!0&&b()==="("&&b(2)!=="?"){de("plus",m);continue}if(v&&v.value==="("||r.regex===!1){F({type:"plus",value:m,output:f});continue}if(v&&(v.type==="bracket"||v.type==="paren"||v.type==="brace")||w.parens>0){F({type:"plus",value:m});continue}F({type:"plus",value:f});continue}if(m==="@"){if(r.noextglob!==!0&&b()==="("&&b(2)!=="?"){F({type:"at",extglob:!0,value:m,output:""});continue}F({type:"text",value:m});continue}if(m!=="*"){(m==="$"||m==="^")&&(m=`\\${m}`);let P=sL.exec(x());P&&(m+=P[0],w.index+=P[0].length),F({type:"text",value:m});continue}if(v&&(v.type==="globstar"||v.star===!0)){v.type="star",v.star=!0,v.value+=m,v.output=Q,w.backtrack=!0,w.globstar=!0,O(m);continue}let C=x();if(r.noextglob!==!0&&/^\([^?]/.test(C)){de("star",m);continue}if(v.type==="star"){if(r.noglobstar===!0){O(m);continue}let P=v.prev,X=P.prev,ye=P.type==="slash"||P.type==="bos",ke=X&&(X.type==="star"||X.type==="globstar");if(r.bash===!0&&(!ye||C[0]&&C[0]!=="/")){F({type:"star",value:m,output:""});continue}let Ee=w.braces>0&&(P.type==="comma"||P.type==="brace"),ao=A.length&&(P.type==="pipe"||P.type==="paren");if(!ye&&P.type!=="paren"&&!Ee&&!ao){F({type:"star",value:m,output:""});continue}for(;C.slice(0,3)==="/**";){let Qs=t[w.index+4];if(Qs&&Qs!=="/")break;C=C.slice(3),O("/**",3)}if(P.type==="bos"&&J()){v.type="globstar",v.value+=m,v.output=M(r),w.output=v.output,w.globstar=!0,O(m);continue}if(P.type==="slash"&&P.prev.type!=="bos"&&!ke&&J()){w.output=w.output.slice(0,-(P.output+v.output).length),P.output=`(?:${P.output}`,v.type="globstar",v.output=M(r)+(r.strictSlashes?")":"|$)"),v.value+=m,w.globstar=!0,w.output+=P.output+v.output,O(m);continue}if(P.type==="slash"&&P.prev.type!=="bos"&&C[0]==="/"){let Qs=C[1]!==void 0?"|$":"";w.output=w.output.slice(0,-(P.output+v.output).length),P.output=`(?:${P.output}`,v.type="globstar",v.output=`${M(r)}${p}|${p}${Qs})`,v.value+=m,w.output+=P.output+v.output,w.globstar=!0,O(m+S()),F({type:"slash",value:"/",output:""});continue}if(P.type==="bos"&&C[0]==="/"){v.type="globstar",v.value+=m,v.output=`(?:^|${p}|${M(r)}${p})`,w.output=v.output,w.globstar=!0,O(m+S()),F({type:"slash",value:"/",output:""});continue}w.output=w.output.slice(0,-v.output.length),v.type="globstar",v.output=M(r),v.value+=m,w.output+=v.output,w.globstar=!0,O(m);continue}let ee={type:"star",value:m,output:Q};if(r.bash===!0){ee.output=".*?",(v.type==="bos"||v.type==="slash")&&(ee.output=T+ee.output),F(ee);continue}if(v&&(v.type==="bracket"||v.type==="paren")&&r.regex===!0){ee.output=m,F(ee);continue}(w.index===w.start||v.type==="slash"||v.type==="dot")&&(v.type==="dot"?(w.output+=E,v.output+=E):r.dot===!0?(w.output+=L,v.output+=L):(w.output+=T,v.output+=T),b()!=="*"&&(w.output+=g,v.output+=g)),F(ee)}for(;w.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(pn("closing","]"));w.output=Ye.escapeLast(w.output,"["),ie("brackets")}for(;w.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(pn("closing",")"));w.output=Ye.escapeLast(w.output,"("),ie("parens")}for(;w.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(pn("closing","}"));w.output=Ye.escapeLast(w.output,"{"),ie("braces")}if(r.strictSlashes!==!0&&(v.type==="star"||v.type==="bracket")&&F({type:"maybe_slash",value:"",output:`${p}?`}),w.backtrack===!0){w.output="";for(let C of w.tokens)w.output+=C.output!=null?C.output:C.value,C.suffix&&(w.output+=C.suffix)}return w};Bl.fastpaths=(t,e)=>{let r=H({},e),n=typeof r.maxLength=="number"?Math.min(ma,r.maxLength):ma,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=d_[t]||t;let i=Ye.isWindows(e),{DOT_LITERAL:a,SLASH_LITERAL:o,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:g}=ya.globChars(i),y=r.dot?d:c,_=r.dot?f:c,E=r.capture?"":"?:",L={negated:!1,prefix:""},B=r.bash===!0?".*?":p;r.capture&&(B=`(${B})`);let $=T=>T.noglobstar===!0?B:`(${E}(?:(?!${g}${T.dot?l:a}).)*?)`,k=T=>{switch(T){case"*":return`${y}${u}${B}`;case".*":return`${a}${u}${B}`;case"*.*":return`${y}${B}${a}${u}${B}`;case"*/*":return`${y}${B}${o}${u}${_}${B}`;case"**":return y+$(r);case"**/*":return`(?:${y}${$(r)}${o})?${_}${u}${B}`;case"**/*.*":return`(?:${y}${$(r)}${o})?${_}${B}${a}${u}${B}`;case"**/.*":return`(?:${y}${$(r)}${o})?${a}${u}${B}`;default:{let U=/^(.*?)\.(\w+)$/.exec(T);if(!U)return;let Q=k(U[1]);return Q?Q+a+U[2]:void 0}}},V=Ye.removePrefix(t,L),M=k(V);return M&&r.strictSlashes!==!0&&(M+=`${o}?`),M};h_.exports=Bl});var y_=h((Pj,g_)=>{"use strict";var oL=require("path"),uL=f_(),Vl=p_(),Ul=Ls(),lL=Hs(),cL=t=>t&&typeof t=="object"&&!Array.isArray(t),_e=(t,e,r=!1)=>{if(Array.isArray(t)){let c=t.map(f=>_e(f,e,r));return f=>{for(let p of c){let g=p(f);if(g)return g}return!1}}let n=cL(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},i=Ul.isWindows(e),a=n?_e.compileRe(t,e):_e.makeRe(t,e,!1,!0),o=a.state;delete a.state;let u=()=>!1;if(s.ignore){let c=Y(H({},e),{ignore:null,onMatch:null,onResult:null});u=_e(s.ignore,c,r)}let l=(c,d=!1)=>{let{isMatch:f,match:p,output:g}=_e.test(c,a,e,{glob:t,posix:i}),y={glob:t,state:o,regex:a,posix:i,input:c,output:g,match:p,isMatch:f};return typeof s.onResult=="function"&&s.onResult(y),f===!1?(y.isMatch=!1,d?y:!1):u(c)?(typeof s.onIgnore=="function"&&s.onIgnore(y),y.isMatch=!1,d?y:!1):(typeof s.onMatch=="function"&&s.onMatch(y),d?y:!0)};return r&&(l.state=o),l};_e.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let i=r||{},a=i.format||(s?Ul.toPosixSlashes:null),o=t===n,u=o&&a?a(t):t;return o===!1&&(u=a?a(t):t,o=u===n),(o===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?o=_e.matchBase(t,e,r,s):o=e.exec(u)),{isMatch:Boolean(o),match:o,output:u}};_e.matchBase=(t,e,r,n=Ul.isWindows(r))=>(e instanceof RegExp?e:_e.makeRe(e,r)).test(oL.basename(t));_e.isMatch=(t,e,r)=>_e(e,r)(t);_e.parse=(t,e)=>Array.isArray(t)?t.map(r=>_e.parse(r,e)):Vl(t,Y(H({},e),{fastpaths:!1}));_e.scan=(t,e)=>uL(t,e);_e.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},i=s.contains?"":"^",a=s.contains?"":"$",o=`${i}(?:${t.output})${a}`;t&&t.negated===!0&&(o=`^(?!${o}).*$`);let u=_e.toRegex(o,e);return n===!0&&(u.state=t),u};_e.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Vl.fastpaths(t,e)),s.output||(s=Vl(t,e)),_e.compileRe(s,e,r,n)};_e.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};_e.constants=lL;g_.exports=_e});var v_=h((Cj,m_)=>{"use strict";m_.exports=y_()});var A_=h((Tj,R_)=>{"use strict";var __=require("util"),b_=Jv(),dt=v_(),Gl=Ls(),E_=t=>t===""||t==="./",ge=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,s=new Set,i=new Set,a=0,o=c=>{i.add(c.output),r&&r.onResult&&r.onResult(c)};for(let c=0;c<e.length;c++){let d=dt(String(e[c]),Y(H({},r),{onResult:o}),!0),f=d.state.negated||d.state.negatedExtglob;f&&a++;for(let p of t){let g=d(p,!0);!(f?!g.isMatch:g.isMatch)||(f?n.add(g.output):(n.delete(g.output),s.add(g.output)))}}let l=(a===e.length?[...i]:[...s]).filter(c=>!n.has(c));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(c=>c.replace(/\\/g,"")):e}return l};ge.match=ge;ge.matcher=(t,e)=>dt(t,e);ge.isMatch=(t,e,r)=>dt(e,r)(t);ge.any=ge.isMatch;ge.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,s=[],i=o=>{r.onResult&&r.onResult(o),s.push(o.output)},a=new Set(ge(t,e,Y(H({},r),{onResult:i})));for(let o of s)a.has(o)||n.add(o);return[...n]};ge.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${__.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>ge.contains(t,n,r));if(typeof e=="string"){if(E_(t)||E_(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ge.isMatch(t,e,Y(H({},r),{contains:!0}))};ge.matchKeys=(t,e,r)=>{if(!Gl.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=ge(Object.keys(t),e,r),s={};for(let i of n)s[i]=t[i];return s};ge.some=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let i=dt(String(s),r);if(n.some(a=>i(a)))return!0}return!1};ge.every=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let i=dt(String(s),r);if(!n.every(a=>i(a)))return!1}return!0};ge.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${__.inspect(t)}"`);return[].concat(e).every(n=>dt(n,r)(t))};ge.capture=(t,e,r)=>{let n=Gl.isWindows(r),i=dt.makeRe(String(t),Y(H({},r),{capture:!0})).exec(n?Gl.toPosixSlashes(e):e);if(i)return i.slice(1).map(a=>a===void 0?"":a)};ge.makeRe=(...t)=>dt.makeRe(...t);ge.scan=(...t)=>dt.scan(...t);ge.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let s of b_(String(n),e))r.push(dt.parse(s,e));return r};ge.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:b_(t,e)};ge.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ge.braces(t,Y(H({},e),{expand:!0}))};R_.exports=ge});var N_=h(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.matchAny=W.convertPatternsToRe=W.makeRe=W.getPatternParts=W.expandBraceExpansion=W.expandPatternsWithBraceExpansion=W.isAffectDepthOfReadingPattern=W.endsWithSlashGlobStar=W.hasGlobStar=W.getBaseDirectory=W.isPatternRelatedToParentDirectory=W.getPatternsOutsideCurrentDirectory=W.getPatternsInsideCurrentDirectory=W.getPositivePatterns=W.getNegativePatterns=W.isPositivePattern=W.isNegativePattern=W.convertToNegativePattern=W.convertToPositivePattern=W.isDynamicPattern=W.isStaticPattern=void 0;var fL=require("path"),dL=gv(),Wl=A_(),S_="**",hL="\\",pL=/[*?]|^!/,gL=/\[[^[]*]/,yL=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,mL=/[!*+?@]\([^(]*\)/,vL=/,|\.\./;function w_(t,e={}){return!x_(t,e)}W.isStaticPattern=w_;function x_(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(hL)||pL.test(t)||gL.test(t)||yL.test(t)||e.extglob!==!1&&mL.test(t)||e.braceExpansion!==!1&&_L(t))}W.isDynamicPattern=x_;function _L(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let n=t.slice(e,r);return vL.test(n)}function bL(t){return va(t)?t.slice(1):t}W.convertToPositivePattern=bL;function EL(t){return"!"+t}W.convertToNegativePattern=EL;function va(t){return t.startsWith("!")&&t[1]!=="("}W.isNegativePattern=va;function P_(t){return!va(t)}W.isPositivePattern=P_;function RL(t){return t.filter(va)}W.getNegativePatterns=RL;function AL(t){return t.filter(P_)}W.getPositivePatterns=AL;function SL(t){return t.filter(e=>!Kl(e))}W.getPatternsInsideCurrentDirectory=SL;function wL(t){return t.filter(Kl)}W.getPatternsOutsideCurrentDirectory=wL;function Kl(t){return t.startsWith("..")||t.startsWith("./..")}W.isPatternRelatedToParentDirectory=Kl;function xL(t){return dL(t,{flipBackslashes:!1})}W.getBaseDirectory=xL;function PL(t){return t.includes(S_)}W.hasGlobStar=PL;function C_(t){return t.endsWith("/"+S_)}W.endsWithSlashGlobStar=C_;function CL(t){let e=fL.basename(t);return C_(t)||w_(e)}W.isAffectDepthOfReadingPattern=CL;function TL(t){return t.reduce((e,r)=>e.concat(T_(r)),[])}W.expandPatternsWithBraceExpansion=TL;function T_(t){return Wl.braces(t,{expand:!0,nodupes:!0})}W.expandBraceExpansion=T_;function OL(t,e){let{parts:r}=Wl.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}W.getPatternParts=OL;function O_(t,e){return Wl.makeRe(t,e)}W.makeRe=O_;function NL(t,e){return t.map(r=>O_(r,e))}W.convertPatternsToRe=NL;function HL(t,e){return e.some(r=>r.test(t))}W.matchAny=HL});var L_=h(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.merge=void 0;var LL=Cl();function ML(t){let e=LL(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>H_(t)),e.once("end",()=>H_(t)),e}_a.merge=ML;function H_(t){t.forEach(e=>e.emit("close"))}});var M_=h(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.isEmpty=gn.isString=void 0;function qL(t){return typeof t=="string"}gn.isString=qL;function IL(t){return t===""}gn.isEmpty=IL});var Tt=h(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.string=Me.stream=Me.pattern=Me.path=Me.fs=Me.errno=Me.array=void 0;var kL=sv();Me.array=kL;var DL=iv();Me.errno=DL;var $L=ov();Me.fs=$L;var FL=uv();Me.path=FL;var jL=N_();Me.pattern=jL;var BL=L_();Me.stream=BL;var VL=M_();Me.string=VL});var k_=h(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.convertPatternGroupToTask=qe.convertPatternGroupsToTasks=qe.groupPatternsByBaseDirectory=qe.getNegativePatternsAsPositive=qe.getPositivePatterns=qe.convertPatternsToTasks=qe.generate=void 0;var Ot=Tt();function UL(t,e){let r=q_(t),n=I_(t,e.ignore),s=r.filter(u=>Ot.pattern.isStaticPattern(u,e)),i=r.filter(u=>Ot.pattern.isDynamicPattern(u,e)),a=Yl(s,n,!1),o=Yl(i,n,!0);return a.concat(o)}qe.generate=UL;function Yl(t,e,r){let n=[],s=Ot.pattern.getPatternsOutsideCurrentDirectory(t),i=Ot.pattern.getPatternsInsideCurrentDirectory(t),a=zl(s),o=zl(i);return n.push(...Xl(a,e,r)),"."in o?n.push(Ql(".",i,e,r)):n.push(...Xl(o,e,r)),n}qe.convertPatternsToTasks=Yl;function q_(t){return Ot.pattern.getPositivePatterns(t)}qe.getPositivePatterns=q_;function I_(t,e){return Ot.pattern.getNegativePatterns(t).concat(e).map(Ot.pattern.convertToPositivePattern)}qe.getNegativePatternsAsPositive=I_;function zl(t){let e={};return t.reduce((r,n)=>{let s=Ot.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},e)}qe.groupPatternsByBaseDirectory=zl;function Xl(t,e,r){return Object.keys(t).map(n=>Ql(n,t[n],e,r))}qe.convertPatternGroupsToTasks=Xl;function Ql(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(Ot.pattern.convertToNegativePattern))}}qe.convertPatternGroupToTask=Ql});var $_=h(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.removeDuplicateSlashes=yn.transform=void 0;var GL=/(?!^)\/{2,}/g;function WL(t){return t.map(e=>D_(e))}yn.transform=WL;function D_(t){return t.replace(GL,"/")}yn.removeDuplicateSlashes=D_});var j_=h(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.read=void 0;function KL(t,e,r){e.fs.lstat(t,(n,s)=>{if(n!==null){F_(r,n);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){Jl(r,s);return}e.fs.stat(t,(i,a)=>{if(i!==null){if(e.throwErrorOnBrokenSymbolicLink){F_(r,i);return}Jl(r,s);return}e.markSymbolicLink&&(a.isSymbolicLink=()=>!0),Jl(r,a)})})}ba.read=KL;function F_(t,e){t(e)}function Jl(t,e){t(null,e)}});var B_=h(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.read=void 0;function YL(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}Ea.read=YL});var V_=h(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.createFileSystemAdapter=Gt.FILE_SYSTEM_ADAPTER=void 0;var Ra=require("fs");Gt.FILE_SYSTEM_ADAPTER={lstat:Ra.lstat,stat:Ra.stat,lstatSync:Ra.lstatSync,statSync:Ra.statSync};function zL(t){return t===void 0?Gt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Gt.FILE_SYSTEM_ADAPTER),t)}Gt.createFileSystemAdapter=zL});var G_=h(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var XL=V_(),U_=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=XL.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};Zl.default=U_});var Cr=h(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.statSync=Wt.stat=Wt.Settings=void 0;var W_=j_(),QL=B_(),ec=G_();Wt.Settings=ec.default;function JL(t,e,r){if(typeof e=="function"){W_.read(t,tc(),e);return}W_.read(t,tc(e),r)}Wt.stat=JL;function ZL(t,e){let r=tc(e);return QL.read(t,r)}Wt.statSync=ZL;function tc(t={}){return t instanceof ec.default?t:new ec.default(t)}});var z_=h((jj,Y_)=>{var K_;Y_.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(K_||(K_=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Q_=h((Bj,X_)=>{X_.exports=tM;var eM=z_();function tM(t,e){let r,n,s,i=!0;Array.isArray(t)?(r=[],n=t.length):(s=Object.keys(t),r={},n=s.length);function a(u){function l(){e&&e(u,r),e=null}i?eM(l):l()}function o(u,l,c){r[u]=c,(--n==0||l)&&a(l)}n?s?s.forEach(function(u){t[u](function(l,c){o(u,l,c)})}):t.forEach(function(u,l){u(function(c,d){o(l,c,d)})}):a(null),i=!1}});var rc=h(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Aa=process.versions.node.split(".");if(Aa[0]===void 0||Aa[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var J_=Number.parseInt(Aa[0],10),rM=Number.parseInt(Aa[1],10),Z_=10,nM=10,sM=J_>Z_,iM=J_===Z_&&rM>=nM;Sa.IS_SUPPORT_READDIR_WITH_FILE_TYPES=sM||iM});var t0=h(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.createDirentFromStats=void 0;var e0=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function aM(t,e){return new e0(t,e)}wa.createDirentFromStats=aM});var nc=h(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.fs=void 0;var oM=t0();xa.fs=oM});var sc=h(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.joinPathSegments=void 0;function uM(t,e,r){return t.endsWith(r)?t+e:t+r+e}Pa.joinPathSegments=uM});var o0=h(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.readdir=Kt.readdirWithFileTypes=Kt.read=void 0;var lM=Cr(),r0=Q_(),cM=rc(),n0=nc(),s0=sc();function fM(t,e,r){if(!e.stats&&cM.IS_SUPPORT_READDIR_WITH_FILE_TYPES){i0(t,e,r);return}a0(t,e,r)}Kt.read=fM;function i0(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,s)=>{if(n!==null){Ca(r,n);return}let i=s.map(o=>({dirent:o,name:o.name,path:s0.joinPathSegments(t,o.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){ic(r,i);return}let a=i.map(o=>dM(o,e));r0(a,(o,u)=>{if(o!==null){Ca(r,o);return}ic(r,u)})})}Kt.readdirWithFileTypes=i0;function dM(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,s)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=n0.fs.createDirentFromStats(t.name,s),r(null,t)})}}function a0(t,e,r){e.fs.readdir(t,(n,s)=>{if(n!==null){Ca(r,n);return}let i=s.map(a=>{let o=s0.joinPathSegments(t,a,e.pathSegmentSeparator);return u=>{lM.stat(o,e.fsStatSettings,(l,c)=>{if(l!==null){u(l);return}let d={name:a,path:o,dirent:n0.fs.createDirentFromStats(a,c)};e.stats&&(d.stats=c),u(null,d)})}});r0(i,(a,o)=>{if(a!==null){Ca(r,a);return}ic(r,o)})})}Kt.readdir=a0;function Ca(t,e){t(e)}function ic(t,e){t(null,e)}});var d0=h(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.readdir=Yt.readdirWithFileTypes=Yt.read=void 0;var hM=Cr(),pM=rc(),u0=nc(),l0=sc();function gM(t,e){return!e.stats&&pM.IS_SUPPORT_READDIR_WITH_FILE_TYPES?c0(t,e):f0(t,e)}Yt.read=gM;function c0(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:l0.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let i=e.fs.statSync(s.path);s.dirent=u0.fs.createDirentFromStats(s.name,i)}catch(i){if(e.throwErrorOnBrokenSymbolicLink)throw i}return s})}Yt.readdirWithFileTypes=c0;function f0(t,e){return e.fs.readdirSync(t).map(n=>{let s=l0.joinPathSegments(t,n,e.pathSegmentSeparator),i=hM.statSync(s,e.fsStatSettings),a={name:n,path:s,dirent:u0.fs.createDirentFromStats(n,i)};return e.stats&&(a.stats=i),a})}Yt.readdir=f0});var h0=h(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.createFileSystemAdapter=zt.FILE_SYSTEM_ADAPTER=void 0;var mn=require("fs");zt.FILE_SYSTEM_ADAPTER={lstat:mn.lstat,stat:mn.stat,lstatSync:mn.lstatSync,statSync:mn.statSync,readdir:mn.readdir,readdirSync:mn.readdirSync};function yM(t){return t===void 0?zt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},zt.FILE_SYSTEM_ADAPTER),t)}zt.createFileSystemAdapter=yM});var g0=h(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var mM=require("path"),vM=Cr(),_M=h0(),p0=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=_M.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,mM.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new vM.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};ac.default=p0});var Ta=h(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Settings=Xt.scandirSync=Xt.scandir=void 0;var y0=o0(),bM=d0(),oc=g0();Xt.Settings=oc.default;function EM(t,e,r){if(typeof e=="function"){y0.read(t,uc(),e);return}y0.read(t,uc(e),r)}Xt.scandir=EM;function RM(t,e){let r=uc(e);return bM.read(t,r)}Xt.scandirSync=RM;function uc(t={}){return t instanceof oc.default?t:new oc.default(t)}});var v0=h((Jj,m0)=>{"use strict";function AM(t){var e=new t,r=e;function n(){var i=e;return i.next?e=i.next:(e=new t,r=e),i.next=null,i}function s(i){r.next=i,r=i}return{get:n,release:s}}m0.exports=AM});var b0=h((Zj,lc)=>{"use strict";var SM=v0();function _0(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=SM(wM),s=null,i=null,a=0,o=null,u={push:y,drain:Je,saturated:Je,pause:c,paused:!1,concurrency:r,running:l,resume:p,idle:g,length:d,getQueue:f,unshift:_,empty:Je,kill:L,killAndDrain:B,error:$};return u;function l(){return a}function c(){u.paused=!0}function d(){for(var k=s,V=0;k;)k=k.next,V++;return V}function f(){for(var k=s,V=[];k;)V.push(k.value),k=k.next;return V}function p(){if(!!u.paused){u.paused=!1;for(var k=0;k<u.concurrency;k++)a++,E()}}function g(){return a===0&&u.length()===0}function y(k,V){var M=n.get();M.context=t,M.release=E,M.value=k,M.callback=V||Je,M.errorHandler=o,a===u.concurrency||u.paused?i?(i.next=M,i=M):(s=M,i=M,u.saturated()):(a++,e.call(t,M.value,M.worked))}function _(k,V){var M=n.get();M.context=t,M.release=E,M.value=k,M.callback=V||Je,a===u.concurrency||u.paused?s?(M.next=s,s=M):(s=M,i=M,u.saturated()):(a++,e.call(t,M.value,M.worked))}function E(k){k&&n.release(k);var V=s;V?u.paused?a--:(i===s&&(i=null),s=V.next,V.next=null,e.call(t,V.value,V.worked),i===null&&u.empty()):--a==0&&u.drain()}function L(){s=null,i=null,u.drain=Je}function B(){s=null,i=null,u.drain(),u.drain=Je}function $(k){o=k}}function Je(){}function wM(){this.value=null,this.callback=Je,this.next=null,this.release=Je,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var s=t.callback,i=t.errorHandler,a=t.value;t.value=null,t.callback=Je,t.errorHandler&&i(r,a),s.call(t.context,r,n),t.release(t)}}function xM(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(c,d){e.call(this,c).then(function(f){d(null,f)},d)}var s=_0(t,n,r),i=s.push,a=s.unshift;return s.push=o,s.unshift=u,s.drained=l,s;function o(c){var d=new Promise(function(f,p){i(c,function(g,y){if(g){p(g);return}f(y)})});return d.catch(Je),d}function u(c){var d=new Promise(function(f,p){a(c,function(g,y){if(g){p(g);return}f(y)})});return d.catch(Je),d}function l(){var c=s.drain,d=new Promise(function(f){s.drain=function(){c(),f()}});return d}}lc.exports=_0;lc.exports.promise=xM});var Oa=h(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.joinPathSegments=ht.replacePathSegmentSeparator=ht.isAppliedFilter=ht.isFatalError=void 0;function PM(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}ht.isFatalError=PM;function CM(t,e){return t===null||t(e)}ht.isAppliedFilter=CM;function TM(t,e){return t.split(/[/\\]/).join(e)}ht.replacePathSegmentSeparator=TM;function OM(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}ht.joinPathSegments=OM});var fc=h(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var NM=Oa(),E0=class{constructor(e,r){this._root=e,this._settings=r,this._root=NM.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};cc.default=E0});var hc=h(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var HM=require("events"),LM=Ta(),MM=b0(),Na=Oa(),qM=fc(),R0=class extends qM.default{constructor(e,r){super(e,r);this._settings=r,this._scandir=LM.scandir,this._emitter=new HM.EventEmitter,this._queue=MM(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let i of s)this._handleEntry(i,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!Na.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=Na.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Na.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&Na.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};dc.default=R0});var S0=h(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});var IM=hc(),A0=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new IM.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{kM(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{DM(e,this._storage)}),this._reader.read()}};pc.default=A0;function kM(t,e){t(e)}function DM(t,e){t(null,e)}});var x0=h(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});var $M=require("stream"),FM=hc(),w0=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new FM.default(this._root,this._settings),this._stream=new $M.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};gc.default=w0});var C0=h(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});var jM=Ta(),Ha=Oa(),BM=fc(),P0=class extends BM.default{constructor(){super(...arguments);this._scandir=jM.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(e){if(!!Ha.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=Ha.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Ha.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Ha.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};yc.default=P0});var O0=h(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var VM=C0(),T0=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new VM.default(this._root,this._settings)}read(){return this._reader.read()}};mc.default=T0});var H0=h(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var UM=require("path"),GM=Ta(),N0=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,UM.sep),this.fsScandirSettings=new GM.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};vc.default=N0});var bc=h(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.Settings=pt.walkStream=pt.walkSync=pt.walk=void 0;var L0=S0(),WM=x0(),KM=O0(),_c=H0();pt.Settings=_c.default;function YM(t,e,r){if(typeof e=="function"){new L0.default(t,La()).read(e);return}new L0.default(t,La(e)).read(r)}pt.walk=YM;function zM(t,e){let r=La(e);return new KM.default(t,r).read()}pt.walkSync=zM;function XM(t,e){let r=La(e);return new WM.default(t,r).read()}pt.walkStream=XM;function La(t={}){return t instanceof _c.default?t:new _c.default(t)}});var Rc=h(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});var QM=require("path"),JM=Cr(),M0=Tt(),q0=class{constructor(e){this._settings=e,this._fsStatSettings=new JM.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return QM.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:M0.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!M0.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};Ec.default=q0});var Sc=h(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var ZM=require("stream"),e2=Cr(),t2=bc(),r2=Rc(),I0=class extends r2.default{constructor(){super(...arguments);this._walkStream=t2.walkStream,this._stat=e2.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),s=new ZM.PassThrough({objectMode:!0});s._write=(i,a,o)=>this._getEntry(n[i],e[i],r).then(u=>{u!==null&&r.entryFilter(u)&&s.push(u),i===n.length-1&&s.end(),o()}).catch(o);for(let i=0;i<n.length;i++)s.write(i);return s}_getEntry(e,r,n){return this._getStat(e).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(s,i)=>s===null?r(i):n(s))})}};Ac.default=I0});var D0=h(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});var vn=Tt(),k0=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=vn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(e){return vn.pattern.getPatternParts(e,this._micromatchOptions).map(n=>vn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:vn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return vn.array.splitWhen(e,r=>r.dynamic&&vn.pattern.hasGlobStar(r.pattern))}};wc.default=k0});var F0=h(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var n2=D0(),$0=class extends n2.default{match(e){let r=e.split("/"),n=r.length,s=this._storage.filter(i=>!i.complete||i.segments.length>n);for(let i of s){let a=i.sections[0];if(!i.complete&&n>a.length||r.every((u,l)=>{let c=i.segments[l];return!!(c.dynamic&&c.patternRe.test(u)||!c.dynamic&&c.pattern===u)}))return!0}return!1}};xc.default=$0});var B0=h(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var Ma=Tt(),s2=F0(),j0=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let s=this._getMatcher(r),i=this._getNegativePatternsRe(n);return a=>this._filter(e,a,s,i)}_getMatcher(e){return new s2.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(Ma.pattern.isAffectDepthOfReadingPattern);return Ma.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,s){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let i=Ma.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(i,n)?!1:this._isSkippedByNegativePatterns(i,s)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let s=e.split("/").length;return n-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!Ma.pattern.matchAny(e,r)}};Pc.default=j0});var U0=h(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var Tr=Tt(),V0=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=Tr.pattern.convertPatternsToRe(e,this._micromatchOptions),s=Tr.pattern.convertPatternsToRe(r,this._micromatchOptions);return i=>this._filter(i,n,s)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let s=this._settings.baseNameMatch?e.name:e.path,i=this._isMatchToPatterns(s,r)&&!this._isMatchToPatterns(e.path,n);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=Tr.path.makeAbsolute(this._settings.cwd,e);return Tr.pattern.matchAny(n,r)}_isMatchToPatterns(e,r){let n=Tr.path.removeLeadingDotSegment(e);return Tr.pattern.matchAny(n,r)||Tr.pattern.matchAny(n+"/",r)}};Cc.default=V0});var W0=h(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});var i2=Tt(),G0=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return i2.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Tc.default=G0});var z0=h(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var K0=Tt(),Y0=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=K0.path.makeAbsolute(this._settings.cwd,r),r=K0.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};Oc.default=Y0});var qa=h(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var a2=require("path"),o2=B0(),u2=U0(),l2=W0(),c2=z0(),X0=class{constructor(e){this._settings=e,this.errorFilter=new l2.default(this._settings),this.entryFilter=new u2.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new o2.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new c2.default(this._settings)}_getRootDirectory(e){return a2.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Nc.default=X0});var J0=h(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});var f2=Sc(),d2=qa(),Q0=class extends d2.default{constructor(){super(...arguments);this._reader=new f2.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=[];return new Promise((i,a)=>{let o=this.api(r,e,n);o.once("error",a),o.on("data",u=>s.push(n.transform(u))),o.once("end",()=>i(s))})}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Hc.default=Q0});var eb=h(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var h2=require("stream"),p2=Sc(),g2=qa(),Z0=class extends g2.default{constructor(){super(...arguments);this._reader=new p2.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=this.api(r,e,n),i=new h2.Readable({objectMode:!0,read:()=>{}});return s.once("error",a=>i.emit("error",a)).on("data",a=>i.emit("data",n.transform(a))).once("end",()=>i.emit("end")),i.once("close",()=>s.destroy()),i}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Lc.default=Z0});var rb=h(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var y2=Cr(),m2=bc(),v2=Rc(),tb=class extends v2.default{constructor(){super(...arguments);this._walkSync=m2.walkSync,this._statSync=y2.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let s of e){let i=this._getFullEntryPath(s),a=this._getEntry(i,s,r);a===null||!r.entryFilter(a)||n.push(a)}return n}_getEntry(e,r,n){try{let s=this._getStat(e);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};Mc.default=tb});var sb=h(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var _2=rb(),b2=qa(),nb=class extends b2.default{constructor(){super(...arguments);this._reader=new _2.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};qc.default=nb});var ab=h(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var _n=require("fs"),E2=require("os"),R2=Math.max(E2.cpus().length,1);bn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:_n.lstat,lstatSync:_n.lstatSync,stat:_n.stat,statSync:_n.statSync,readdir:_n.readdir,readdirSync:_n.readdirSync};var ib=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,R2),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},bn.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};bn.default=ib});var $c=h((AB,lb)=>{"use strict";var ob=k_(),ub=$_(),A2=J0(),S2=eb(),w2=sb(),Ic=ab(),Or=Tt();async function kc(t,e){En(t);let r=Dc(t,A2.default,e),n=await Promise.all(r);return Or.array.flatten(n)}(function(t){function e(a,o){En(a);let u=Dc(a,w2.default,o);return Or.array.flatten(u)}t.sync=e;function r(a,o){En(a);let u=Dc(a,S2.default,o);return Or.stream.merge(u)}t.stream=r;function n(a,o){En(a);let u=ub.transform([].concat(a)),l=new Ic.default(o);return ob.generate(u,l)}t.generateTasks=n;function s(a,o){En(a);let u=new Ic.default(o);return Or.pattern.isDynamicPattern(a,u)}t.isDynamicPattern=s;function i(a){return En(a),Or.path.escape(a)}t.escapePath=i})(kc||(kc={}));function Dc(t,e,r){let n=ub.transform([].concat(t)),s=new Ic.default(r),i=ob.generate(n,s),a=new e(s);return i.map(a.read,a)}function En(t){if(![].concat(t).every(n=>Or.string.isString(n)&&!Or.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}lb.exports=kc});var fb=h(Nr=>{"use strict";var{promisify:x2}=require("util"),cb=require("fs");async function Fc(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await x2(cb[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function jc(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return cb[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Nr.isFile=Fc.bind(null,"stat","isFile");Nr.isDirectory=Fc.bind(null,"stat","isDirectory");Nr.isSymlink=Fc.bind(null,"lstat","isSymbolicLink");Nr.isFileSync=jc.bind(null,"statSync","isFile");Nr.isDirectorySync=jc.bind(null,"statSync","isDirectory");Nr.isSymlinkSync=jc.bind(null,"lstatSync","isSymbolicLink")});var yb=h((wB,Bc)=>{"use strict";var Hr=require("path"),db=fb(),hb=t=>t.length>1?`{${t.join(",")}}`:t[0],pb=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return Hr.isAbsolute(r)?r:Hr.join(e,r)},P2=(t,e)=>Hr.extname(t)?`**/${t}`:`**/${t}.${hb(e)}`,gb=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>Hr.posix.join(t,P2(r,e.extensions))):e.files?e.files.map(r=>Hr.posix.join(t,`**/${r}`)):e.extensions?[Hr.posix.join(t,`**/*.${hb(e.extensions)}`)]:[Hr.posix.join(t,"**")]};Bc.exports=async(t,e)=>{if(e=H({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await db.isDirectory(pb(n,e.cwd))?gb(n,e):n));return[].concat.apply([],r)};Bc.exports.sync=(t,e)=>{if(e=H({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>db.isDirectorySync(pb(n,e.cwd))?gb(n,e):n);return[].concat.apply([],r)}});var Pb=h((xB,xb)=>{function mb(t){return Array.isArray(t)?t:[t]}var vb="",_b=" ",Vc="\\",C2=/^\s+$/,T2=/^\\!/,O2=/^\\#/,N2=/\r?\n/g,H2=/^\.*\/|^\.+$/,Uc="/",bb=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",L2=(t,e,r)=>Object.defineProperty(t,e,{value:r}),M2=/([0-z])-([0-z])/g,Eb=()=>!1,q2=t=>t.replace(M2,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:vb),I2=t=>{let{length:e}=t;return t.slice(0,e-e%2)},k2=[[/\\?\s+$/,t=>t.indexOf("\\")===0?_b:vb],[/\\\s/g,()=>_b],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Vc],[/\\\\/g,()=>Vc],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>e===Vc?`\\[${r}${I2(n)}${s}`:s==="]"&&n.length%2==0?`[${q2(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Rb=Object.create(null),D2=(t,e)=>{let r=Rb[t];return r||(r=k2.reduce((n,s)=>n.replace(s[0],s[1].bind(t)),t),Rb[t]=r),e?new RegExp(r,"i"):new RegExp(r)},Gc=t=>typeof t=="string",$2=t=>t&&Gc(t)&&!C2.test(t)&&t.indexOf("#")!==0,F2=t=>t.split(N2),Ab=class{constructor(e,r,n,s){this.origin=e,this.pattern=r,this.negative=n,this.regex=s}},j2=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(T2,"!").replace(O2,"#");let s=D2(t,e);return new Ab(r,t,n,s)},B2=(t,e)=>{throw new e(t)},Nt=(t,e,r)=>Gc(t)?t?Nt.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),Sb=t=>H2.test(t);Nt.isNotRelative=Sb;Nt.convert=t=>t;var wb=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){L2(this,bb,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[bb]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if($2(e)){let r=j2(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,mb(Gc(e)?F2(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,s=!1;return this._rules.forEach(i=>{let{negative:a}=i;if(s===a&&n!==s||a&&!n&&!s&&!r)return;i.regex.test(e)&&(n=!a,s=a)}),{ignored:n,unignored:s}}_test(e,r,n,s){let i=e&&Nt.convert(e);return Nt(i,e,this._allowRelativePaths?Eb:B2),this._t(i,r,n,s)}_t(e,r,n,s){if(e in r)return r[e];if(s||(s=e.split(Uc)),s.pop(),!s.length)return r[e]=this._testOne(e,n);let i=this._t(s.join(Uc)+Uc,r,n,s);return r[e]=i.ignored?i:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return mb(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},Ia=t=>new wb(t),V2=t=>Nt(t&&Nt.convert(t),t,Eb);Ia.isPathValid=V2;Ia.default=Ia;xb.exports=Ia;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Nt.convert=t;let e=/^[a-z]:\//i;Nt.isNotRelative=r=>e.test(r)||Sb(r)}});var Mb=h((PB,Wc)=>{"use strict";var{promisify:U2}=require("util"),Cb=require("fs"),Ht=require("path"),Tb=$c(),G2=Pb(),qs=jr(),Ob=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],W2=U2(Cb.readFile),K2=t=>e=>e.startsWith("!")?"!"+Ht.posix.join(t,e.slice(1)):Ht.posix.join(t,e),Y2=(t,e)=>{let r=qs(Ht.relative(e.cwd,Ht.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(K2(r))},Nb=t=>{let e=G2();for(let r of t)e.add(Y2(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},z2=(t,e)=>{if(t=qs(t),Ht.isAbsolute(e)){if(qs(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return Ht.join(t,e)},Hb=(t,e)=>r=>t.ignores(qs(Ht.relative(e,z2(e,r.path||r)))),X2=async(t,e)=>{let r=Ht.join(e,t),n=await W2(r,"utf8");return{cwd:e,filePath:r,content:n}},Q2=(t,e)=>{let r=Ht.join(e,t),n=Cb.readFileSync(r,"utf8");return{cwd:e,filePath:r,content:n}},Lb=({ignore:t=[],cwd:e=qs(process.cwd())}={})=>({ignore:t,cwd:e});Wc.exports=async t=>{t=Lb(t);let e=await Tb("**/.gitignore",{ignore:Ob.concat(t.ignore),cwd:t.cwd}),r=await Promise.all(e.map(s=>X2(s,t.cwd))),n=Nb(r);return Hb(n,t.cwd)};Wc.exports.sync=t=>{t=Lb(t);let r=Tb.sync("**/.gitignore",{ignore:Ob.concat(t.ignore),cwd:t.cwd}).map(s=>Q2(s,t.cwd)),n=Nb(r);return Hb(n,t.cwd)}});var Db=h((CB,kb)=>{"use strict";var{Transform:J2}=require("stream"),Kc=class extends J2{constructor(){super({objectMode:!0})}},qb=class extends Kc{constructor(e){super();this._filter=e}_transform(e,r,n){this._filter(e)&&this.push(e),n()}},Ib=class extends Kc{constructor(){super();this._pushed=new Set}_transform(e,r,n){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),n()}};kb.exports={FilterStream:qb,UniqueStream:Ib}});var Vb=h((TB,Lr)=>{"use strict";var $b=require("fs"),ka=ev(),Z2=Cl(),Da=$c(),$a=yb(),Yc=Mb(),{FilterStream:eq,UniqueStream:tq}=Db(),Fb=()=>!1,jb=t=>t[0]==="!",rq=t=>{if(!t.every(e=>typeof e=="string"))throw new TypeError("Patterns must be a string or an array of strings")},nq=(t={})=>{if(!t.cwd)return;let e;try{e=$b.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},sq=t=>t.stats instanceof $b.Stats?t.path:t,Fa=(t,e)=>{t=ka([].concat(t)),rq(t),nq(e);let r=[];e=H({ignore:[],expandDirectories:!0},e);for(let[n,s]of t.entries()){if(jb(s))continue;let i=t.slice(n).filter(o=>jb(o)).map(o=>o.slice(1)),a=Y(H({},e),{ignore:e.ignore.concat(i)});r.push({pattern:s,options:a})}return r},iq=(t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r=Y(H({},r),{files:t.options.expandDirectories}):typeof t.options.expandDirectories=="object"&&(r=H(H({},r),t.options.expandDirectories)),e(t.pattern,r)},zc=(t,e)=>t.options.expandDirectories?iq(t,e):[t.pattern],Bb=t=>t&&t.gitignore?Yc.sync({cwd:t.cwd,ignore:t.ignore}):Fb,Xc=t=>e=>{let{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=$a.sync(r.ignore)),{pattern:e,options:r}};Lr.exports=async(t,e)=>{let r=Fa(t,e),n=async()=>e&&e.gitignore?Yc({cwd:e.cwd,ignore:e.ignore}):Fb,s=async()=>{let u=await Promise.all(r.map(async l=>{let c=await zc(l,$a);return Promise.all(c.map(Xc(l)))}));return ka(...u)},[i,a]=await Promise.all([n(),s()]),o=await Promise.all(a.map(u=>Da(u.pattern,u.options)));return ka(...o).filter(u=>!i(sq(u)))};Lr.exports.sync=(t,e)=>{let r=Fa(t,e),n=[];for(let a of r){let o=zc(a,$a.sync).map(Xc(a));n.push(...o)}let s=Bb(e),i=[];for(let a of n)i=ka(i,Da.sync(a.pattern,a.options));return i.filter(a=>!s(a))};Lr.exports.stream=(t,e)=>{let r=Fa(t,e),n=[];for(let o of r){let u=zc(o,$a.sync).map(Xc(o));n.push(...u)}let s=Bb(e),i=new eq(o=>!s(o)),a=new tq;return Z2(n.map(o=>Da.stream(o.pattern,o.options))).pipe(i).pipe(a)};Lr.exports.generateGlobTasks=Fa;Lr.exports.hasMagic=(t,e)=>[].concat(t).some(r=>Da.isDynamicPattern(r,e));Lr.exports.gitignore=Yc});var Jc=h(Lt=>{"use strict";var Is=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lt,"__esModule",{value:!0});var aq=Is(Mi()),oq=Cu(),Qc=qt(),Ub=require("path"),uq=Is(ot()),lq=Is(au()),ks=be(),cq=Jm(),Gb=Is(jr()),fq=Is(Vb());Lt.staticAssetManifest={};Lt.STATIC_ASSET_MANIFEST_FILE="static-asset-manifest.json";var Wb=class{constructor(e){if(this._routes=[],!e)throw new Error("Route group name is required!");this.name=e}match(e,r,{index:n,label:s}={}){let i=new aq.default(e,r,{label:s});return n!=null?this._routes.splice(n,0,i):this._routes.push(i),this}dir(e,r){let n=Ub.join(cq.getSourceDir(),e),s=Lt.staticAssetManifest[Gb.default(e)]=[],{ignore:i,label:a}=r;typeof i=="string"&&(i=[i]);let o=Qc.isCloud()?this.staticAssetsForPath(e):fq.default.sync(r.glob||"**/*",{cwd:n,onlyFiles:!0,ignore:i||[]});r.sort&&(o=r.sort(o));for(let u of o){let l=r.paths&&r.paths(u)||[`/${u}`];Qc.isCloud()||s.push(Gb.default(u));for(let c of l){let d=c.replace(/\/index.html$/,"");d.length===0&&(d="/"),this.match(d,async f=>{r.handler&&r.handler(u)(f)},{label:a})}}return this}static(e,r){let n=s=>i=>{r.handler&&r.handler(s)(i),i.serveStatic(`${e}/${s}`)};return this.dir(e,Y(H({},r),{handler:n,label:`static('${e}')`}))}requireBasicAuth(e){let{route:r,username:n,password:s,realm:i="Access to the site"}=e;if(n&&s){let a=Buffer.from(`${n}:${s}`).toString("base64");r=lq.default(r),this.match(Y(H({},r),{headers:Y(H({},r.headers),{[ks.HTTP_HEADERS.authorization]:null,[ks.HTTP_HEADERS.x0MatchedRoutes]:null})}),({send:o,setResponseHeader:u})=>{u("WWW-Authenticate",`Basic realm="${i}"`),o("",401,"Unauthorized")}).match(Y(H({},r),{headers:Y(H({},r.headers),{[ks.HTTP_HEADERS.authorization]:new RegExp(`^((?!Basic ${a}).)*$`),[ks.HTTP_HEADERS.x0MatchedRoutes]:null})}),({send:o})=>{o("",403,"Forbidden")}).match(Y(H({},r),{headers:Y(H({},r.headers),{[ks.HTTP_HEADERS.x0MatchedRoutes]:null})}),({removeRequestHeader:o})=>{o("authorization")})}return this}staticAssetsForPath(e){return uq.default(Ub.join(process.cwd(),Lt.STATIC_ASSET_MANIFEST_FILE))[e]}clear(){return this._routes=[],Qc.isCloud()||oq.clearCache(),this}get routes(){return this._routes}get length(){return this._routes.length}};Lt.default=Wb});var Yb=h(Ds=>{"use strict";var dq=Ds&&Ds.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});var hq=dq(Jc()),pq=be(),Kb=class{constructor(){this.routeGroups=[]}add(e){return this.routeGroups.push(e),this}getGroups(){return this.routeGroups}findByName(e){return this.routeGroups.find(r=>r.name===e)}getRoutes(){let e=[];return this.getGroups().forEach(r=>{e=e.concat(r.routes)}),this.fallback&&(e=e.concat(this.fallback.routes)),e}setFallback(e){let r=new hq.default(pq.ROUTES_FALLBACK);r.match(null,e),this.fallback=r}get length(){return this.routeGroups.length}};Ds.default=Kb});var Jb=h(Mr=>{"use strict";var st=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},gq=Mr&&Mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(Mr,"__esModule",{value:!0});var G=be(),zb=ho(),yq=Cd(),mq=st(Bd()),vq=st(Vd()),_q=st(It()),bq=st(Um()),Eq=st(Uo()),Rq=st(Gm()),Xb=st(Xm()),Aq=st(Qm()),Sq=st(Sl()),wq=st(ua()),Qb=gq(Jc()),xq=st(Yb()),Pq=/\bbr\b/,Cq=/\bgzip\b/,Rn=class{constructor(e={excludeBuiltInRoutes:!1}){this.routeGroups=new xq.default,this.preloadRequests=new Xb.default,this.plugins=[],this.destinations={},this.nextRouterIndex=0,this._index=0,this.processRequestHeaders=r=>{r.headers[G.HTTP_HEADERS.xRequestId]||(this.newRequestId=yq.v4(),r.headers[G.HTTP_HEADERS.xRequestId]=this.newRequestId);let n=r.headers[G.HTTP_HEADERS.acceptEncoding];if(typeof n=="string"){let a=Cq.test(n),o=Pq.test(n);a&&o?n=`${G.GZIP_ENCODING}, ${G.BROTLI_ENCODING}`:a?n=G.GZIP_ENCODING:o?n=G.BROTLI_ENCODING:n=null}else n=null;n?r.headers[G.HTTP_HEADERS.acceptEncoding]=n:delete r.headers[G.HTTP_HEADERS.acceptEncoding];let s=r.connection,i="127.0.0.1";if(s&&s.remoteAddress){if(i=s.remoteAddress,r.headers[G.HTTP_HEADERS.x0Protocol]!=="http"){let a=r.headers[G.HTTP_HEADERS.cookie];typeof a=="string"&&/\blocal_layer0_emulate_http_protocol=true\b/.test(a)?r.headers[G.HTTP_HEADERS.x0Protocol]="http":r.headers[G.HTTP_HEADERS.x0Protocol]="https"}}else r.headers[G.HTTP_HEADERS.x0Protocol]||(r.headers[G.HTTP_HEADERS.x0Protocol]="https");r.headers[G.HTTP_HEADERS.xForwardedFor]?r.headers[G.HTTP_HEADERS.xForwardedFor]=`${r.headers[G.HTTP_HEADERS.xForwardedFor]}, ${i}`:r.headers[G.HTTP_HEADERS.xForwardedFor]=`${i}`,r.headers[G.HTTP_HEADERS.x0ClientIp]||(r.headers[G.HTTP_HEADERS.x0ClientIp]=r.headers[G.HTTP_HEADERS.xForwardedFor].split(",")[0]),Rn.isRequestFromEdge(r)||(this.processRequestDeviceHeaders(r),this.processRequestGeoHeaders(r))},this.processRequestDeviceHeaders=r=>{let n="desktop",s="generic",i=!1,a="generic",o=(r.headers[G.HTTP_HEADERS.userAgent]||"").toLowerCase();/ipad/.test(o)?(n="tablet",s="apple"):/ip(hone|od)/.test(o)?(n="smartphone",s="apple"):/android.*(mobile|mini)/.test(o)?(n="smartphone",s="android"):/android/.test(o)?(n="tablet",s="android"):/opera mobi/.test(o)?(n="smartphone",s="android"):/playbook u rim tablet/.test(o)?(n="tablet",s="blackberry"):/hp-tablet.*touchpad/.test(o)?(n="tablet",s="hp"):/kindle\/3/.test(o)?(n="tablet",s="kindle"):/mobile.+firefox/.test(o)?(n="mobile",s="firefoxos"):/^htc/.test(o)?(n="smartphone",s="htc"):/fennec/.test(o)?(n="smartphone",s="fennec"):/iemobile/.test(o)?(n="smartphone",s="microsoft"):/blackberry/.test(o)||/bb10.*mobile/.test(o)?(n="smartphone",s="blackberry"):/gt-.*build\/gingerbread/.test(o)?(n="smartphone",s="android"):/symbianos.*applewebkit/.test(o)?(n="smartphone",s="symbian"):(/symbian/.test(o)||/^sonyericsson/.test(o)||/^nokia/.test(o)||/^samsung/.test(o)||/^lg/.test(o)||/bada/.test(o)||/blazer/.test(o)||/cellphone/.test(o)||/midp-2.0/.test(o)||/u990/.test(o)||/netfront/.test(o)||/opera mini/.test(o)||/palm/.test(o)||/nintendo wii/.test(o)||/playstation portable/.test(o)||/portalmmm/.test(o)||/proxinet/.test(o)||/sonyericsson/.test(o)||/windows ?ce/.test(o)||/winwap/.test(o)||/eudoraweb/.test(o)||/240x320/.test(o)||/avantgo/.test(o))&&(n="mobile"),/bot/.test(o)||/crawler/.test(o)||/headless/.test(o)||/prerender/.test(o)||/preview/.test(o)||/scanner/.test(o)||/slurp/.test(o)||/spider/.test(o)||/(developers.google.com\/+\/web\/snippet|embedly|facebookexternalhit|flipboard|googlepagespeed|google page speed)/.test(o)||/(ia_archiver|moov-prerender-cache-exerciser|nuzzel|outbrain|pinterest|qwantify|tumblr|vkshare)/.test(o)||/(w3c_validator|whatsapp|xing-contenttabreceiver|yahoo)/.test(o)?i=!0:i=!1,/edge/.test(o)?a="edge":/chrome|chromium|crios/.test(o)?a="chrome":/firefox/.test(o)?a="firefox":/opera|opr/.test(o)?a="opera":/msie/.test(o)||/trident/.test(o)?a="msie":/safari/.test(o)&&(a="safari"),r.headers[G.HTTP_HEADERS.x0Device]=n,r.headers[G.HTTP_HEADERS.x0DeviceIsBot]=i?"1":"0",r.headers[G.HTTP_HEADERS.x0Vendor]=s,r.headers[G.HTTP_HEADERS.x0Browser]=a},this.processRequestGeoHeaders=r=>{r.headers[G.HTTP_HEADERS.x0GeoCity]="San Francisco",r.headers[G.HTTP_HEADERS.x0GeoCountryCode]="US",r.headers[G.HTTP_HEADERS.x0GeoLatitude]="37.792094",r.headers[G.HTTP_HEADERS.x0GeoLongitude]="-122.401622",r.headers[G.HTTP_HEADERS.x0GeoPostalCode]="94104"},this.isUserHeaderCountWithinLimits=r=>Object.keys(r).filter(s=>s.toLowerCase().indexOf(G.LAYER0_HEADERS_PREFIX)!==0).length<=G.LAYER0_MAX_USER_HEADERS_ALLOWED,this.patchResWriteHead=(r,n)=>{let s=n.writeHead;n.writeHead=(...i)=>{n.writeHead=s,this.newRequestId&&n.setHeader(G.HTTP_HEADERS.xRequestId,this.newRequestId);let o=i[2];if(o)for(let u of Object.keys(o))n.setHeader(u,Eq.default(r,n,o[u]));if(this.isUserHeaderCountWithinLimits(n.getHeaders())){n.writeHead(...i);return}n.writeHead(G.LAYER0_TOO_MANY_HEADERS_STATUS_CODE,"Too many response headers")}},this.run=async(r,n)=>{let s=new zb.InternalTiming(zb.InternalNames.routeMatching).start(),i=this,a=new Sq.default;if(this.processRequestHeaders(r),!this.isUserHeaderCountWithinLimits(r.headers)){n.writeHead(G.LAYER0_TOO_MANY_HEADERS_STATUS_CODE,"Too many request headers"),n.end();return}if(await Aq.default(r),this.patchResWriteHead(r,n),Object.keys(this.destinations).length>1){let{LAYER0_ROUTER_DESTINATION:c}=process.env,d=r.headers[G.HTTP_HEADERS.x0Destination]||c;if(d||(d=Rq.default(Object.keys(this.destinations),f=>this.destinations[f]._index)),i=this.destinations[d],!i)throw new Error(`Routing destination "${d}" not found.`)}i.plugins.forEach(c=>c.onRequest(r));let o=c=>{let d=new wq.default(r,n,c,a);return Rn.isRequestFromEdge(r)?vq.default.create(d):d},u=i.routeGroups.getRoutes().filter(c=>!c.isRespRoute()),l=i.routeGroups.getRoutes().filter(c=>c.isRespRoute());for(let c of u){let d;try{if(!c.match(r))continue;d=o(c),s.pause(),await c.handler(d);let f=await d.sendResponse({beforeResponse:async p=>{if(!Rn.isRequestFromEdge(r)){s.ended&&s.resume();for(let g of l)if(!!g.matchResponse(p))return d=o(g),s.pause(),await g.handler(d),d.sendResponse(),!1}return!0}});if(s.resume(),f)return}catch(f){d=d||o(r,n,c,a),d.onRouteError(f);return}}s.end(),this.builtInFallback(r,n)},e.excludeBuiltInRoutes||mq.default(this)}getStaticAssetManifest(){return Qb.staticAssetManifest}setBackend(e,r){return _q.default.get("backends")[e]=r,this}use(e){return e.onRegister(this),this.plugins.push(e),this}destination(e,r){return r.setIndex(this.nextRouterIndex++),this.destinations[e]=r,this}getPlugins(){let e=this.plugins;for(let r of Object.values(this.destinations))e=e.concat(r.getPlugins());return e}setIndex(e){this._index=e}get index(){return this._index}group(e,r){let n=new Qb.default(e);return r(n),this.routeGroups.add(n),this}match(e,r){return this.group("root",n=>n.match(e,r))}prerender(...e){return this.preloadRequests.push(...e),this}matchMethod(e,r,n){if(typeof r=="string")return this.match({method:e,path:r},n);if(r.method)throw new Error(`Invalid criteria property method passed to call to Router#${e}. Specifying a method in the criteria is redundant.`);return this.match(Y(H({},r),{method:e}),n)}head(e,r){return this.matchMethod(G.HTTP_METHODS.head,e,r)}get(e,r){return this.matchMethod(G.HTTP_METHODS.get,e,r)}post(e,r){return this.matchMethod(G.HTTP_METHODS.post,e,r)}delete(e,r){return this.matchMethod(G.HTTP_METHODS.delete,e,r)}put(e,r){return this.matchMethod(G.HTTP_METHODS.put,e,r)}patch(e,r){return this.matchMethod(G.HTTP_METHODS.patch,e,r)}options(e,r){return this.matchMethod(G.HTTP_METHODS.options,e,r)}fallback(e){return this.routeGroups.setFallback(e),this}catch(e,r){let n;return e instanceof RegExp?n=e:n=new RegExp(`^${e.toString()}$`),this.group(G.ROUTES_CATCH_GROUP,s=>s.match({headers:{"x-0-error-status-code":n},response:{statusCode:n}},async i=>{await r(i),i.cache({edge:!1,browser:{maxAgeSeconds:0}})})),this}noIndexPermalink(){return this.group(G.ROUTES_NOINDEX_GROUP,e=>e.match({headers:{host:/layer0.link|layer0-perma.link/}},({setResponseHeader:r})=>{r("x-robots-tag","noindex")}))}builtInFallback(e,r){let n=e.connection;n&&n.remoteAddress?r.writeHead(404):e.headers[G.HTTP_HEADERS.x0Protocol]==="http"?(r.setHeader(G.HTTP_HEADERS.location,`https://${e.headers[G.HTTP_HEADERS.host]}${e.url}`),r.writeHead(301)):r.writeHead(404),r.end()}static(e,r={}){return this.group("root",n=>n.static(e,r))}graphqlOperation(e,r){if(typeof e=="string"||e instanceof RegExp)return this.post({path:"/graphql",body:{parse:"json",criteria:{operationName:e}}},r);{let{path:n,name:s}=e;return this.post({path:n,body:{parse:"json",criteria:{operationName:s}}},r)}}requireBasicAuth(e){return this.group("root",r=>r.requireBasicAuth(e))}createEdgeConfig(){return bq.default(this)}createPreloadConfig(){return Xb.default.resolvePreloadConfig(this)}getDestinations(){return this.destinations}getRouteGroups(){return this.routeGroups}toString(){return`Routes
======
`+this.routeGroups.getRoutes().map((e,r)=>`${r}:	${e.toString()}`).join(`
`)}static isRequestFromEdge(e){return typeof e.headers[G.HTTP_HEADERS.x0Version]=="string"}};Mr.default=Rn});var eE=h($s=>{"use strict";function Zb(t){for(var e in t)$s.hasOwnProperty(e)||($s[e]=t[e])}Object.defineProperty($s,"__esModule",{value:!0});Zb(Zc());Zb(be());var Tq=It();$s.config=Tq.default});var rE=h(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});var tE=eE();function Oq(t,e={onConflict:"merge"}){return async r=>{let n=t(Nq(r.body));if(!Array.isArray(n)){console.warn(`The function provided to deriveSurrogateKeysFromJson should return an array, but returned a value of type "${typeof n}" instead. Surrogate keys will not be set.`);return}let s=new Set(n);if(e.onConflict==="merge"){let i=r.getHeader(tE.HTTP_HEADERS.x0SurrogateKey);if(i!=null){Array.isArray(i)||(i=[i]);for(let a of i)for(let o of a.split(" "))s.add(o)}}else if(e.onConflict!=="override")throw new Error(`invalid value "${e.onConflict}" for onConflict option in deriveSurrogateKeysFromJson. Use "override" or "merge".`);s.size>0&&r.setHeader(tE.HTTP_HEADERS.x0SurrogateKey,Array.from(s).join(" "))}}ef.default=Oq;function Nq(t){if(!!t)try{return JSON.parse(typeof t=="string"?t:t.toString("utf8"))}catch{return}}});var nE=h(Fs=>{"use strict";var Hq=Fs&&Fs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});var Lq=Hq(Ki());function Mq(){return new Lq.default}Fs.default=Mq});var Zc=h(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});var qq=Jb();qr.Router=qq.default;var Iq=Ki();qr.CustomCacheKey=Iq.default;var kq=ua();qr.ResponseWriter=kq.default;var Dq=rE();qr.deriveSurrogateKeysFromJson=Dq.default;var $q=nE();qr.createCustomCacheKey=$q.default});var tf=h(Qt=>{"use strict";var Fq=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});var sE=Fq(jr());Qt.toCleanPath=t=>sE.default(`/${t.replace(/\.[^.]*$/,"").replace(/(^|)\/?index$/,"")}`);Qt.toRouteSyntax=(t,{suffix:e,locale:r}={})=>{let n=sE.default(t.replace(/^\//,"").replace(/\[\[\.\.\.([^\]]+)\]\]/g,":$1*").replace(/\[\.\.\.([^\]]+)\]/g,":$1+").replace(/\[([^\]]+)\]/g,":$1"));return r&&(n=`${r}/${n}`),e?(n===""&&(n="index"),`/${n}.${e}`):Qt.toCleanPath(n)};function jq(t,e){return t?`/:locale(${t.join("|")})?${e}`.replace(/\/$/,"").replace(/\)\?\/(index)?\.(json|html)$/,"|index).json"):e}Qt.localize=jq});var iE=h(js=>{"use strict";var Bq=js&&js.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});var Vq=Bq(ot()),Uq=require("path");function Gq(){let t=process.cwd(),e=Uq.join(t,"next.config.js"),r;try{r=Vq.default(e)}catch{}return typeof r=="function"&&(r=r("phase-production-build",{})),(r==null?void 0:r.distDir)||".next"}js.default=Gq});var oE=h(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});var aE=class{onRegister(e){}onRequest(e){}};rf.default=aE});var uE=h(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});function Wq(t){if(/text\/html/i.test(t.getHeader("Content-Type"))){let{body:e}=t,r=[],n=/<link rel="preload" href="([^"]*)".+?(?=>)/gis,s=/as="([^"]*)"/i,i;if(Buffer.isBuffer(e)&&(e=e.toString("utf8")),typeof e=="string")for(;i=n.exec(e);){let u=s.exec(i[0]);r.push({uri:i[1],as:u&&u[1]})}let a=r.map(Kq).join(", "),o=t.getHeader("link");o?t.setHeader("link",`${o}, ${a}`):a.length&&t.setHeader("link",a)}}nf.default=Wq;function Kq(t){let{uri:e,as:r}=t,n=e.split("?")[0];return r||(n.toLowerCase().endsWith(".css")?r="style":n.toLowerCase().match(/(woff|woff2|truetype|opentype|embedded-opentype)$/)?r="font":r="script"),`<${n}>; as=${r}; rel=preload`}});var cE=h((jB,lE)=>{"use strict";lE.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==s||a.enumerable!==!0)return!1}return!0}});var hE=h((BB,dE)=>{"use strict";var fE=typeof Symbol!="undefined"&&Symbol,Yq=cE();dE.exports=function(){return typeof fE!="function"||typeof Symbol!="function"||typeof fE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yq()}});var gE=h((VB,pE)=>{"use strict";var zq="Function.prototype.bind called on incompatible ",sf=Array.prototype.slice,Xq=Object.prototype.toString,Qq="[object Function]";pE.exports=function(e){var r=this;if(typeof r!="function"||Xq.call(r)!==Qq)throw new TypeError(zq+r);for(var n=sf.call(arguments,1),s,i=function(){if(this instanceof s){var c=r.apply(this,n.concat(sf.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(sf.call(arguments)))},a=Math.max(0,r.length-n.length),o=[],u=0;u<a;u++)o.push("$"+u);if(s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,s.prototype=new l,l.prototype=null}return s}});var ja=h((UB,yE)=>{"use strict";var Jq=gE();yE.exports=Function.prototype.bind||Jq});var vE=h((GB,mE)=>{"use strict";var Zq=ja();mE.exports=Zq.call(Function.call,Object.prototype.hasOwnProperty)});var Ua=h((WB,RE)=>{"use strict";var Z,An=SyntaxError,_E=Function,Sn=TypeError,af=function(t){try{return _E('"use strict"; return ('+t+").constructor;")()}catch{}},Ir=Object.getOwnPropertyDescriptor;if(Ir)try{Ir({},"")}catch{Ir=null}var of=function(){throw new Sn},eI=Ir?function(){try{return arguments.callee,of}catch{try{return Ir(arguments,"callee").get}catch{return of}}}():of,wn=hE()(),Jt=Object.getPrototypeOf||function(t){return t.__proto__},xn={},tI=typeof Uint8Array=="undefined"?Z:Jt(Uint8Array),Pn={"%AggregateError%":typeof AggregateError=="undefined"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":wn?Jt([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":xn,"%AsyncGenerator%":xn,"%AsyncGeneratorFunction%":xn,"%AsyncIteratorPrototype%":xn,"%Atomics%":typeof Atomics=="undefined"?Z:Atomics,"%BigInt%":typeof BigInt=="undefined"?Z:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Z:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Z:FinalizationRegistry,"%Function%":_E,"%GeneratorFunction%":xn,"%Int8Array%":typeof Int8Array=="undefined"?Z:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Z:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wn?Jt(Jt([][Symbol.iterator]())):Z,"%JSON%":typeof JSON=="object"?JSON:Z,"%Map%":typeof Map=="undefined"?Z:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!wn?Z:Jt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Z:Promise,"%Proxy%":typeof Proxy=="undefined"?Z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Z:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!wn?Z:Jt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wn?Jt(""[Symbol.iterator]()):Z,"%Symbol%":wn?Symbol:Z,"%SyntaxError%":An,"%ThrowTypeError%":eI,"%TypedArray%":tI,"%TypeError%":Sn,"%Uint8Array%":typeof Uint8Array=="undefined"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Z:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Z:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Z:WeakSet},rI=function t(e){var r;if(e==="%AsyncFunction%")r=af("async function () {}");else if(e==="%GeneratorFunction%")r=af("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=af("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&(r=Jt(s.prototype))}return Pn[e]=r,r},bE={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Bs=ja(),Ba=vE(),nI=Bs.call(Function.call,Array.prototype.concat),sI=Bs.call(Function.apply,Array.prototype.splice),EE=Bs.call(Function.call,String.prototype.replace),Va=Bs.call(Function.call,String.prototype.slice),iI=Bs.call(Function.call,RegExp.prototype.exec),aI=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oI=/\\(\\)?/g,uI=function(e){var r=Va(e,0,1),n=Va(e,-1);if(r==="%"&&n!=="%")throw new An("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new An("invalid intrinsic syntax, expected opening `%`");var s=[];return EE(e,aI,function(i,a,o,u){s[s.length]=o?EE(u,oI,"$1"):a||i}),s},lI=function(e,r){var n=e,s;if(Ba(bE,n)&&(s=bE[n],n="%"+s[0]+"%"),Ba(Pn,n)){var i=Pn[n];if(i===xn&&(i=rI(n)),typeof i=="undefined"&&!r)throw new Sn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new An("intrinsic "+e+" does not exist!")};RE.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Sn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sn('"allowMissing" argument must be a boolean');if(iI(/^%?[^%]*%?$/g,e)===null)throw new An("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uI(e),s=n.length>0?n[0]:"",i=lI("%"+s+"%",r),a=i.name,o=i.value,u=!1,l=i.alias;l&&(s=l[0],sI(n,nI([0,1],l)));for(var c=1,d=!0;c<n.length;c+=1){var f=n[c],p=Va(f,0,1),g=Va(f,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new An("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(u=!0),s+="."+f,a="%"+s+"%",Ba(Pn,a))o=Pn[a];else if(o!=null){if(!(f in o)){if(!r)throw new Sn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ir&&c+1>=n.length){var y=Ir(o,f);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?o=y.get:o=o[f]}else d=Ba(o,f),o=o[f];d&&!u&&(Pn[a]=o)}}return o}});var CE=h((KB,Ga)=>{"use strict";var uf=ja(),Cn=Ua(),AE=Cn("%Function.prototype.apply%"),SE=Cn("%Function.prototype.call%"),wE=Cn("%Reflect.apply%",!0)||uf.call(SE,AE),xE=Cn("%Object.getOwnPropertyDescriptor%",!0),kr=Cn("%Object.defineProperty%",!0),cI=Cn("%Math.max%");if(kr)try{kr({},"a",{value:1})}catch{kr=null}Ga.exports=function(e){var r=wE(uf,SE,arguments);if(xE&&kr){var n=xE(r,"length");n.configurable&&kr(r,"length",{value:1+cI(0,e.length-(arguments.length-1))})}return r};var PE=function(){return wE(uf,AE,arguments)};kr?kr(Ga.exports,"apply",{value:PE}):Ga.exports.apply=PE});var HE=h((YB,NE)=>{"use strict";var TE=Ua(),OE=CE(),fI=OE(TE("String.prototype.indexOf"));NE.exports=function(e,r){var n=TE(e,!!r);return typeof n=="function"&&fI(e,".prototype.")>-1?OE(n):n}});var ME=h((zB,LE)=>{LE.exports=require("util").inspect});var JE=h((XB,QE)=>{var lf=typeof Map=="function"&&Map.prototype,cf=Object.getOwnPropertyDescriptor&&lf?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wa=lf&&cf&&typeof cf.get=="function"?cf.get:null,dI=lf&&Map.prototype.forEach,ff=typeof Set=="function"&&Set.prototype,df=Object.getOwnPropertyDescriptor&&ff?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ka=ff&&df&&typeof df.get=="function"?df.get:null,hI=ff&&Set.prototype.forEach,pI=typeof WeakMap=="function"&&WeakMap.prototype,Vs=pI?WeakMap.prototype.has:null,gI=typeof WeakSet=="function"&&WeakSet.prototype,Us=gI?WeakSet.prototype.has:null,yI=typeof WeakRef=="function"&&WeakRef.prototype,qE=yI?WeakRef.prototype.deref:null,mI=Boolean.prototype.valueOf,vI=Object.prototype.toString,_I=Function.prototype.toString,bI=String.prototype.match,hf=String.prototype.slice,Zt=String.prototype.replace,EI=String.prototype.toUpperCase,IE=String.prototype.toLowerCase,kE=RegExp.prototype.test,DE=Array.prototype.concat,gt=Array.prototype.join,RI=Array.prototype.slice,$E=Math.floor,pf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gf=Object.getOwnPropertySymbols,yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ie=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Tn?"object":"symbol")?Symbol.toStringTag:null,FE=Object.prototype.propertyIsEnumerable,jE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function BE(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||kE.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-$E(-t):$E(t);if(n!==t){var s=String(n),i=hf.call(e,s.length+1);return Zt.call(s,r,"$&_")+"."+Zt.call(Zt.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zt.call(e,r,"$&_")}var mf=ME(),VE=mf.custom,UE=KE(VE)?VE:null;QE.exports=function t(e,r,n,s){var i=r||{};if(er(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(er(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=er(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(er(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(er(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=i.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zE(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return o?BE(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return o?BE(e,l):l}var c=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=c&&c>0&&typeof e=="object")return vf(e)?"[Array]":"[Object]";var d=FI(i,n);if(typeof s=="undefined")s=[];else if(YE(s,e)>=0)return"[Circular]";function f(R,N,v){if(N&&(s=RI.call(s),s.push(N)),v){var m={depth:i.depth};return er(i,"quoteStyle")&&(m.quoteStyle=i.quoteStyle),t(R,m,n+1,s)}return t(R,i,n+1,s)}if(typeof e=="function"&&!WE(e)){var p=NI(e),g=Ya(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+gt.call(g,", ")+" }":"")}if(KE(e)){var y=Tn?Zt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):yf.call(e);return typeof e=="object"&&!Tn?Gs(y):y}if(kI(e)){for(var _="<"+IE.call(String(e.nodeName)),E=e.attributes||[],L=0;L<E.length;L++)_+=" "+E[L].name+"="+GE(AI(E[L].value),"double",i);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+IE.call(String(e.nodeName))+">",_}if(vf(e)){if(e.length===0)return"[]";var B=Ya(e,f);return d&&!$I(B)?"["+bf(B,d)+"]":"[ "+gt.call(B,", ")+" ]"}if(wI(e)){var $=Ya(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!FE.call(e,"cause")?"{ ["+String(e)+"] "+gt.call(DE.call("[cause]: "+f(e.cause),$),", ")+" }":$.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+gt.call($,", ")+" }"}if(typeof e=="object"&&a){if(UE&&typeof e[UE]=="function"&&mf)return mf(e,{depth:c-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(HI(e)){var k=[];return dI.call(e,function(R,N){k.push(f(N,e,!0)+" => "+f(R,e))}),XE("Map",Wa.call(e),k,d)}if(qI(e)){var V=[];return hI.call(e,function(R){V.push(f(R,e))}),XE("Set",Ka.call(e),V,d)}if(LI(e))return _f("WeakMap");if(II(e))return _f("WeakSet");if(MI(e))return _f("WeakRef");if(PI(e))return Gs(f(Number(e)));if(TI(e))return Gs(f(pf.call(e)));if(CI(e))return Gs(mI.call(e));if(xI(e))return Gs(f(String(e)));if(!SI(e)&&!WE(e)){var M=Ya(e,f),T=jE?jE(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",Q=!T&&Ie&&Object(e)===e&&Ie in e?hf.call(tr(e),8,-1):U?"Object":"",w=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",A=w+(Q||U?"["+gt.call(DE.call([],Q||[],U||[]),": ")+"] ":"");return M.length===0?A+"{}":d?A+"{"+bf(M,d)+"}":A+"{ "+gt.call(M,", ")+" }"}return String(e)};function GE(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function AI(t){return Zt.call(String(t),/"/g,"&quot;")}function vf(t){return tr(t)==="[object Array]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function SI(t){return tr(t)==="[object Date]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function WE(t){return tr(t)==="[object RegExp]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function wI(t){return tr(t)==="[object Error]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function xI(t){return tr(t)==="[object String]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function PI(t){return tr(t)==="[object Number]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function CI(t){return tr(t)==="[object Boolean]"&&(!Ie||!(typeof t=="object"&&Ie in t))}function KE(t){if(Tn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!yf)return!1;try{return yf.call(t),!0}catch{}return!1}function TI(t){if(!t||typeof t!="object"||!pf)return!1;try{return pf.call(t),!0}catch{}return!1}var OI=Object.prototype.hasOwnProperty||function(t){return t in this};function er(t,e){return OI.call(t,e)}function tr(t){return vI.call(t)}function NI(t){if(t.name)return t.name;var e=bI.call(_I.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function YE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function HI(t){if(!Wa||!t||typeof t!="object")return!1;try{Wa.call(t);try{Ka.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function LI(t){if(!Vs||!t||typeof t!="object")return!1;try{Vs.call(t,Vs);try{Us.call(t,Us)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function MI(t){if(!qE||!t||typeof t!="object")return!1;try{return qE.call(t),!0}catch{}return!1}function qI(t){if(!Ka||!t||typeof t!="object")return!1;try{Ka.call(t);try{Wa.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function II(t){if(!Us||!t||typeof t!="object")return!1;try{Us.call(t,Us);try{Vs.call(t,Vs)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function kI(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function zE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return zE(hf.call(t,0,e.maxStringLength),e)+n}var s=Zt.call(Zt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,DI);return GE(s,"single",e)}function DI(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+EI.call(e.toString(16))}function Gs(t){return"Object("+t+")"}function _f(t){return t+" { ? }"}function XE(t,e,r,n){var s=n?bf(r,n):gt.call(r,", ");return t+" ("+e+") {"+s+"}"}function $I(t){for(var e=0;e<t.length;e++)if(YE(t[e],`
`)>=0)return!1;return!0}function FI(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=gt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:gt.call(Array(e+1),r)}}function bf(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+gt.call(t,","+r)+`
`+e.prev}function Ya(t,e){var r=vf(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=er(t,s)?e(t[s],t):""}var i=typeof gf=="function"?gf(t):[],a;if(Tn){a={};for(var o=0;o<i.length;o++)a["$"+i[o]]=i[o]}for(var u in t)!er(t,u)||r&&String(Number(u))===u&&u<t.length||Tn&&a["$"+u]instanceof Symbol||(kE.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof gf=="function")for(var l=0;l<i.length;l++)FE.call(t,i[l])&&n.push("["+e(i[l])+"]: "+e(t[i[l]],t));return n}});var eR=h((QB,ZE)=>{"use strict";var Ef=Ua(),On=HE(),jI=JE(),BI=Ef("%TypeError%"),za=Ef("%WeakMap%",!0),Xa=Ef("%Map%",!0),VI=On("WeakMap.prototype.get",!0),UI=On("WeakMap.prototype.set",!0),GI=On("WeakMap.prototype.has",!0),WI=On("Map.prototype.get",!0),KI=On("Map.prototype.set",!0),YI=On("Map.prototype.has",!0),Rf=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},zI=function(t,e){var r=Rf(t,e);return r&&r.value},XI=function(t,e,r){var n=Rf(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},QI=function(t,e){return!!Rf(t,e)};ZE.exports=function(){var e,r,n,s={assert:function(i){if(!s.has(i))throw new BI("Side channel does not contain "+jI(i))},get:function(i){if(za&&i&&(typeof i=="object"||typeof i=="function")){if(e)return VI(e,i)}else if(Xa){if(r)return WI(r,i)}else if(n)return zI(n,i)},has:function(i){if(za&&i&&(typeof i=="object"||typeof i=="function")){if(e)return GI(e,i)}else if(Xa){if(r)return YI(r,i)}else if(n)return QI(n,i);return!1},set:function(i,a){za&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new za),UI(e,i,a)):Xa?(r||(r=new Xa),KI(r,i,a)):(n||(n={key:{},next:null}),XI(n,i,a))}};return s}});var Qa=h((JB,tR)=>{"use strict";var JI=String.prototype.replace,ZI=/%20/g,Af={RFC1738:"RFC1738",RFC3986:"RFC3986"};tR.exports={default:Af.RFC3986,formatters:{RFC1738:function(t){return JI.call(t,ZI,"+")},RFC3986:function(t){return String(t)}},RFC1738:Af.RFC1738,RFC3986:Af.RFC3986}});var wf=h((ZB,nR)=>{"use strict";var ek=Qa(),Sf=Object.prototype.hasOwnProperty,Dr=Array.isArray,yt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),tk=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Dr(n)){for(var s=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&s.push(n[i]);r.obj[r.prop]=s}}},rR=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]!="undefined"&&(n[s]=e[s]);return n},rk=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Dr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Sf.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return Dr(e)&&!Dr(r)&&(s=rR(e,n)),Dr(e)&&Dr(r)?(r.forEach(function(i,a){if(Sf.call(e,a)){var o=e[a];o&&typeof o=="object"&&i&&typeof i=="object"?e[a]=t(o,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var o=r[a];return Sf.call(i,a)?i[a]=t(i[a],o,n):i[a]=o,i},s)},nk=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},sk=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ik=function(e,r,n,s,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var o="",u=0;u<a.length;++u){var l=a.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===ek.RFC1738&&(l===40||l===41)){o+=a.charAt(u);continue}if(l<128){o=o+yt[l];continue}if(l<2048){o=o+(yt[192|l>>6]+yt[128|l&63]);continue}if(l<55296||l>=57344){o=o+(yt[224|l>>12]+yt[128|l>>6&63]+yt[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|a.charCodeAt(u)&1023),o+=yt[240|l>>18]+yt[128|l>>12&63]+yt[128|l>>6&63]+yt[128|l&63]}return o},ak=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var i=r[s],a=i.obj[i.prop],o=Object.keys(a),u=0;u<o.length;++u){var l=o[u],c=a[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:a,prop:l}),n.push(c))}return tk(r),e},ok=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},uk=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},lk=function(e,r){return[].concat(e,r)},ck=function(e,r){if(Dr(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)};nR.exports={arrayToObject:rR,assign:nk,combine:lk,compact:ak,decode:sk,encode:ik,isBuffer:uk,isRegExp:ok,maybeMap:ck,merge:rk}});var lR=h((eV,uR)=>{"use strict";var sR=eR(),xf=wf(),Ws=Qa(),fk=Object.prototype.hasOwnProperty,iR={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Mt=Array.isArray,dk=String.prototype.split,hk=Array.prototype.push,aR=function(t,e){hk.apply(t,Mt(e)?e:[e])},pk=Date.prototype.toISOString,oR=Ws.default,Oe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:xf.encode,encodeValuesOnly:!1,format:oR,formatter:Ws.formatters[oR],indices:!1,serializeDate:function(e){return pk.call(e)},skipNulls:!1,strictNullHandling:!1},gk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pf={},yk=function t(e,r,n,s,i,a,o,u,l,c,d,f,p,g,y,_){for(var E=e,L=_,B=0,$=!1;(L=L.get(Pf))!==void 0&&!$;){var k=L.get(e);if(B+=1,typeof k!="undefined"){if(k===B)throw new RangeError("Cyclic object value");$=!0}typeof L.get(Pf)=="undefined"&&(B=0)}if(typeof u=="function"?E=u(r,E):E instanceof Date?E=d(E):n==="comma"&&Mt(E)&&(E=xf.maybeMap(E,function(S){return S instanceof Date?d(S):S})),E===null){if(i)return o&&!g?o(r,Oe.encoder,y,"key",f):r;E=""}if(gk(E)||xf.isBuffer(E)){if(o){var V=g?r:o(r,Oe.encoder,y,"key",f);if(n==="comma"&&g){for(var M=dk.call(String(E),","),T="",U=0;U<M.length;++U)T+=(U===0?"":",")+p(o(M[U],Oe.encoder,y,"value",f));return[p(V)+(s&&Mt(E)&&M.length===1?"[]":"")+"="+T]}return[p(V)+"="+p(o(E,Oe.encoder,y,"value",f))]}return[p(r)+"="+p(String(E))]}var Q=[];if(typeof E=="undefined")return Q;var w;if(n==="comma"&&Mt(E))w=[{value:E.length>0?E.join(",")||null:void 0}];else if(Mt(u))w=u;else{var A=Object.keys(E);w=l?A.sort(l):A}for(var R=s&&Mt(E)&&E.length===1?r+"[]":r,N=0;N<w.length;++N){var v=w[N],m=typeof v=="object"&&typeof v.value!="undefined"?v.value:E[v];if(!(a&&m===null)){var J=Mt(E)?typeof n=="function"?n(R,v):R:R+(c?"."+v:"["+v+"]");_.set(e,B);var b=sR();b.set(Pf,_),aR(Q,t(m,J,n,s,i,a,o,u,l,c,d,f,p,g,y,b))}}return Q},mk=function(e){if(!e)return Oe;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Oe.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ws.default;if(typeof e.format!="undefined"){if(!fk.call(Ws.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=Ws.formatters[n],i=Oe.filter;return(typeof e.filter=="function"||Mt(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Oe.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?Oe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Oe.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?Oe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Oe.encode,encoder:typeof e.encoder=="function"?e.encoder:Oe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Oe.encodeValuesOnly,filter:i,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Oe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Oe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Oe.strictNullHandling}};uR.exports=function(t,e){var r=t,n=mk(e),s,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Mt(n.filter)&&(i=n.filter,s=i);var a=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in iR?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var u=iR[o];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var c=sR(),d=0;d<s.length;++d){var f=s[d];n.skipNulls&&r[f]===null||aR(a,yk(r[f],f,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=a.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""}});var dR=h((tV,fR)=>{"use strict";var Nn=wf(),Cf=Object.prototype.hasOwnProperty,vk=Array.isArray,Pe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Nn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_k=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},cR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bk="utf8=%26%2310003%3B",Ek="utf8=%E2%9C%93",Rk=function(e,r){var n={},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=s.split(r.delimiter,i),o=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===Ek?l="utf-8":a[u]===bk&&(l="iso-8859-1"),o=u,u=a.length);for(u=0;u<a.length;++u)if(u!==o){var c=a[u],d=c.indexOf("]="),f=d===-1?c.indexOf("="):d+1,p,g;f===-1?(p=r.decoder(c,Pe.decoder,l,"key"),g=r.strictNullHandling?null:""):(p=r.decoder(c.slice(0,f),Pe.decoder,l,"key"),g=Nn.maybeMap(cR(c.slice(f+1),r),function(y){return r.decoder(y,Pe.decoder,l,"value")})),g&&r.interpretNumericEntities&&l==="iso-8859-1"&&(g=_k(g)),c.indexOf("[]=")>-1&&(g=vk(g)?[g]:g),Cf.call(n,p)?n[p]=Nn.combine(n[p],g):n[p]=g}return n},Ak=function(t,e,r,n){for(var s=n?e:cR(e,r),i=t.length-1;i>=0;--i){var a,o=t[i];if(o==="[]"&&r.parseArrays)a=[].concat(s);else{a=r.plainObjects?Object.create(null):{};var u=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,l=parseInt(u,10);!r.parseArrays&&u===""?a={0:s}:!isNaN(l)&&o!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[],a[l]=s):u!=="__proto__"&&(a[u]=s)}s=a}return s},Sk=function(e,r,n,s){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,u=n.depth>0&&a.exec(i),l=u?i.slice(0,u.index):i,c=[];if(l){if(!n.plainObjects&&Cf.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var d=0;n.depth>0&&(u=o.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Cf.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),Ak(c,r,n,s)}},wk=function(e){if(!e)return Pe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?Pe.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?Pe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Pe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Pe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Pe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Pe.comma,decoder:typeof e.decoder=="function"?e.decoder:Pe.decoder,delimiter:typeof e.delimiter=="string"||Nn.isRegExp(e.delimiter)?e.delimiter:Pe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Pe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Pe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Pe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Pe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pe.strictNullHandling}};fR.exports=function(t,e){var r=wk(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Rk(t,r):t,s=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var o=i[a],u=Sk(o,n[o],r,typeof t=="string");s=Nn.merge(s,u,r)}return r.allowSparse===!0?s:Nn.compact(s)}});var pR=h((rV,hR)=>{"use strict";var xk=lR(),Pk=dR(),Ck=Qa();hR.exports={formats:Ck,parse:Pk,stringify:xk}});var Of=h(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var Tk=ot();Tf.nonWebpackRequire=Tk.default});var Nf=h((sV,gR)=>{var Ok=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};gR.exports=Ok});var Hf=h((iV,yR)=>{var Nk="2.0.0",Hk=256,Lk=Number.MAX_SAFE_INTEGER||9007199254740991,Mk=16;yR.exports={SEMVER_SPEC_VERSION:Nk,MAX_LENGTH:Hk,MAX_SAFE_INTEGER:Lk,MAX_SAFE_COMPONENT_LENGTH:Mk}});var vR=h((rr,mR)=>{var{MAX_SAFE_COMPONENT_LENGTH:Lf}=Hf(),qk=Nf();rr=mR.exports={};var Ik=rr.re=[],q=rr.src=[],I=rr.t={},kk=0,z=(t,e,r)=>{let n=kk++;qk(t,n,e),I[t]=n,q[n]=e,Ik[n]=new RegExp(e,r?"g":void 0)};z("NUMERICIDENTIFIER","0|[1-9]\\d*");z("NUMERICIDENTIFIERLOOSE","[0-9]+");z("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");z("MAINVERSION",`(${q[I.NUMERICIDENTIFIER]})\\.(${q[I.NUMERICIDENTIFIER]})\\.(${q[I.NUMERICIDENTIFIER]})`);z("MAINVERSIONLOOSE",`(${q[I.NUMERICIDENTIFIERLOOSE]})\\.(${q[I.NUMERICIDENTIFIERLOOSE]})\\.(${q[I.NUMERICIDENTIFIERLOOSE]})`);z("PRERELEASEIDENTIFIER",`(?:${q[I.NUMERICIDENTIFIER]}|${q[I.NONNUMERICIDENTIFIER]})`);z("PRERELEASEIDENTIFIERLOOSE",`(?:${q[I.NUMERICIDENTIFIERLOOSE]}|${q[I.NONNUMERICIDENTIFIER]})`);z("PRERELEASE",`(?:-(${q[I.PRERELEASEIDENTIFIER]}(?:\\.${q[I.PRERELEASEIDENTIFIER]})*))`);z("PRERELEASELOOSE",`(?:-?(${q[I.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${q[I.PRERELEASEIDENTIFIERLOOSE]})*))`);z("BUILDIDENTIFIER","[0-9A-Za-z-]+");z("BUILD",`(?:\\+(${q[I.BUILDIDENTIFIER]}(?:\\.${q[I.BUILDIDENTIFIER]})*))`);z("FULLPLAIN",`v?${q[I.MAINVERSION]}${q[I.PRERELEASE]}?${q[I.BUILD]}?`);z("FULL",`^${q[I.FULLPLAIN]}$`);z("LOOSEPLAIN",`[v=\\s]*${q[I.MAINVERSIONLOOSE]}${q[I.PRERELEASELOOSE]}?${q[I.BUILD]}?`);z("LOOSE",`^${q[I.LOOSEPLAIN]}$`);z("GTLT","((?:<|>)?=?)");z("XRANGEIDENTIFIERLOOSE",`${q[I.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);z("XRANGEIDENTIFIER",`${q[I.NUMERICIDENTIFIER]}|x|X|\\*`);z("XRANGEPLAIN",`[v=\\s]*(${q[I.XRANGEIDENTIFIER]})(?:\\.(${q[I.XRANGEIDENTIFIER]})(?:\\.(${q[I.XRANGEIDENTIFIER]})(?:${q[I.PRERELEASE]})?${q[I.BUILD]}?)?)?`);z("XRANGEPLAINLOOSE",`[v=\\s]*(${q[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${q[I.XRANGEIDENTIFIERLOOSE]})(?:${q[I.PRERELEASELOOSE]})?${q[I.BUILD]}?)?)?`);z("XRANGE",`^${q[I.GTLT]}\\s*${q[I.XRANGEPLAIN]}$`);z("XRANGELOOSE",`^${q[I.GTLT]}\\s*${q[I.XRANGEPLAINLOOSE]}$`);z("COERCE",`(^|[^\\d])(\\d{1,${Lf}})(?:\\.(\\d{1,${Lf}}))?(?:\\.(\\d{1,${Lf}}))?(?:$|[^\\d])`);z("COERCERTL",q[I.COERCE],!0);z("LONETILDE","(?:~>?)");z("TILDETRIM",`(\\s*)${q[I.LONETILDE]}\\s+`,!0);rr.tildeTrimReplace="$1~";z("TILDE",`^${q[I.LONETILDE]}${q[I.XRANGEPLAIN]}$`);z("TILDELOOSE",`^${q[I.LONETILDE]}${q[I.XRANGEPLAINLOOSE]}$`);z("LONECARET","(?:\\^)");z("CARETTRIM",`(\\s*)${q[I.LONECARET]}\\s+`,!0);rr.caretTrimReplace="$1^";z("CARET",`^${q[I.LONECARET]}${q[I.XRANGEPLAIN]}$`);z("CARETLOOSE",`^${q[I.LONECARET]}${q[I.XRANGEPLAINLOOSE]}$`);z("COMPARATORLOOSE",`^${q[I.GTLT]}\\s*(${q[I.LOOSEPLAIN]})$|^$`);z("COMPARATOR",`^${q[I.GTLT]}\\s*(${q[I.FULLPLAIN]})$|^$`);z("COMPARATORTRIM",`(\\s*)${q[I.GTLT]}\\s*(${q[I.LOOSEPLAIN]}|${q[I.XRANGEPLAIN]})`,!0);rr.comparatorTrimReplace="$1$2$3";z("HYPHENRANGE",`^\\s*(${q[I.XRANGEPLAIN]})\\s+-\\s+(${q[I.XRANGEPLAIN]})\\s*$`);z("HYPHENRANGELOOSE",`^\\s*(${q[I.XRANGEPLAINLOOSE]})\\s+-\\s+(${q[I.XRANGEPLAINLOOSE]})\\s*$`);z("STAR","(<|>)?=?\\s*\\*");z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var bR=h((aV,_R)=>{var Dk=["includePrerelease","loose","rtl"],$k=t=>t?typeof t!="object"?{loose:!0}:Dk.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};_R.exports=$k});var SR=h((oV,AR)=>{var ER=/^[0-9]+$/,RR=(t,e)=>{let r=ER.test(t),n=ER.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Fk=(t,e)=>RR(e,t);AR.exports={compareIdentifiers:RR,rcompareIdentifiers:Fk}});var TR=h((uV,CR)=>{var Ja=Nf(),{MAX_LENGTH:wR,MAX_SAFE_INTEGER:Za}=Hf(),{re:xR,t:PR}=vR(),jk=bR(),{compareIdentifiers:Hn}=SR(),Ze=class{constructor(e,r){if(r=jk(r),e instanceof Ze){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>wR)throw new TypeError(`version is longer than ${wR} characters`);Ja("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?xR[PR.LOOSE]:xR[PR.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Za||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Za||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Za||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Za)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ja("SemVer.compare",this.version,this.options,e),!(e instanceof Ze)){if(typeof e=="string"&&e===this.version)return 0;e=new Ze(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ze||(e=new Ze(e,this.options)),Hn(this.major,e.major)||Hn(this.minor,e.minor)||Hn(this.patch,e.patch)}comparePre(e){if(e instanceof Ze||(e=new Ze(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(Ja("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Hn(n,s)}while(++r)}compareBuild(e){e instanceof Ze||(e=new Ze(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(Ja("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Hn(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Hn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};CR.exports=Ze});var NR=h((lV,OR)=>{var Bk=TR(),Vk=(t,e)=>new Bk(t,e).major;OR.exports=Vk});var LR=h((cV,HR)=>{"use strict";HR.exports=function(){return/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?/}});var qR=h((fV,MR)=>{"use strict";var Uk=LR();MR.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e=Uk().exec(t);if(e)return e[0]}});var qf=h(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});function Gk(t,...e){if(t!==null&&typeof t=="object"){let r=t.code;for(let n of e)if(r===n)return}throw t}Mf.default=Gk});var kR=h((hV,IR)=>{"use strict";function Wk(t,e){for(let r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}IR.exports=function(t){return!!t.env.NODE_PRESERVE_SYMLINKS||Wk(t.execArgv,"--preserve-symlinks")}});var VR=h((kf,BR)=>{"use strict";var Kk=kf&&kf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ks=require("fs"),it=require("path"),Yk=qR(),DR=Kk(qf()),zk=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,Xk=kR(),$R=Xk(process);function If(t,e){if(t.has(e))return t.get(e);let r=null;try{let n=Ks.statSync(e);(n.isFile()||n.isFIFO())&&($R?r=e:r=Ks.realpathSync(e))}catch(n){(0,DR.default)(n,"ENOENT")}return t.set(e,r),r}function FR(t,e){if(t.has(e))return t.get(e);let r=null;try{Ks.statSync(e).isDirectory()&&($R?r=e:r=Ks.realpathSync(e))}catch(n){(0,DR.default)(n,"ENOENT","ENOTDIR")}return t.set(e,r),r}function jR(t,e,r){let n=Yk(r),s=r;for(;s!==n;){let i=it.basename(s).toLowerCase()==="node_modules",a=it.join(s,i?"":"node_modules",e),o=If(t,a);if(o)return o;i&&(s=it.dirname(s)),s=it.dirname(s)}return null}function Qk(t,e){let r,n=e,s,i=null;do{if(t.has(n)){i=t.get(n);break}if(s=it.join(n,"package.json"),Ks.existsSync(s)){i=s;break}r=n,n=it.dirname(n)}while(n!==r);return t.set(e,i),i}function Ys(t,e,r){if(typeof e!="string"||e.length===0)throw new TypeError("resolvePackagePath: 'name' must be a non-zero-length string.");let n=r||__dirname,s=it.resolve(n);for(;FR(t.REAL_DIRECTORY_PATH,s)===null;)s=it.dirname(s);if(!s){let i=new TypeError("resolvePackagePath: 'dir' or one of the parent directories in its path must refer to a valid directory.");throw i.code="MODULE_NOT_FOUND",i}if(zk.test(e)){let i=it.resolve(s,e);return If(t.REAL_FILE_PATH,it.join(i,"package.json"))}else return jR(t.REAL_FILE_PATH,it.join(e,"package.json"),s)}Ys._findPackagePath=jR;Ys._findUpPackagePath=Qk;Ys._getRealFilePath=If;Ys._getRealDirectoryPath=FR;BR.exports=Ys});var Df=h((gV,UR)=>{"use strict";function Jk(){let t=Object.create(null);return t._cache=1,delete t._cache,t}UR.exports=class{constructor(){this._store=Jk()}set(e,r){return this._store[e]=r}get(e){return this._store[e]}has(e){return e in this._store}delete(e){delete this._store[e]}get size(){return Object.keys(this._store).length}}});var WR=h((mV,GR)=>{"use strict";var eo=Df();GR.exports=class{constructor(){this.MODULE_ENTRY=new eo,this.PATH=new eo,this.REAL_FILE_PATH=new eo,this.REAL_DIRECTORY_PATH=new eo,Object.freeze(this)}}});var YR=h((Uf,KR)=>{"use strict";var $f=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ff=$f(require("path")),to=$f(VR()),Zk=$f(qf()),eD=["MODULE_NOT_FOUND","UNDECLARED_DEPENDENCY","MISSING_PEER_DEPENDENCY","MISSING_DEPENDENCY"],jf=WR(),Bf=Df(),tD=to.default._getRealFilePath,rD=to.default._getRealDirectoryPath,nD=to.default._findUpPackagePath,zs=new jf,ro=new Bf,Vf;try{Vf=require("pnpapi")}catch{}function sD(t,e){let r;e==null||e===!0?r=ro:e===!1?r=new Bf:r=e;let n=Ff.default.resolve(t);return nD(r,n)}function nr(t,e,r){let n;r==null||r===!0?n=zs:r===!1?n=new jf:n=r,e.charAt(e.length-1)!==Ff.default.sep&&(e=`${e}${Ff.default.sep}`);let s=t+"\0"+e,i;if(n.PATH.has(s))i=n.PATH.get(s);else{try{i=Vf?Vf.resolveToUnqualified(t+"/package.json",e):(0,to.default)(n,t,e)}catch(a){(0,Zk.default)(a,...eD),i=null}n.PATH.set(s,i)}return i}nr._resetCache=function(){zs=new jf,ro=new Bf};(function(t){t._FIND_UP_CACHE=ro,t.findUpPackagePath=sD})(nr||(nr={}));Object.defineProperty(nr,"_CACHE",{get:function(){return zs}});Object.defineProperty(nr,"_FIND_UP_CACHE",{get:function(){return ro}});nr.getRealFilePath=function(t){return tD(zs.REAL_FILE_PATH,t)};nr.getRealDirectoryPath=function(t){return rD(zs.REAL_DIRECTORY_PATH,t)};KR.exports=nr});var Gf=h((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var major_1=__importDefault(NR()),resolve_package_path_1=__importDefault(YR());function getNextMajorVersion(){let packagePath=resolve_package_path_1.default("next",process.cwd());return packagePath?major_1.default(eval("require")(packagePath).version):null}var memoized;exports.getServerBuildAvailability=({config:t})=>{if(memoized)return memoized;let e=getNextMajorVersion(),r=Boolean(e&&e>=12),n=r&&t.target==="server";return r&&!n&&(console.warn("`@layer0/next` will utilize the `server` target by default in future versions."),console.warn("Opt in early by setting `target: server` in your `next.config.js` file."),console.warn("More information: https://docs.layer0.co/guides/next#section_next_js_version_12_and_next_js_middleware__beta_")),memoized={serverBuildAvailable:r,useServerBuild:n},{serverBuildAvailable:r,useServerBuild:n}}});var Kf=h(Ln=>{"use strict";var Wf=Ln&&Ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ln,"__esModule",{value:!0});var iD=Wf(uE()),aD=be(),oD=tf(),uD=Wf(pR()),lD=Wf(vi()),cD=Of(),fD=require("path"),dD=qt(),hD=Gf(),zR=!1;function pD(t,e,r,n={rewritePath:!0}){if(!dD.isCloud()&&!zR){let s=cD.nonWebpackRequire(fD.join(process.cwd(),"next.config.js")),{useServerBuild:i}=hD.getServerBuildAvailability({config:s});if(i)throw new Error("The use of `renderNextPage` is retired for use with a server target build. Use `renderWithApp()` instead.\nMore information: https://docs.layer0.co/guides/next#section_next_js_version_12_and_next_js_middleware__beta_");zR=!0}return XR(t,e,r,n)}Ln.renderNextPage=pD;async function XR(t,e,r,n={rewritePath:!0}){let{request:s,proxy:i,updateUpstreamResponseHeader:a}=e;await i(aD.BACKENDS.js,{headers:{"x-next-page":t},path:()=>{let{query:o}=s;typeof r=="function"?r=r(s.params,s):r||(r=s.params),o=H(H({},o),r);let u=uD.default.stringify(o);return u.length&&(u=`?${u}`),`${n.rewritePath?gD(s,t,r):s.path}${u}`},transformResponse:iD.default}),a("cache-control",/(,\s*\bprivate\b\s*)|(^\s*private,\s*)/g,"")}Ln.default=XR;function gD(t,e,r){let n=oD.toRouteSyntax(e);return t.path&&t.path.startsWith("/_next/data/")&&(n=`/_next/data/:__build__/${n.replace(/^\//,"")}.json`),lD.default(n,r)}});var QR=h(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.FAR_FUTURE_TTL=60*60*24*365*10});var JR=h(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});var yD=Of();function mD(t,e){return yD.nonWebpackRequire("chokidar").watch(t,e)}zf.default=mD});var rA=h(Mn=>{"use strict";var $r=Mn&&Mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});var Xs=be(),mt=qt(),et=tf(),ZR=require("fs"),vD=$r(iE()),no=$r(ot()),at=require("path"),_D=$r(oE()),bD=$r(Kf()),so=QR(),ED=$r(JR()),RD=$r(jr()),AD=$r(It()),SD=Gf(),wD={browser:{maxAgeSeconds:so.FAR_FUTURE_TTL},edge:{maxAgeSeconds:so.FAR_FUTURE_TTL}},xD={edge:{maxAgeSeconds:so.FAR_FUTURE_TTL}},PD="NextRoutes",Fr=(t,e)=>bD.default(t,e,r=>r,{rewritePath:!1}),eA=class extends _D.default{constructor(e="."){super();this.nextRouteGroupName="next_routes_group",this.type=PD,this.nextRootDir=e,this.pagesDirRelative="pages",this.pagesDir=at.join(process.cwd(),this.nextRootDir,this.pagesDirRelative),this.distDir=vD.default(),this.renderMode="serverless";try{let r=no.default(at.join(process.cwd(),"next.config.js")),{useServerBuild:n}=SD.getServerBuildAvailability({config:r});this.renderMode=n?"server":"serverless"}catch{}ZR.existsSync(this.pagesDir)||(this.pagesDirRelative=at.join("src","pages"),this.pagesDir=at.join(process.cwd(),this.nextRootDir,this.pagesDirRelative)),mt.isProductionBuild()||mt.isCloud()?this.loadRewrites():this.loadRewritesInDev().then(()=>{(this.rewrites||this.redirects)&&this.updateRoutes()})}loadRewrites(){let e=process.env.NEXT_ROUTES_MANIFEST_PATH||at.join(process.cwd(),this.distDir,"routes-manifest.json");this.routesManifest=no.default(e);let{rewrites:r,redirects:n}=this.routesManifest;this.rewrites=r,this.redirects=n}getPagesManifest(){return no.default(at.join(process.cwd(),this.distDir,this.renderMode,"pages-manifest.json"))}getPrerenderManifest(){return no.default(at.join(process.cwd(),this.distDir,"prerender-manifest.json"))}async loadRewritesInDev(){let e=global.LAYER0_NEXT_APP,r=e.nextConfig;if(r||(r=await e.loadConfig()),!r)return;let n=r.rewrites;n&&(this.rewrites=await n());let s=r.redirects;s&&(this.redirects=await s())}onRegister(e){this.router=e,this.router.group(this.nextRouteGroupName,r=>this.addNextRoutesToGroup(r)),this.router.fallback(r=>this._render404(r)),mt.isProductionBuild()||ED.default(this.pagesDir).on("all",()=>this.updateRoutes())}updateRoutes(){var e,r,n;let s=(n=(r=(e=this.router)===null||e===void 0?void 0:e.routeGroups)===null||r===void 0?void 0:r.findByName(this.nextRouteGroupName))===null||n===void 0?void 0:n.clear();this.addNextRoutesToGroup(s)}addNextRoutesToGroup(e){var r,n,s;this.addRedirects(e),this.addRewrites((r=this.rewrites)===null||r===void 0?void 0:r.beforeFiles,e),this.addAssets(e),this.addImageOptimizerRoutes(e),this.addRewrites((n=this.rewrites)===null||n===void 0?void 0:n.afterFiles,e),mt.isProductionBuild()?(this.addMiddlewareManifest(e),this.addPagesInProd(e),this.addPrerendering()):this.addPagesInDev(e);let i=((s=this.rewrites)===null||s===void 0?void 0:s.fallback)||this.rewrites;Array.isArray(i)&&this.addRewrites(i,e)}addMiddlewareManifest(e){e.match("/_next/server/:file*",({serveStatic:r,cache:n})=>{n({edge:{maxAgeSeconds:so.FAR_FUTURE_TTL}}),r(`${this.distDir}/server/:file*`)})}createRouteCriteria(e,r){let n=e.replace(/\/:nextInternalLocale[^/]+/,"");if(r){let s={},i={},a={};for(let o of r){if(typeof o.value=="string"&&o.value.match(/\(\?<[^>]+>/))throw new Error("Layer0 does not yet support capturing named parameters in `has` elements of `rewrites` or `redirects` in next.config.js.");o.type==="header"?s[o.key]=o.value?new RegExp(o.value):/.*/:o.type==="host"?s.host=new RegExp(o.value):o.type==="cookie"?i[o.key]=o.value?new RegExp(o.value):/.*/:o.type==="query"?a[o.key]=o.value?new RegExp(o.value):/.*/:console.warn(`Warning: has.type ${o.type} is not supported by Layer0`)}return{path:n,headers:Object.keys(s).length?s:void 0,cookies:Object.keys(i).length?i:void 0,query:Object.keys(a).length?a:void 0}}else return n}addRewrite(e,r,n,s){let i=s.replace(/\/:nextInternalLocale[^/]*/,"");if(this.defaultLocale&&(i=i.replace(/:locale/,this.defaultLocale)),mt.isProductionBuild()&&console.debug(`[rewrite] ${r} => ${i}`),s.match(/^https?:\/\//)){let a=new URL(s),o=this.backendForDestination(a);o?e.match(this.createRouteCriteria(r,n),({proxy:u})=>{u(o,{path:a.pathname})}):console.warn(`No matching backend was found in layer0.config.js for rewrite to ${a.toString()}. To fix this problem, add key to the backends config with the following value: { "domainOrIp": "${a.hostname}" }. See https://docs.layer0.co/guides/layer0_config#section_backends for more information.`)}else e.match(this.createRouteCriteria(r,n),a=>{let o=e.routes.find(u=>u.match({path:i}));o?(a.rewrite(s,o.criteria.path),o.handler(a)):console.warn(`No matching route found for rewrite ${r} => ${s}`)})}backendForDestination(e){let r=AD.default.get("backends",{}),n=Object.entries(r).find(([s,i])=>i.domainOrIp===e.hostname);if(n)return n[0]}addRewrites(e,r){if(e)for(let{source:n,destination:s,has:i}of e)this.addRewrite(r,n,i,s)}addRedirects(e){if(this.redirects)for(let{source:r,has:n,statusCode:s,destination:i}of this.redirects)r!=="/:path+/"&&e.match(this.createRouteCriteria(r,n),({redirect:a})=>{a(i,{statusCode:s||302})})}addPagesInDev(e){let r=n=>n.proxy(Xs.BACKENDS.js);e.dir(this.pagesDirRelative,{ignore:["_*"],paths:n=>{let s=et.toRouteSyntax(n);return s.endsWith("/")&&(s+="index"),[`/_next/data/:build${s}.json`]},handler:()=>r}),e.dir(this.pagesDirRelative,{ignore:["_*"],paths:n=>[et.toRouteSyntax(n)],handler:()=>r})}addPagesInProd(e){var r,n;let{routesManifest:s}=this,i=this.getPagesManifest(),a=this.getPrerenderManifest(),o=(r=s.i18n)===null||r===void 0?void 0:r.locales;this.defaultLocale=(n=s.i18n)===null||n===void 0?void 0:n.defaultLocale;let u=new Set(s.dataRoutes.map(p=>p.page)),l=(p,g,y)=>{console.debug(`[${p}]`,g),e.match(g,y)},c=p=>o&&new RegExp(`^/(${o.join("|")})(/|$)`).test(p),d=(o==null?void 0:o.length)>0;console.debug(`Next.js routes (locales: ${(o==null?void 0:o.join(", "))||"none"})`),console.debug("--------------");let f=tA(Object.keys(i),s);for(let p of f){let g=et.toRouteSyntax(p),y=this.isPrerendered(a,i,p);if(p.startsWith("/api"))l("api",g,_=>Fr(p.slice(1),_));else if(!(c(p)&&!p.startsWith(`/${this.defaultLocale}`)))if(y){let _=a.dynamicRoutes[p],E=c(g)?this.removeLocale(g):g,L=c(p)?this.removeLocale(p):p,B=_?` (\u03BB${_.fallback?" w/fallback":""})`:"";u.has(p)&&l(`SSG ${B}json`,`/_next/data/:__build__${et.localize(o,et.toRouteSyntax(E,{suffix:"json"}))}`,this.createSSGHandler(L,{dataRoute:!0,localize:d,dynamicRouteConfig:_})),l(`SSG ${B}html`,et.localize(o,et.toRouteSyntax(E)),this.createSSGHandler(L,{localize:d,dynamicRouteConfig:_}))}else u.has(p)&&l("SSR json",`/_next/data/:__build__${et.localize(o,et.toRouteSyntax(p,{suffix:"json"}))}`,this.createSSRHandler(p)),l("SSR html",et.localize(o,et.toRouteSyntax(p)),this.createSSRHandler(p))}}isPrerendered(e,r,n){let s=r[n],i=at.join(this.distDir,this.renderMode,"pages",`${n}.html`),a=(this.defaultLocale?`/${this.defaultLocale}`:"")+`${n}`.replace(/\/$/,"");return s.endsWith(".html")||e.routes[a]!=null||e.dynamicRoutes[n]!=null||ZR.existsSync(i)}removeLocale(e){let[r,n,...s]=e.split("/");return"/"+s.join("/")}addPrerendering(){let{routes:e}=this.getPrerenderManifest(),r=[];for(let s in e){let i=e[s];r.push({path:s}),r.push({path:i.dataRoute})}this.router.prerender(r)}createSSRHandler(e){return r=>Fr(e.slice(1),r)}createSSGHandler(e,{dataRoute:r,localize:n,dynamicRouteConfig:s}){return i=>{let a=r?"json":"html",o=`${this.distDir}/${this.renderMode}/pages${n?"/:locale":""}`,u=this.getPrerenderManifest();if(s){let l=et.toRouteSyntax(e,{suffix:a}).replace(/\/\.(json|html)$/,".$1"),c=`${o}${l}`,{fallback:d}=s,f=!r&&d?`${o}${d}`:void 0;i.serveStatic(c,{loadingPage:f,onNotFound:()=>{let p=u.routes[i.request.path];return d!==!1||p||r?Fr(e,i):this._render404(i)}})}else{let l=`${RD.default(at.join(o,e))}`;l.endsWith("/")&&(l+="index"),i.serveStatic(`${l}.${a}`,{onNotFound:()=>Fr(e,i)})}}}async render404(e){if(this.renderMode==="server")throw new Error("The use of `NextRoutes.render404` is retired for use with a server target build.\nMore information: https://docs.layer0.co/guides/next#section_next_js_version_12_and_next_js_middleware__beta_");await this._render404(e)}async _render404(e){if(mt.isCloud()){if(this.renderMode==="server")return Fr("",e);{let r=this.getPagesManifest(),n=r["/404"]||r[`/${this.defaultLocale}/404`],s=`${this.distDir}/${this.renderMode}/pages${this.defaultLocale?"/:locale":""}`;n&&n.endsWith(".html")?await e.serveStatic(`${s}/404.html`,{statusCode:404,statusMessage:"Not Found"}):(e.response.statusCode=404,e.response.statusMessage="Not Found",await Fr("404",e))}}else return Fr("404",e)}addAssets(e){e.static(at.join(this.nextRootDir,"public"),{handler:n=>s=>s.cache(xD)}),mt.isCloud()||e.match("/_next/webpack-hmr",({stream:n})=>n("__js__"));let r=({proxy:n,serveStatic:s,cache:i})=>{mt.isCloud()||mt.isProductionBuild()?(i(wD),s(`${this.distDir}/static/:path*`,{permanent:!0,exclude:[at.join(this.distDir,"static","service-worker.js")]})):n(Xs.BACKENDS.js)};e.match("/_next/static/:path*",r),e.match("/autostatic/:path*",r)}addImageOptimizerRoutes(e){e.match("/_next/image",({proxy:r})=>{let n=mt.isProductionBuild(),s=n?Xs.BACKENDS.imageOptimizer:Xs.BACKENDS.js,i=n?{path:Xs.LAYER0_IMAGE_OPTIMIZER_PATH}:void 0;r(s,i)})}};Mn.default=eA;function tA(t,e){let r=a=>e.dynamicRoutes.find(o=>o.page===a),n=a=>e.dynamicRoutes.findIndex(o=>o.page===a),s=[],i=[];for(let a of t)r(a)?i.push(a):s.push(a);return i.sort((a,o)=>n(a)-n(o)),s.concat(i)}Mn.sortRoutes=tA});var nA=h(qn=>{"use strict";var CD=qn&&qn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qn,"__esModule",{value:!0});var TD=CD(rA());qn.nextRoutes=new TD.default;var OD=Kf();qn.renderNextPage=OD.renderNextPage});var sA=h(io=>{"use strict";function ND(t){for(var e in t)io.hasOwnProperty(e)||(io[e]=t[e])}Object.defineProperty(io,"__esModule",{value:!0});ND(nA())});var{Router:HD}=Zc(),{nextRoutes:LD}=sA();module.exports=new HD().match("/service-worker.js",({serviceWorker:t})=>t(".next/static/service-worker.js")).match("/(.*)",({cache:t})=>{t({edge:{maxAgeSeconds:60*60,staleWhileRevalidateSeconds:60*60*24}})}).use(LD);
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, res, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */
/*!
 * Array of passes.
 *
 * A `pass` is just a function that is executed on `req, socket, options`
 * so that you can easily add new checks while still keeping the base
 * flexible.
 */
/*!
 * Caron dimonio, con occhi di bragia
 * loro accennando, tutte le raccoglie;
 * batte col remo qualunque sadagia 
 *
 * Charon the demon, with the eyes of glede,
 * Beckoning to them, collects them all together,
 * Beats with his oar whoever lags behind
 *          
 *          Dante - The Divine Comedy (Canto III)
 */
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * path-root <https://github.com/jonschlinkert/path-root>
 *
 * Copyright (c) 2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * path-root-regex <https://github.com/jonschlinkert/path-root-regex>
 *
 * Copyright (c) 2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=routes.js.map
